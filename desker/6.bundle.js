(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{341:function(t,e,o){"use strict";o.d(e,"b",function(){return d}),o.d(e,"c",function(){return f}),o.d(e,"a",function(){return p}),o.d(e,"e",function(){return x}),o.d(e,"d",function(){return u}),o.d(e,"f",function(){return v});var n=o(350),r=o.n(n),a=o(351),i=o.n(a),s=o(361),l=o.n(s),c=(o(363),o(364),o(342)),p=l.a,d=l.a.initializeApp({apiKey:"AIzaSyDlbJuDxwDbUEU60cQFa1EFBDgsuCuCUq4",authDomain:"desker-github.firebaseapp.com",databaseURL:"https://desker-github.firebaseio.com",projectId:"desker-github",storageBucket:"",messagingSenderId:"66093677129"}),u=l.a.firestore();u.settings({cacheSizeBytes:l.a.firestore.CACHE_SIZE_UNLIMITED}),u.enablePersistence();var f=u.collection("desker").doc(c.a);d.auth;function x(t){return b.apply(this,arguments)}function b(){return(b=i()(r.a.mark(function t(e){var o;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get();case 2:return o=t.sent,t.abrupt("return",o.docs.map(function(t){return Object.assign({__id:t.id},t.data())}));case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function v(){return f.collection("users").doc(Object(c.c)().uid)}},342:function(t,e,o){"use strict";o.d(e,"a",function(){return n}),o.d(e,"b",function(){return r}),o.d(e,"c",function(){return a});var n;o(341);function r(){return function(t,e){for(var o="",n=0;n<e;n++){o+=t[Math.floor(Math.random()*t.length)]}return o}("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",9)}function a(){var t=JSON.parse(sessionStorage.getItem("u"));return null===t?"":t}n=document.URL.includes("http://localhost:")?"dev":"pro"},346:function(t,e,o){var n=o(366);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,o(340).default)("1f7f39ca",n,!0,{})},347:function(t,e,o){var n=o(368);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,o(340).default)("55514284",n,!0,{})},365:function(t,e,o){"use strict";var n=o(346);o.n(n).a},366:function(t,e,o){(t.exports=o(339)(!1)).push([t.i,'.textboxWrapper.lessMargin .textbox[data-v-301fdb59]{margin:20px;margin-left:auto;margin-right:auto}.textboxWrapper .helpertext[data-v-301fdb59]{font-family:"Roboto",sans-serif;padding:0px 32px;font-size:12px;margin-top:4px;color:rgba(92,92,92,0.8);width:87%}.textboxWrapper .helpertext.ml[data-v-301fdb59]{margin-top:-26px;text-align:right}.textboxWrapper.err .textbox[data-v-301fdb59]{border-color:#b00020}.textboxWrapper.err .textbox.f[data-v-301fdb59]{border-color:#b00020}.textboxWrapper.err .textbox .label[data-v-301fdb59]{color:#b00020}.textboxWrapper.err .textbox .label.c[data-v-301fdb59]{color:#b00020}.textboxWrapper.err .helpertext[data-v-301fdb59]{color:#b00020}.textboxWrapper .textbox[data-v-301fdb59]{position:relative;height:32px;width:90%;border:2px solid #5c5c5c;border-radius:5px;margin:32px 0px;margin-left:8px;padding:2px 0px}.textboxWrapper .textbox.f[data-v-301fdb59]{border:2px solid #5c5c5c}.textboxWrapper .textbox.mb[data-v-301fdb59]{margin-bottom:0px}.textboxWrapper .textbox.textarea[data-v-301fdb59]{height:212px;resize:none}.textboxWrapper .textbox.textarea p.label[data-v-301fdb59]{top:6px;transform:translateY(0)}.textboxWrapper .textbox p.label[data-v-301fdb59]{margin:0;padding:0px 0px;display:inline-block;position:absolute;z-index:1;top:50%;left:8px;transform:translateY(-50%);font-family:"Roboto",sans-serif;font-size:20px;transition:100ms cubic-bezier(0.4, 0, 0.2, 1) all;cursor:text}.textboxWrapper .textbox p.label.c[data-v-301fdb59]{top:-4%;font-size:12px;color:#5c5c5c;cursor:default}.textboxWrapper .textbox p.label span[data-v-301fdb59]{display:inline-block;background-color:white;padding:0px 4px;border-radius:2px}.textboxWrapper .textbox input[data-v-301fdb59],.textboxWrapper .textbox select[data-v-301fdb59]{position:absolute;border:0;outline:0;padding:0px 8px;width:calc(99% - 16px);padding:0px 0px;top:50%;left:50%;transform:translate(-50%, -50%);font-size:20px;font-family:"Roboto",sans-serif}.textboxWrapper .textbox textarea[data-v-301fdb59]{position:absolute;border:0;outline:0;padding:0px 8px;width:calc(99% - 16px);padding:0px 0px;resize:none;top:6px;left:50%;transform:translateX(-50%);font-size:20px;font-family:"Roboto",sans-serif;height:200px}\n',""])},367:function(t,e,o){"use strict";var n=o(347);o.n(n).a},368:function(t,e,o){(t.exports=o(339)(!1)).push([t.i,".btn[data-v-25898d91]{background-color:#212121;box-shadow:0 3px 1px -2px rgba(0,0,0,0.2),0 2px 2px 0 rgba(0,0,0,0.14),0 1px 5px 0 rgba(0,0,0,0.12);border:0;border-radius:5px;padding:0px 16px;height:36px;color:#ffffff;font-family:'Roboto', sans-serif;font-size:14px;outline:0;cursor:pointer;font-weight:500;letter-spacing:1.25px;margin-left:8px;text-transform:uppercase;position:relative}.btn.icon[data-v-25898d91]{font-size:24px;background-color:transparent;box-shadow:0 0 0 0 rgba(0,0,0,0.2),0 0 0 0 rgba(0,0,0,0.14),0 0 0 0 rgba(0,0,0,0.12);color:secondaryColor;padding:4px 8px}.btn.icon[data-v-25898d91]:hover{background-color:rgba(33,33,33,0.2)}.btn.icon .material-icons[data-v-25898d91]{font-size:20px}.btn[data-v-25898d91]:hover{background-color:rgba(33,33,33,0.8)}.btn[data-v-25898d91]:disabled{color:rgba(0,0,0,0.6) !important}.btn[data-v-25898d91]:disabled:hover{background-color:transparent}.btn.d[data-v-25898d91]{background-color:transparent;box-shadow:none;color:#212121}.btn.d[data-v-25898d91]:hover{background-color:rgba(33,33,33,0.1)}\n",""])},370:function(t,e,o){"use strict";var n={props:["label","val","vname","type","maxlength","helpertext","value"],data:function(){return{v:"",n:"",focus:!1,t:"text",ht:"",ml:1e7,validateFn:function(){}}},watch:{val:function(){this.v!==this.val&&(this.v=this.val)}},methods:{i:function(){this.v=this.$refs.n.value,"number"===this.type&&(this.v=Number(this.v)),this.$emit("input",this.v)},f:function(){this.focus=!0,this.$refs.n.focus()},b:function(){""===this.v&&(this.focus=!1)}},created:function(){void 0!==this.value&&(this.v=this.value,""!==this.v&&(this.focus=!0)),void 0===this.vname?this.n=this.label:this.n=this.vname,void 0!==this.type&&(this.t=this.type),void 0!==this.helpertext&&(this.ht=this.helpertext),void 0!==this.maxlength&&(this.ml=Number(this.maxlength))}},r=(o(365),o(95)),a=Object(r.a)(n,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"textboxWrapper",class:{err:e.v.length>e.ml}},[o("div",{staticClass:"textbox",class:{f:e.focus,textarea:"textarea"===e.type,mb:""!==e.ht},on:{click:function(t){return e.f()}}},[o("p",{staticClass:"label",class:{c:e.focus}},[o("span",[e._v(e._s(e.label))])]),e._v(" "),"textarea"!==e.t&&"select"!==e.t?o("input",{ref:"n",attrs:{type:e.t},domProps:{value:e.value},on:{focus:function(t){return e.f()},blur:function(t){return e.b()},input:function(t){return e.i()}}}):e._e(),e._v(" "),"textarea"===e.t?o("textarea",{ref:"n",domProps:{value:e.value},on:{focus:function(t){return e.f()},blur:function(t){return e.b()},input:function(t){return e.i()}}}):e._e(),e._v(" "),"select"===e.t?o("select",{ref:"n",domProps:{value:e.value},on:{input:function(t){return e.i()},focus:function(t){return e.f()},blur:function(t){return e.b()}}},[e._t("default")],2):e._e()]),e._v(" "),0<e.ht.length?o("p",{staticClass:"helpertext"},[e._v(e._s(e.ht))]):e._e(),e._v(" "),1e7!==e.ml?o("p",{staticClass:"helpertext ml"},[e._v(e._s(e.ml-e.v.length)+"/"+e._s(e.ml))]):e._e()])},[],!1,null,"301fdb59",null);e.a=a.exports},371:function(t,e,o){"use strict";o(367);var n=o(95),r=Object(n.a)({},function(){var e=this,t=e.$createElement;return(e._self._c||t)("button",{staticClass:"btn",on:{click:function(t){return e.$emit("click")}}},[e._t("default")],2)},[],!1,null,"25898d91",null);e.a=r.exports},418:function(t,e,o){var n=o(534);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,o(340).default)("985e5156",n,!0,{})},533:function(t,e,o){"use strict";var n=o(418);o.n(n).a},534:function(t,e,o){(t.exports=o(339)(!1)).push([t.i,'.view h1.title{margin:50px 0px;padding:0px 64px;font-family:"Roboto",sans-serif;font-size:40px}.view.bugreporting{height:calc(100% + 50px)}.view.bugreporting .left{height:100%;width:30%;float:left;background-color:#fff}.view.bugreporting .right{height:100%;width:70%;float:left}.view.bugreporting .btns{margin-left:56px}.formEditor{height:calc(100% - 50px);width:100%;padding-top:50px;overflow-y:auto}.formEditor .lane{display:inline-block;width:70%;position:relative;left:50%;transform:translateX(-50%)}.formEditor .lane .formPage{background-color:#fff;padding:16px;border-radius:5px;margin:16px 0px;background-color:#fff;-webkit-box-shadow:0px 5px 10px 0px #e0e0e0;-moz-box-shadow:0px 5px 10px 0px #e0e0e0;box-shadow:0px 5px 10px 0px #e0e0e0}.formEditor .lane .formPage .formPageHeader{font-family:"Roboto",sans-serif;margin-top:0;color:rgba(0,0,0,0.3)}.formEditor .lane .formPage.add{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;border:2px solid rgba(0,0,0,0.3);cursor:pointer;background-color:transparent}.formEditor .lane .formPage.add h1{color:rgba(0,0,0,0.3);text-align:center;width:100%;margin:0;font-size:48px}.formEditor .lane .formPage .formElement{width:calc(100% - 32px);padding:16px;border-radius:5px;margin:8px 0px;background-color:#fff;-webkit-box-shadow:0px 5px 10px 0px #e0e0e0;-moz-box-shadow:0px 5px 10px 0px #e0e0e0;box-shadow:0px 5px 10px 0px #e0e0e0}.formEditor .lane .formPage .formElement .textbox{width:calc(100% - 24px);margin:16px 0px;margin-left:8px}.formEditor .lane .formPage .formElement .textboxWrapper.elementSelect .textbox{margin:0px;margin-left:8px}\n',""])},543:function(t,e,o){"use strict";o.r(e);var n=o(360),r=o.n(n),a=o(371),i=o(370),s=o(531),l=o.n(s),c=o(342),p=o(341);var d={components:{btn:a.a,draggable:l.a,textbox:i.a},data:function(){return{edit:!1,form:{pages:[]}}},methods:{addElement:function(t){t.elements.push({id:Object(c.b)(),type:"header",content:{header:"",paragraph:"",shortQuestion:"",longQuestion:"",value:""}})},addPage:function(){this.form.pages.push({id:Object(c.b)(),elements:[]})},saveForm:function(){var t=this;p.c.collection("projects").doc(this.$route.params.prjid).collection("apps").doc("bugreporting").collection("public").doc("form").set(function(e){for(var t=1;t<arguments.length;t++)if(t%2){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),n.forEach(function(t){r()(e,t,o[t])})}else Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t]));return e}({},this.form,{lastModified:Date.now(),version:Object(c.b)()})).then(function(){t.edit=!1})},removePage:function(t){this.form.pages.splice(this.form.pages.indexOf(t),1)},removeElement:function(t,e){t.elements.splice(t.elements.indexOf(e),1)},openUrl:function(){this.$router.push("/p/r/".concat(this.$route.params.prjid))}},created:function(){var e=this;p.c.collection("projects").doc(this.$route.params.prjid).collection("apps").doc("bugreporting").collection("public").doc("form").get().then(function(t){t&&t.exists&&(e.form.pages=t.data().pages)})}},u=(o(533),o(95)),f=Object(u.a)(d,function(){var n=this,t=n.$createElement,r=n._self._c||t;return r("div",{staticClass:"view bugreporting"},[r("div",{staticClass:"left"},[!1===n.edit?r("div",[r("h1",{staticClass:"title"},[n._v("Bug reporting")]),n._v(" "),r("div",{staticClass:"btns"},[r("btn",{on:{click:function(t){n.edit=!0}}},[n._v("Edit")]),n._v(" "),r("btn",{staticClass:"d",on:{click:function(t){return n.openUrl()}}},[n._v("get url")])],1)]):r("div",[r("h1",{staticClass:"title"},[n._v("Editing")]),n._v(" "),r("div",{staticClass:"btns"},[r("btn",{on:{click:function(t){return n.saveForm()}}},[n._v("Save")]),n._v(" "),r("btn",{staticClass:"d",on:{click:function(t){n.edit=!1}}},[n._v("Discard")])],1)])]),n._v(" "),r("div",{staticClass:"right"},[!1===n.edit?r("div"):r("div",{staticClass:"formEditor"},[r("div",{staticClass:"lane"},[r("draggable",{attrs:{group:"pages"},model:{value:n.form.pages,callback:function(t){n.$set(n.form,"pages",t)},expression:"form.pages"}},[n._l(n.form.pages,function(o,t){return r("div",{key:o.id,staticClass:"formPage"},[r("p",{staticClass:"formPageHeader"},[n._v("Page "+n._s(t+1))]),n._v(" "),r("draggable",{attrs:{group:"elements"},model:{value:o.elements,callback:function(t){n.$set(o,"elements",t)},expression:"page.elements"}},n._l(o.elements,function(e){return r("div",{key:e.id,staticClass:"formElement"},[r("textbox",{staticClass:"elementSelect",attrs:{type:"select",label:"Type"},model:{value:e.type,callback:function(t){n.$set(e,"type",t)},expression:"element.type"}},[r("option",[n._v("header")]),n._v(" "),r("option",[n._v("paragraph")]),n._v(" "),r("option",[n._v("short question")]),n._v(" "),r("option",[n._v("long question")])]),n._v(" "),"header"===e.type?r("textbox",{attrs:{label:"Text"},model:{value:e.content.header,callback:function(t){n.$set(e.content,"header",t)},expression:"element.content.header"}}):n._e(),n._v(" "),"paragraph"===e.type?r("div",[r("textbox",{attrs:{label:"Text",type:"textarea"},model:{value:e.content.paragraph,callback:function(t){n.$set(e.content,"paragraph",t)},expression:"element.content.paragraph"}})],1):n._e(),n._v(" "),"short question"===e.type?r("textbox",{attrs:{label:"Question"},model:{value:e.content.shortQuestion,callback:function(t){n.$set(e.content,"shortQuestion",t)},expression:"element.content.shortQuestion"}}):n._e(),n._v(" "),"long question"===e.type?r("textbox",{attrs:{label:"Question"},model:{value:e.content.longQuestion,callback:function(t){n.$set(e.content,"longQuestion",t)},expression:"element.content.longQuestion"}}):n._e(),n._v(" "),r("div",{staticStyle:{width:"100%"}},[r("btn",{staticClass:"d",on:{click:function(t){return n.removeElement(o,e)}}},[n._v("remove element")])],1)],1)}),0),n._v(" "),r("div",{staticStyle:{width:"100%"}},[r("btn",{staticClass:"d",on:{click:function(t){return n.addElement(o)}}},[n._v("add element")]),n._v(" "),r("btn",{staticClass:"d",on:{click:function(t){return n.removePage(o)}}},[n._v("remove page")])],1)],1)}),n._v(" "),r("div",{staticClass:"formPage add",on:{click:function(t){return n.addPage()}}},[r("h1",{staticClass:"material-icons"},[n._v("add")])])],2)],1)])])])},[],!1,null,null,null);e.default=f.exports}}]);