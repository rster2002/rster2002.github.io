(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0bbda64b"],{1399:function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("page",{staticClass:"collection"},[t("div",{staticClass:"grid"},[t("div",{staticClass:"cardGrid",on:{scroll:e.loadMoreDynamicly}},e._l(e.loadedCards,(function(a){return t("div",{key:"mtg-"+a.id,staticClass:"mtgCard",class:{selected:a.id===e.loadedCard.id},on:{mouseover:function(t){return e.peekCardEnter(a)},mouseleave:function(a){return e.peekCardLeave()},click:function(t){return e.openCard(a)}}},[t("img",{attrs:{src:a.image_uris.normal}}),t("h2",[e._v(e._s(a.name))]),t("h3",[e._v("x"+e._s(a.MagicManager.count))])])})),0),t("div",{staticClass:"sideInfo"},[t("card",{staticClass:"generalInfo"},[t("h1",[e._v("Your collection")]),t("p",[e._v("You own a total of "+e._s(e.totalCards)+" cards")])]),e.showCard?t("card",{staticClass:"detailedInfo"},[e.showPeekCard?t("cardDetails",{attrs:{card:e.peekCard,showCollectionControlls:!0}}):e._e(),e.showPeekCard?e._e():t("cardDetails",{attrs:{card:e.loadedCard,showCollectionControlls:!0}})],1):e._e(),t("card",{staticClass:"cardList"},[t("textBox",{attrs:{label:"Search collection"},model:{value:e.query,callback:function(a){e.query=a},expression:"query"}}),e._l(e.cards,(function(a){return t("dropDown",{key:a.id,attrs:{label:e.cardName(a)}},[t("cardDetails",{attrs:{card:a,showCollectionControlls:!0}})],1)}))],2),t("card",{staticClass:"backup"},[t("button",{on:{click:function(a){return e.backupFirestore()}}},[e._v("Backup collection online")])])],1)]),t("snackbar",{attrs:{name:"notLoggedIn"}},[e._v(" You are not logged in ")]),t("snackbar",{attrs:{name:"backupDone"}},[e._v(" Backup was successful ")]),t("snackbar",{attrs:{name:"backupFail"}},[e._v(" Backup was unsuccessful ")])],1)},c=[],n=(t("a4d3"),t("99af"),t("4de4"),t("4160"),t("d81d"),t("13d5"),t("a434"),t("b0c0"),t("e439"),t("dbb4"),t("b64b"),t("159b"),t("284c")),o=t("2fa7"),s=(t("5c33"),t("e1a0")),d=t("d8ba"),i=t("0ee1"),l=t("8ffc");function u(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function b(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?u(t,!0).forEach((function(a){Object(o["a"])(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var p={components:{page:d["j"],card:d["b"],textBox:d["m"],dropDown:d["d"],cardDetails:i["a"],snackbar:d["l"]},data:function(){return{query:"",cards:[],loadedCards:[],loadedCard:{id:""},showPeekCard:!1,showCard:!1,peekCard:{},queryCards:"",exportJson:""}},computed:{totalCards:function(){if(this.cards.length>0){var e=this.cards.map((function(e){return e.MagicManager.count}));return e.reduce((function(e,a){return e+a}))}return 0}},methods:{cardName:function(e){return e.MagicManager.count>1?e.name+" (x".concat(e.MagicManager.count,")"):e.name},peekCardEnter:function(e){this.peekCard=Object.assign({},this.peekCard,b({},e,{trimmed:this.loadedCard.id!==e.id}))},peekCardLeave:function(){},openCard:function(e){var a=this;Object(s["d"])(e.id).then((function(e){a.loadedCard=Object.assign({},a.loadedCard,e),a.showCard=!0}))},backupFirestore:function(){Object(s["b"])().then((function(){return Object(d["k"])("snackbar:backupDone")})).catch((function(e){console.log(e),"auth/noUser"===e?Object(d["k"])("snackbar:notLoggedIn"):Object(d["k"])("snackbar:backupFail")}))},loadMoreDynamicly:function(e){var a=e.target,t=a.scrollTop,r=a.clientHeight,c=a.scrollHeight;console.log(t,r,c),t+r>=c-200&&this.loadCards()},loadCards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:25,a=this.cards.splice(0,e);a.length>0&&(this.loadedCards=[].concat(Object(n["a"])(this.loadedCards),Object(n["a"])(a)))}},created:function(){var e=this;this.cards=Object(s["c"])(),this.loadCards(),console.log(Object(s["c"])()),Object(l["a"])("collection").receive((function(a){e.cards=Object(s["c"])()}))}},f=p,C=(t("7809"),t("2877")),h=Object(C["a"])(f,r,c,!1,null,"340a9a38",null);a["default"]=h.exports},6481:function(e,a,t){},7809:function(e,a,t){"use strict";var r=t("6481"),c=t.n(r);c.a}}]);
//# sourceMappingURL=chunk-0bbda64b.d30c95c8.js.map