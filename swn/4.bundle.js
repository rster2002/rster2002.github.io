(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{381:function(t,i,a){var e=a(421);"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);(0,a(362).default)("84341c82",e,!1,{})},419:function(t,i){function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function e(i){return"function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?t.exports=e=function(t){return a(t)}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":a(t)},e(i)}t.exports=e},420:function(t,i,a){"use strict";var e=a(381);a.n(e).a},421:function(t,i,a){(t.exports=a(361)(!1)).push([t.i,".row[data-v-fec74656] {\n  width: 100%;\n  height: 78px;\n}\n.row .stat[data-v-fec74656] {\n  width: 33.3333333333%;\n  height: 100%;\n  float: left;\n}\n.row .stat .mod[data-v-fec74656] {\n  width: 100%;\n  height: 70%;\n}\n.row .stat .mod h1[data-v-fec74656] {\n  margin: 0;\n  font-family: 'Roboto', sans-serif;\n  padding: 0;\n  text-align: center;\n  position: relative;\n  top: 50%;\n  transform: translateY(-50%);\n}\n.row .stat .label[data-v-fec74656] {\n  width: 100%;\n  height: 30%;\n}\n.row .stat .label p[data-v-fec74656] {\n  width: 100%;\n  margin: 0;\n  font-family: 'Roboto', sans-serif;\n  padding: 0;\n  text-align: center;\n  font-size: 12px;\n  position: relative;\n  top: 50%;\n  transform: translateY(-50%);\n}\n",""])},429:function(t,i,a){"use strict";a.r(i);var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",[a("card",[t.m.edit?t._e():a("div",[a("primaryTitle",[a("h1",[t._v(t._s(t.c.name))])])],1),t._v(" "),t.m.edit?a("div",[a("textbox",{attrs:{val:t.c.name,label:"name"},on:{change:t.h}})],1):t._e()]),t._v(" "),a("card",[t.m.edit?t._e():a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"stat"},[a("div",{staticClass:"mod"},[a("h1",[t._v(t._s(t.mod(t.c.abilities.str)))])]),t._v(" "),a("div",{staticClass:"label"},[a("p",[t._v("Strength")])])]),t._v(" "),a("div",{staticClass:"stat"},[a("div",{staticClass:"mod"},[a("h1",[t._v(t._s(t.mod(t.c.abilities.dex)))])]),t._v(" "),a("div",{staticClass:"label"},[a("p",[t._v("Dexteriry")])])]),t._v(" "),a("div",{staticClass:"stat"},[a("div",{staticClass:"mod"},[a("h1",[t._v(t._s(t.mod(t.c.abilities.con)))])]),t._v(" "),a("div",{staticClass:"label"},[a("p",[t._v("Constitution")])])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"stat"},[a("div",{staticClass:"mod"},[a("h1",[t._v(t._s(t.mod(t.c.abilities.int)))])]),t._v(" "),a("div",{staticClass:"label"},[a("p",[t._v("Intelligence")])])]),t._v(" "),a("div",{staticClass:"stat"},[a("div",{staticClass:"mod"},[a("h1",[t._v(t._s(t.mod(t.c.abilities.wis)))])]),t._v(" "),a("div",{staticClass:"label"},[a("p",[t._v("Wisdom")])])]),t._v(" "),a("div",{staticClass:"stat"},[a("div",{staticClass:"mod"},[a("h1",[t._v(t._s(t.mod(t.c.abilities.cha)))])]),t._v(" "),a("div",{staticClass:"label"},[a("p",[t._v("Charisma")])])])])]),t._v(" "),t.m.edit?a("div",[a("textbox",{attrs:{label:"Strength",val:t.c.abilities.str,vname:"abilities.str",type:"number"},on:{change:t.h}}),t._v(" "),a("textbox",{attrs:{label:"Dexteriry",val:t.c.abilities.dex,vname:"abilities.dex",type:"number"},on:{change:t.h}}),t._v(" "),a("textbox",{attrs:{label:"Constitution",val:t.c.abilities.con,vname:"abilities.con",type:"number"},on:{change:t.h}}),t._v(" "),a("textbox",{attrs:{label:"Intelligence",val:t.c.abilities.int,vname:"abilities.int",type:"number"},on:{change:t.h}}),t._v(" "),a("textbox",{attrs:{label:"Wisdom",val:t.c.abilities.wis,vname:"abilities.wis",type:"number"},on:{change:t.h}}),t._v(" "),a("textbox",{attrs:{label:"Charisma",val:t.c.abilities.cha,vname:"abilities.cha",type:"number"},on:{change:t.h}})],1):t._e()]),t._v(" "),a("card",[a("actions",[t.m.allowEdit?a("button",{on:{click:function(i){return t.toggleEdit()}}},[a("span",{staticClass:"material-icons"},[t._v("edit")])]):t._e(),t._v(" "),t.m.edit?t._e():a("button",{on:{click:function(i){return t.save()}}},[a("span",{staticClass:"material-icons"},[t._v("save")])]),t._v(" "),t.m.allowEdit&&!t.m.edit?a("button",{on:{click:function(i){return t.del()}}},[a("span",{staticClass:"material-icons"},[t._v("delete")])]):t._e()])],1),t._v(" "),a("card",[a("primaryTitle",[a("h1",[t._v(t._s(t.info.ownerUid))]),t._v(" "),a("h2",[t._v(t._s(t.info.characterId))])])],1)],1)};e._withStripped=!0;var n=a(419),o=a.n(n),s=a(363),c=a(121),r=a(89);function l(t){var i=t.$route.params;console.log(i),t.info.ownerUid=i.ownerUid,t.info.characterId=i.characterId,Object(c.d)().uid===t.info.ownerUid&&(t.m.allowEdit=!0),r.c.collection("users/".concat(t.info.ownerUid,"/characters/").concat(t.info.characterId,"/d")).doc("data").get().then(function(i){if(console.log(i),i&&i.exists){var a=i.data();console.log(a),function t(i,a){Object.entries(a).forEach(function(a){"object"===o()(a[1])?t(i[a[0]],a[1]):i[a[0]]=a[1]})}(t.c,a)}else window.history.go(-2)})}var d={components:{card:s.f,primaryTitle:s.m,actions:s.a,textbox:s.n},data:function(){return{info:{ownerUid:"",characterId:""},m:{allowEdit:!1,edit:!1},c:{name:"",abilities:{str:0,dex:0,con:0,int:0,wis:0,cha:0}}}},methods:{save:function(){var t=this;t.m.allowEdit&&r.c.collection("users/".concat(t.info.ownerUid,"/characters/").concat(t.info.characterId,"/d")).doc("data").set(t.c).then(function(i){r.c.collection("users/".concat(t.info.ownerUid,"/characters")).doc(t.info.characterId).update({name:t.c.name})})},del:function(){var t=this;confirm("Are you sure you want do delete your character?")&&r.c.collection("users/".concat(t.info.ownerUid,"/characters/").concat(t.info.characterId,"/d")).doc("data").delete().then(function(i){r.c.collection("users/".concat(t.info.ownerUid,"/characters/")).doc(t.info.characterId).delete().then(function(i){t.$router.push({path:"/characters"})})})},toggleEdit:function(){this.m.edit=!this.m.edit},h:function(t){var i=t.key.split("."),a=i.pop(),e=this.c;i.forEach(function(t){e=e[t]}),console.log(e,t.value),e[a]=t.value},mod:function(t){return t<=3?"-2":t>=4&&t<=7?"-1":t>=8&&t<=13?"0":t>=14&&t<=17?"+1":t>=18?"+2":void 0}},watch:{$route:function(){l(this)}},created:function(){l(this)}},v=(a(420),a(120)),f=Object(v.a)(d,e,[],!1,null,"fec74656",null);f.options.__file="src/pages/character.vue";i.default=f.exports}}]);