(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{404:function(t,r,n){var e=n(494);"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);(0,n(363).default)("6927bb12",e,!0,{})},493:function(t,r,n){"use strict";var e=n(404);n.n(e).a},494:function(t,r,n){(t.exports=n(362)(!1)).push([t.i,".listItem {\n  padding: 8px 16px;\n  width: calc(100% - 32px);\n  border-bottom: 1px solid #ececec;\n}\n.listItem:first-child {\n  border-top: 1px solid #ececec;\n}\n.listItem h1 {\n  color: #000;\n  font-family: 'Roboto', sans-serif;\n  font-size: 16px;\n  font-weight: 900;\n  margin: 6px 0px;\n}\n.dropdownInd {\n  transform: translateY(4px) rotate(0deg);\n  transition: 200ms cubic-bezier(0.4, 0, 0.2, 1) transform;\n}\n.dropdownInd.d {\n  transform: translateY(4px) rotate(180deg);\n}\n.interactive {\n  cursor: pointer;\n}\n.characterSheetWrapper .cardGrid {\n  padding: 0;\n}\n.emptyWrapper {\n  background-color: #fff;\n  box-shadow: 0 2px 1px -1px rgba(0,0,0,0.2), 0 1px 1px 0 rgba(0,0,0,0.14), 0 1px 3px 0 rgba(0,0,0,0.12);\n  border-radius: 4px;\n}\n.emptyWrapper h1 {\n  font-family: 'Roboto', sans-serif;\n  color: rgba(0,0,0,0.3);\n  margin: 0;\n}\n@media only screen and (min-width: 1000px) {\n.characterSheetWrapper {\n    margin-right: -32px;\n}\n}\n",""])},511:function(t,r,n){"use strict";n.r(r);var e=n(90),a=n.n(e),i=n(365),o=n.n(i),c=n(122),s=n.n(c),p=n(366),d=n(89),h=n(121),l=n(498);function u(t){return m.apply(this,arguments)}function m(){return(m=s()(a.a.mark(function t(r){var n,e;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.e)(d.c.collection("groups/".concat(r.$route.params.groupid,"/users")));case 2:return n=(n=(n=t.sent).filter(function(t){return null!==t.character})).map(function(t){return o()({},t,{open:!1})}),(r.players=n).forEach(function(t){t.user.uid===Object(h.d)().uid&&null!==t.character&&r.openCharacter(t)}),t.next=9,Object(d.e)(d.c.collection("groups/".concat(r.$route.params.groupid,"/ships")));case 9:e=t.sent,r.ships=e.map(function(t){return o()({},t,{open:!1})});case 11:case"end":return t.stop()}},t)}))).apply(this,arguments)}var f={components:{card:p.f,primaryTitle:p.v,cardgrid:p.g,dropdownindicator:p.p,dropdowncontent:p.o,actions:p.a,characterSheet:l.default,empty:p.q,textbox:p.z},data:function(){return{players:[],ships:[],ship:{},loadedCharacter:{uid:"",character:""},showShip:{captain:!1,engineer:!1,scientist:!1,pilot:!1,weaponMaster:!1}}},watch:{$route:function(){u(this)}},methods:{openCharacter:function(t){this.loadedCharacter.uid=t.user.uid,this.loadedCharacter.character=t.character},newShip:function(){var t=this,r="ship-"+Object(h.b)(),n={name:"New ship",id:r,hull:"",open:!1};d.c.collection("groups/".concat(this.$route.params.groupid,"/ships")).doc(r).set(n).then(function(){t.ships.push(n)})},openShip:function(t){this.ship=Object.assign({},this.ship,t),this.showShip.captain=!0,this.showShip.engineer=!0,this.showShip.scientist=!0,this.showShip.pilot=!0,this.showShip.weaponMaster=!0},saveShip:function(){d.c.collection("groups/".concat(this.$route.params.groupid,"/ships")).doc(this.ship.id).update(this.ship)}},created:function(){u(this)}},v=(n(493),n(120)),w=Object(v.a)(f,function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",[e("cardgrid",[e("card",{staticStyle:{"grid-column":"11 / 13","grid-row":"1 / 2"},attrs:{d:""}},[e("primaryTitle",[e("h1",[n._v("Players")])]),n._v(" "),e("div",n._l(n.players,function(r){return e("div",{key:r.user.uid,staticClass:"listItem"},[e("h1",{staticClass:"interactive",on:{click:function(t){r.open=!r.open}}},[e("dropdownindicator",{attrs:{val:r.open}}),n._v(" "+n._s(r.user.username))],1),n._v(" "),e("dropdowncontent",{attrs:{show:r.open}},[e("actions",[e("button",{on:{click:function(t){return n.openCharacter(r)}}},[n._v("open character")])])],1)],1)}),0)],1),n._v(" "),e("div",{staticStyle:{"grid-column":"1 / 11","grid-row":"1 / 2"}},[""!==n.loadedCharacter.character?e("div",{staticClass:"characterSheetWrapper"},[e("characterSheet",{attrs:{userUid:n.loadedCharacter.uid,characterId:n.loadedCharacter.character}})],1):n._e(),n._v(" "),""===n.loadedCharacter.character?e("empty",{staticClass:"emptyWrapper"},[e("h1",[n._v("No character loaded")])]):n._e()],1),n._v(" "),e("card",{staticStyle:{"grid-column":"11 / 13","grid-row":"2 / 7"},attrs:{d:""}},[e("primaryTitle",[e("h1",[n._v("Ships")])]),n._v(" "),e("div",n._l(n.ships,function(r){return e("div",{key:r.id,staticClass:"listItem"},[e("h1",{staticClass:"interactive",on:{click:function(t){r.open=!r.open}}},[e("dropdownindicator",{attrs:{val:r.open}}),n._v(" "+n._s(r.name))],1),n._v(" "),e("dropdowncontent",{attrs:{show:r.open}},[e("actions",[e("button",{on:{click:function(t){return n.openShip(r)}}},[n._v("open character")])])],1)],1)}),0),n._v(" "),e("actions",[e("button",{staticClass:"primary",on:{click:function(t){return n.newShip()}}},[n._v("add ship")])])],1),n._v(" "),n.showShip.captain?e("card",{staticStyle:{"grid-column":"1 / 11","grid-row":"2 / 3"},attrs:{d:""}},[e("primaryTitle",[e("h1",[n._v("Captain")])]),n._v(" "),e("textbox",{attrs:{label:"Ship name"},model:{value:n.ship.name,callback:function(t){n.$set(n.ship,"name",t)},expression:"ship.name"}}),n._v(" "),e("actions",[e("button",{on:{click:function(t){return n.saveShip()}}},[n._v("Save")])])],1):n._e(),n._v(" "),n.showShip.engineer?e("card",{staticStyle:{"grid-column":"1 / 11","grid-row":"3 / 4"},attrs:{d:""}},[e("primaryTitle",[e("h1",[n._v("Engineer")])])],1):n._e(),n._v(" "),n.showShip.scientist?e("card",{staticStyle:{"grid-column":"1 / 11","grid-row":"4 / 5"},attrs:{d:""}},[e("primaryTitle",[e("h1",[n._v("Scientist")])])],1):n._e(),n._v(" "),n.showShip.pilot?e("card",{staticStyle:{"grid-column":"1 / 11","grid-row":"5 / 6"},attrs:{d:""}},[e("primaryTitle",[e("h1",[n._v("Pilot")])])],1):n._e(),n._v(" "),n.showShip.weaponMaster?e("card",{staticStyle:{"grid-column":"1 / 11","grid-row":"6 / 7"},attrs:{d:""}},[e("primaryTitle",[e("h1",[n._v("Weapon Master")])])],1):n._e()],1)],1)},[],!1,null,null,null);r.default=w.exports}}]);