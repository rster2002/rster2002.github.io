<div class="innerPage">
	<script src="../assets/components/dnd/js/characterLoader.js"></script>
	<script src="../assets/components/dnd/js/characterEditor.js"></script>
	<link href="../assets/components/dnd/css/characterEditor.css" type="text/css" rel="stylesheet">
	<link href="../assets/components/dnd/css/characterEditor.m.css" media="screen and (max-device-width: 800px)" type="text/css" rel="stylesheet">
	<div class="scroll">
		<div class="tester" style="position: fixed; width: 50px; height: 50px; background-color: red; z-index: 10; display: none;"></div>
		<div class="controll">
			<div id="test" class="button" onclick="saveCharacter(true)"><h1>Save</h1></div>
			<div class="button" onclick="del()"><h1>Delete</h1></div>
			<div class="button" onclick="openPage('characterList')"><h1>Back</h1></div>
		</div>
		<div class="sheet">
			<div class="characterContainer">

			</div>
		</div>
		<div class="spells">
			<div class="addSpell centerHorizontal s2 rounded">
				<div class="title">
					<h1>Add spell</h1>
				</div>
				<div class="spellName">
					<input placeholder="Spell" id="spellName" class="center">
				</div>
				<div class="props">
					<div class="select input level rounded">
						<h1>Level</h1>
						<input placeholder="Spell level" id="level" type="number">
					</div>
					<div class="select verbal rounded">
						<h1>Verbal</h1>
					</div>
					<div class="select somatic rounded">
						<h1>Somatic</h1>
					</div>
					<div class="material select rounded input">
						<h1>Material</h1>
						<input placeholder="Material" id="materialComponent">
					</div>
					<div class="select input range rounded">
						<h1>Range</h1>
						<input placeholder="range" id="range">
					</div>
					<div class="select input castingTime rounded">
						<h1>Casting time</h1>
						<input placeholder="time" id="castingTime">
					</div>
					<div class="select input duration rounded">
						<h1>Duration</h1>
						<input placeholder="duration" id="duration">
					</div>
					<div class="select concentration rounded">
						<h1>Concentration</h1>
					</div>
					<div class="select ritual rounded">
						<h1>Ritual</h1>
					</div>
				</div>
				<div class="description">
					<textarea id="description" class="center"></textarea>
				</div>
				<div class="confirm" onclick="addSpell()">
					<h1 class="center">Add</h1>
				</div>
			</div>
			<div class="spellList">
				
			</div>
		</div>
		<script>			
			$(".spell").each(function() {
				$(this).on("click", function(e) {
					e.stopPropagation();
					t(this);
				});
			});
			
			$(".select").each(function() {
				if (!$(this).hasClass("input")) {
					$(this).on("click", function() {
						changeState(this);
					});
				} else {
					$(".select.input input").on("keyup", function() {
						checkInput(this);
					});
				}
			});
			
			function changeState(here) {
				$(here).toggleClass("selected");
			}
			
			function checkInput(here) {
				if ($(here).val() !== '') {
					$(here).parent().addClass("selected");
				} else {
					$(here).parent().removeClass("selected");
				}
			}
			
			$(document).on("click", function() {
				c(".spell");
			});
		</script>
		<div class="characterInfo">
			<p class="characterId"></p>
		</div>
		<div class="characterOptions">
			<div class="r">
				<p>Allow edit</p>
				<select class="allowEdit">
					<option value="0">Only me</option>
					<option value="1">DM</option>
				</select>
			</div>
			<div class="r">
				<p>Save character options</p>
				<button style="float: right;" onclick="saveOptions()">Save</button>
			</div>
			<div class="r">
				<p>Duplicate character</p>
				<button onclick="dupe()">Duplicate</button>
			</div>
		</div>
	</div>
	<script>loader.hide();</script>
	<div class="push"></div>
</div>