import{S as t,i as e,s as n,J as r,ak as s,j as l,n as a,f as c,e as o,t as i,c as u,b as $,d as f,k as p,u as m,h,r as d,a0 as g,L as v,M as y,N as x,H as E,I as b,O as k,C as w,G as S,a as P,g as N,ad as q,z as C,a4 as I,ae as T,a5 as B,_ as D,ag as H,v as A,a6 as L,W as j,$ as O,a8 as R,a3 as V,Y as M,a1 as _,a2 as F,X as W,l as U,a9 as z,p as G}from"./vendor.js";import{T as X,G as J,C as Y}from"./GenericTable.js";import{h as K,j as Q,c as Z,k as tt,l as et,n as nt,o as rt,p as st,C as lt}from"./index.js";const at=".";function ct(t=9){return function(t,e){let n="";for(let r=0;r<e;r++)n+=t[Math.floor(Math.random()*t.length)];return n}("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t)}function ot(t){let e,n;return{c(){n=r(),this.h()},l(t){n=r(),this.h()},h(){e=new s(n)},m(r,s){e.m(t[0],r,s),l(r,n,s)},p(t,[n]){1&n&&e.p(t[0])},i:a,o:a,d(t){t&&c(n),t&&e.d()}}}function it(t,e,n){var{input:r}=e;return t.$$set=t=>{"input"in t&&n(0,r=t.input)},[r]}class ut extends t{constructor(t){super(),e(this,t,it,ot,n,{input:0})}}function $t(t){let e,n;return{c(){e=o("i"),n=i(t[0])},l(r){e=u(r,"I",{});var s=$(e);n=f(s,t[0]),s.forEach(c)},m(t,r){l(t,e,r),p(e,n)},p(t,[e]){1&e&&m(n,t[0])},i:a,o:a,d(t){t&&c(e)}}}function ft(t,e,n){let r;var{input:s}=e;return t.$$set=t=>{"input"in t&&n(1,s=t.input)},t.$$.update=()=>{2&t.$$.dirty&&n(0,r=function(t){return"mw"===(t=(t=t.replace("{@atk ","")).replace("}",""))?"Melee Weapon Attack":"rw"===t?"Ranged Weapon Attack":"Melee or Ranged Weapon Attack"}(s))},[r,s]}class pt extends t{constructor(t){super(),e(this,t,ft,$t,n,{input:1})}}function mt(t){let e,n,r,s;return{c(){e=o("span"),n=i(t[0]),this.h()},l(r){e=u(r,"SPAN",{class:!0});var s=$(e);n=f(s,t[0]),s.forEach(c),this.h()},h(){h(e,"class","svelte-1r7s845")},m(a,c){l(a,e,c),p(e,n),r||(s=d(e,"click",t[1]),r=!0)},p(t,[e]){1&e&&m(n,t[0])},i:a,o:a,d(t){t&&c(e),r=!1,s()}}}function ht(t,e,n){let r;var{text:s}=e,{expression:l}=e;return t.$$set=t=>{"text"in t&&n(0,s=t.text),"expression"in t&&n(2,l=t.expression)},r=g("diceContext"),[s,function(){r.roll(l)},l]}class dt extends t{constructor(t){super(),e(this,t,ht,mt,n,{text:0,expression:2})}}function gt(t){let e,n;return e=new dt({props:{text:t[0],expression:t[1]}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.text=t[0]),2&n&&(r.expression=t[1]),e.$set(r)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function vt(t){let e=function(t){return t=(t=t.replace(/\{\@\w+/,"")).replace("}",""),Number(t)}(t);return e<0?e:`+${e}`}function yt(t,e,n){let r,s;var{input:l}=e;return t.$$set=t=>{"input"in t&&n(2,l=t.input)},t.$$.update=()=>{4&t.$$.dirty&&n(0,r=vt(l)),1&t.$$.dirty&&n(1,s=`1d20${r}`)},[r,s,l]}class xt extends t{constructor(t){super(),e(this,t,yt,gt,n,{input:2})}}function Et(t){let e,n;return e=new dt({props:{text:t[0],expression:t[0]}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.text=t[0]),1&n&&(r.expression=t[0]),e.$set(r)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function bt(t,e,n){let r;var{input:s}=e;return t.$$set=t=>{"input"in t&&n(1,s=t.input)},t.$$.update=()=>{2&t.$$.dirty&&n(0,r=function(t){return(t=t.replace("{@damage ","")).replace("}","")}(s))},[r,s]}class kt extends t{constructor(t){super(),e(this,t,bt,Et,n,{input:1})}}function wt(t,e){const n=n=>{n.composedPath().includes(t)||e()};return document.addEventListener("click",n),{destroy(){document.removeEventListener("click",n)}}}function St(t){let e,n,s,a;const o=[Nt,Pt],i=[];function u(t,e){return t[1]?0:1}return e=u(t),n=i[e]=o[e](t),{c(){n.c(),s=r()},l(t){n.l(t),s=r()},m(t,n){i[e].m(t,n),l(t,s,n),a=!0},p(t,r){let l=e;e=u(t),e===l?i[e].p(t,r):(w(),b(i[l],1,1,(()=>{i[l]=null})),S(),n=i[e],n?n.p(t,r):(n=i[e]=o[e](t),n.c()),E(n,1),n.m(s.parentNode,s))},i(t){a||(E(n),a=!0)},o(t){b(n),a=!1},d(t){i[e].d(t),t&&c(s)}}}function Pt(t){let e,n,r,s;const a=t[6].default,i=I(a,t,t[5],null);return{c(){e=o("div"),i&&i.c(),this.h()},l(t){e=u(t,"DIV",{class:!0});var n=$(e);i&&i.l(n),n.forEach(c),this.h()},h(){h(e,"class","tooltipPopup svelte-1vm6562")},m(a,c){l(a,e,c),i&&i.m(e,null),n=!0,r||(s=T(wt.call(null,e,t[4])),r=!0)},p(t,e){i&&i.p&&(!n||32&e)&&B(i,a,t,t[5],e,null,null)},i(t){n||(E(i,t),n=!0)},o(t){b(i,t),n=!1},d(t){t&&c(e),i&&i.d(t),r=!1,s()}}}function Nt(t){let e,n,r,s,a,i;const f=t[6].default,p=I(f,t,t[5],null);return{c(){e=o("div"),n=P(),r=o("div"),p&&p.c(),this.h()},l(t){e=u(t,"DIV",{class:!0}),$(e).forEach(c),n=N(t),r=u(t,"DIV",{class:!0});var s=$(r);p&&p.l(s),s.forEach(c),this.h()},h(){h(e,"class","scim svelte-1vm6562"),h(r,"class","tooltipPopup fixed svelte-1vm6562")},m(c,o){l(c,e,o),l(c,n,o),l(c,r,o),p&&p.m(r,null),s=!0,a||(i=T(wt.call(null,r,t[4])),a=!0)},p(t,e){p&&p.p&&(!s||32&e)&&B(p,f,t,t[5],e,null,null)},i(t){s||(E(p,t),s=!0)},o(t){b(p,t),s=!1},d(t){t&&c(e),t&&c(n),t&&c(r),p&&p.d(t),a=!1,i()}}}function qt(t){let e,n,r,s,a,g,v=t[2]&&St(t);return{c(){e=o("span"),n=i(t[0]),r=P(),v&&v.c(),this.h()},l(s){e=u(s,"SPAN",{class:!0});var l=$(e);n=f(l,t[0]),r=N(l),v&&v.l(l),l.forEach(c),this.h()},h(){h(e,"class","svelte-1vm6562")},m(c,o){l(c,e,o),p(e,n),p(e,r),v&&v.m(e,null),s=!0,a||(g=d(e,"click",q(t[3])),a=!0)},p(t,[r]){(!s||1&r)&&m(n,t[0]),t[2]?v?(v.p(t,r),4&r&&E(v,1)):(v=St(t),v.c(),E(v,1),v.m(e,null)):v&&(w(),b(v,1,1,(()=>{v=null})),S())},i(t){s||(E(v),s=!0)},o(t){b(v),s=!1},d(t){t&&c(e),v&&v.d(),a=!1,g()}}}function Ct(t,e,n){let{$$slots:r={},$$scope:s}=e;const l=C();var{text:a}=e,{fixed:c=!1}=e,o=!1,i=!0;return t.$$set=t=>{"text"in t&&n(0,a=t.text),"fixed"in t&&n(1,c=t.fixed),"$$scope"in t&&n(5,s=t.$$scope)},[a,c,o,async function(){n(2,o=!0),l("open")},function(){i?i=!1:(n(2,o=!1),i=!0)},s,r]}class It extends t{constructor(t){super(),e(this,t,Ct,qt,n,{text:0,fixed:1})}}function Tt(t){let e,n,r,s,a;return s=new xs({props:{entries:t[1]}}),{c(){e=o("h3"),n=i(t[0]),r=P(),v(s.$$.fragment),this.h()},l(l){e=u(l,"H3",{class:!0});var a=$(e);n=f(a,t[0]),a.forEach(c),r=N(l),y(s.$$.fragment,l),this.h()},h(){h(e,"class","svelte-y3hpwh")},m(t,c){l(t,e,c),p(e,n),l(t,r,c),x(s,t,c),a=!0},p(t,e){(!a||1&e)&&m(n,t[0]);const r={};2&e&&(r.entries=t[1]),s.$set(r)},i(t){a||(E(s.$$.fragment,t),a=!0)},o(t){b(s.$$.fragment,t),a=!1},d(t){t&&c(e),t&&c(r),k(s,t)}}}function Bt(t){let e,n;return e=new It({props:{text:t[0],fixed:!0,$$slots:{default:[Tt]},$$scope:{ctx:t}}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.text=t[0]),35&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function Dt(t,e,n){let r,s;var{input:l}=e;const a={};for(const c of Object.values(K)){let{name:t,entries:e}=c;t=t.toLowerCase(),a[t]=e}return t.$$set=t=>{"input"in t&&n(2,l=t.input)},t.$$.update=()=>{var e;4&t.$$.dirty&&n(0,r=function(t){return(t=t.replace("{@condition ","")).replace("}","")}(l)),1&t.$$.dirty&&n(1,(e=(e=r).toLowerCase(),s=a[e]))},[r,s,l]}class Ht extends t{constructor(t){super(),e(this,t,Dt,Bt,n,{input:2})}}function At(t){let e;return{c(){e=i(t[0])},l(n){e=f(n,t[0])},m(t,n){l(t,e,n)},p(t,[n]){1&n&&m(e,t[0])},i:a,o:a,d(t){t&&c(e)}}}function Lt(t,e,n){let r,s;var{input:l}=e;return t.$$set=t=>{"input"in t&&n(1,l=t.input)},t.$$.update=()=>{2&t.$$.dirty&&n(2,r=function(t){return(t=(t=t.replace("{@filter ","")).replace("}","")).split("|")}(l)),4&t.$$.dirty&&n(0,s=r[0])},[s,l,r]}class jt extends t{constructor(t){super(),e(this,t,Lt,At,n,{input:1})}}function Ot(t){let e,n;return{c(){e=o("i"),n=i("Hit:")},l(t){e=u(t,"I",{});var r=$(e);n=f(r,"Hit:"),r.forEach(c)},m(t,r){l(t,e,r),p(e,n)},p:a,i:a,o:a,d(t){t&&c(e)}}}class Rt extends t{constructor(t){super(),e(this,t,null,Ot,n,{})}}function Vt(t){let e,n;return{c(){e=o("b"),n=i(t[0])},l(r){e=u(r,"B",{});var s=$(e);n=f(s,t[0]),s.forEach(c)},m(t,r){l(t,e,r),p(e,n)},p(t,[e]){1&e&&m(n,t[0])},i:a,o:a,d(t){t&&c(e)}}}function Mt(t,e,n){let r;var{input:s}=e;return t.$$set=t=>{"input"in t&&n(1,s=t.input)},t.$$.update=()=>{2&t.$$.dirty&&n(0,r=function(t){return(t=t.replace("{@b ","")).replace("}","")}(s))},[r,s]}class _t extends t{constructor(t){super(),e(this,t,Mt,Vt,n,{input:1})}}function Ft(t){let e,n;return{c(){e=o("i"),n=i(t[0])},l(r){e=u(r,"I",{});var s=$(e);n=f(s,t[0]),s.forEach(c)},m(t,r){l(t,e,r),p(e,n)},p(t,[e]){1&e&&m(n,t[0])},i:a,o:a,d(t){t&&c(e)}}}function Wt(t,e,n){let r;var{input:s}=e;return t.$$set=t=>{"input"in t&&n(1,s=t.input)},t.$$.update=()=>{2&t.$$.dirty&&n(0,r=function(t){return(t=t.replace("{@i ","")).replace("}","")}(s))},[r,s]}class Ut extends t{constructor(t){super(),e(this,t,Wt,Ft,n,{input:1})}}function zt(t){var e="";for(const[n,r]of Object.entries(Q))t%r==0&&(e=t/r+" "+n);return e}function Gt(t,e,n){const r=t.slice();return r[14]=e[n],r}function Xt(t){let e,n,r,s,a,m,g,v,y,x,E,b,k,w,S,q,C,I,T,B,A,L,j,R,V,M,_,F,W=t[2]&&Jt(t);return{c(){e=o("h6"),n=i("Item name"),r=P(),s=o("input"),a=P(),m=o("button"),g=i("Save"),v=P(),y=o("div"),x=o("div"),E=o("h6"),b=i("Cost (cp)"),k=P(),w=o("input"),S=P(),q=o("div"),C=o("h6"),I=i("Weight (lb.)"),T=P(),B=o("input"),A=P(),W&&W.c(),L=P(),j=o("h6"),R=i("Notes"),V=P(),M=o("textarea"),this.h()},l(t){e=u(t,"H6",{class:!0});var l=$(e);n=f(l,"Item name"),l.forEach(c),r=N(t),s=u(t,"INPUT",{type:!0,placeholder:!0,class:!0}),a=N(t),m=u(t,"BUTTON",{class:!0});var o=$(m);g=f(o,"Save"),o.forEach(c),v=N(t),y=u(t,"DIV",{class:!0});var i=$(y);x=u(i,"DIV",{class:!0});var p=$(x);E=u(p,"H6",{class:!0});var h=$(E);b=f(h,"Cost (cp)"),h.forEach(c),k=N(p),w=u(p,"INPUT",{type:!0,class:!0}),p.forEach(c),S=N(i),q=u(i,"DIV",{class:!0});var d=$(q);C=u(d,"H6",{class:!0});var P=$(C);I=f(P,"Weight (lb.)"),P.forEach(c),T=N(d),B=u(d,"INPUT",{type:!0,class:!0}),d.forEach(c),i.forEach(c),A=N(t),W&&W.l(t),L=N(t),j=u(t,"H6",{class:!0});var D=$(j);R=f(D,"Notes"),D.forEach(c),V=N(t),M=u(t,"TEXTAREA",{placeholder:!0,class:!0}),$(M).forEach(c),this.h()},h(){h(e,"class","svelte-kas73n"),h(s,"type","text"),h(s,"placeholder","Item name"),h(s,"class","svelte-kas73n"),h(m,"class","smallButton"),h(E,"class","svelte-kas73n"),h(w,"type","number"),h(w,"class","svelte-kas73n"),h(x,"class","section svelte-kas73n"),h(C,"class","svelte-kas73n"),h(B,"type","number"),h(B,"class","svelte-kas73n"),h(q,"class","section svelte-kas73n"),h(y,"class","spaceEvenly svelte-kas73n"),h(j,"class","svelte-kas73n"),h(M,"placeholder","Note"),h(M,"class","svelte-kas73n")},m(c,o){l(c,e,o),p(e,n),l(c,r,o),l(c,s,o),D(s,t[0].name),l(c,a,o),l(c,m,o),p(m,g),l(c,v,o),l(c,y,o),p(y,x),p(x,E),p(E,b),p(x,k),p(x,w),D(w,t[0].value),p(y,S),p(y,q),p(q,C),p(C,I),p(q,T),p(q,B),D(B,t[0].weight),l(c,A,o),W&&W.m(c,o),l(c,L,o),l(c,j,o),p(j,R),l(c,V,o),l(c,M,o),D(M,t[0].note),_||(F=[d(s,"input",t[7]),d(s,"blur",t[4]),d(m,"click",t[5]),d(w,"input",t[8]),d(w,"blur",t[4]),d(B,"input",t[9]),d(B,"blur",t[4]),d(M,"input",t[12]),d(M,"blur",t[4])],_=!0)},p(t,e){9&e&&s.value!==t[0].name&&D(s,t[0].name),9&e&&H(w.value)!==t[0].value&&D(w,t[0].value),9&e&&H(B.value)!==t[0].weight&&D(B,t[0].weight),t[2]?W?W.p(t,e):(W=Jt(t),W.c(),W.m(L.parentNode,L)):W&&(W.d(1),W=null),9&e&&D(M,t[0].note)},d(t){t&&c(e),t&&c(r),t&&c(s),t&&c(a),t&&c(m),t&&c(v),t&&c(y),t&&c(A),W&&W.d(t),t&&c(L),t&&c(j),t&&c(V),t&&c(M),_=!1,O(F)}}}function Jt(t){let e,n,r,s,a,m,g,v,y,x,E,b,k,w,S=t[3],q=[];for(let l=0;l<S.length;l+=1)q[l]=Yt(Gt(t,S,l));return{c(){e=o("div"),n=o("div"),r=o("h6"),s=i("Damage Expression"),a=P(),m=o("input"),g=P(),v=o("div"),y=o("h6"),x=i("Damage type"),E=P(),b=o("select");for(let t=0;t<q.length;t+=1)q[t].c();this.h()},l(t){e=u(t,"DIV",{class:!0});var l=$(e);n=u(l,"DIV",{class:!0});var o=$(n);r=u(o,"H6",{class:!0});var i=$(r);s=f(i,"Damage Expression"),i.forEach(c),a=N(o),m=u(o,"INPUT",{type:!0,class:!0}),o.forEach(c),g=N(l),v=u(l,"DIV",{class:!0});var p=$(v);y=u(p,"H6",{class:!0});var h=$(y);x=f(h,"Damage type"),h.forEach(c),E=N(p),b=u(p,"SELECT",{class:!0});var d=$(b);for(let e=0;e<q.length;e+=1)q[e].l(d);d.forEach(c),p.forEach(c),l.forEach(c),this.h()},h(){h(r,"class","svelte-kas73n"),h(m,"type","text"),h(m,"class","svelte-kas73n"),h(n,"class","section svelte-kas73n"),h(y,"class","svelte-kas73n"),h(b,"class","svelte-kas73n"),void 0===t[0].dmgType&&A((()=>t[11].call(b))),h(v,"class","section svelte-kas73n"),h(e,"class","spaceEvenly svelte-kas73n")},m(c,o){l(c,e,o),p(e,n),p(n,r),p(r,s),p(n,a),p(n,m),D(m,t[0].dmg1),p(e,g),p(e,v),p(v,y),p(y,x),p(v,E),p(v,b);for(let t=0;t<q.length;t+=1)q[t].m(b,null);L(b,t[0].dmgType),k||(w=[d(m,"input",t[10]),d(m,"blur",t[4]),d(b,"change",t[11]),d(b,"blur",t[4])],k=!0)},p(t,e){if(9&e&&m.value!==t[0].dmg1&&D(m,t[0].dmg1),8&e){let n;for(S=t[3],n=0;n<S.length;n+=1){const r=Gt(t,S,n);q[n]?q[n].p(r,e):(q[n]=Yt(r),q[n].c(),q[n].m(b,null))}for(;n<q.length;n+=1)q[n].d(1);q.length=S.length}9&e&&L(b,t[0].dmgType)},d(t){t&&c(e),j(q,t),k=!1,O(w)}}}function Yt(t){let e,n,r,s=t[14].value+"";return{c(){e=o("option"),n=i(s),this.h()},l(t){e=u(t,"OPTION",{value:!0});var r=$(e);n=f(r,s),r.forEach(c),this.h()},h(){e.__value=r=t[14].key,e.value=e.__value},m(t,r){l(t,e,r),p(e,n)},p(t,l){8&l&&s!==(s=t[14].value+"")&&m(n,s),8&l&&r!==(r=t[14].key)&&(e.__value=r,e.value=e.__value)},d(t){t&&c(e)}}}function Kt(t){let e,n=t[1]&&Xt(t);return{c(){n&&n.c(),e=r()},l(t){n&&n.l(t),e=r()},m(t,r){n&&n.m(t,r),l(t,e,r)},p(t,[r]){t[1]?n?n.p(t,r):(n=Xt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:a,o:a,d(t){n&&n.d(t),t&&c(e)}}}function Qt(t,e,n){let r,s;var{character:l=g("character")}=e,{item:a}=e,{open:c=!1}=e;return t.$$set=t=>{"character"in t&&n(6,l=t.character),"item"in t&&n(0,a=t.item),"open"in t&&n(1,c=t.open)},t.$$.update=()=>{1&t.$$.dirty&&n(2,r=a.isWeapon())},n(3,s=Object.entries(tt).map((([t,e])=>({key:t,value:Z(e)})))),[a,c,r,s,function(){n(0,a.source="Custom",a),n(0,a),null!==l&&l.inventory.update(a)},function(){n(1,c=!1)},l,function(){a.name=this.value,n(0,a),n(3,s)},function(){a.value=H(this.value),n(0,a),n(3,s)},function(){a.weight=H(this.value),n(0,a),n(3,s)},function(){a.dmg1=this.value,n(0,a),n(3,s)},function(){a.dmgType=R(this),n(0,a),n(3,s)},function(){a.note=this.value,n(0,a),n(3,s)}]}class Zt extends t{constructor(t){super(),e(this,t,Qt,Kt,n,{character:6,item:0,open:1})}}function te(t,e,n){const r=t.slice();return r[34]=e[n],r}function ee(t){let e,n,r;function s(e){t[28](e)}let l={item:t[0],character:t[1]};return void 0!==t[6]&&(l.open=t[6]),e=new Zt({props:l}),M.push((()=>_(e,"open",s))),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,n){x(e,t,n),r=!0},p(t,r){const s={};1&r[0]&&(s.item=t[0]),2&r[0]&&(s.character=t[1]),!n&&64&r[0]&&(n=!0,s.open=t[6],F((()=>n=!1))),e.$set(s)},i(t){r||(E(e.$$.fragment,t),r=!0)},o(t){b(e.$$.fragment,t),r=!1},d(t){k(e,t)}}}function ne(t){let e,n,s,a,d,g,v,y,x,k,q,C,I=void 0!==t[0].value&&re(t),T=t[9]&&se(t),B=t[16]&&oe(t),D=t[3]&&ie(t),H=t[5]&&$e(t),A=t[5]&&t[4]&&be(t),L=void 0!==t[0].entries&&we(t);return{c(){e=o("i"),n=i(t[12]),s=P(),I&&I.c(),a=P(),T&&T.c(),d=P(),B&&B.c(),g=P(),v=o("div"),D&&D.c(),y=P(),H&&H.c(),x=P(),A&&A.c(),k=P(),L&&L.c(),q=r(),this.h()},l(l){e=u(l,"I",{});var o=$(e);n=f(o,t[12]),o.forEach(c),s=N(l),I&&I.l(l),a=N(l),T&&T.l(l),d=N(l),B&&B.l(l),g=N(l),v=u(l,"DIV",{class:!0});var i=$(v);D&&D.l(i),y=N(i),H&&H.l(i),i.forEach(c),x=N(l),A&&A.l(l),k=N(l),L&&L.l(l),q=r(),this.h()},h(){h(v,"class","buttons svelte-1cfqzhm")},m(t,r){l(t,e,r),p(e,n),l(t,s,r),I&&I.m(t,r),l(t,a,r),T&&T.m(t,r),l(t,d,r),B&&B.m(t,r),l(t,g,r),l(t,v,r),D&&D.m(v,null),p(v,y),H&&H.m(v,null),l(t,x,r),A&&A.m(t,r),l(t,k,r),L&&L.m(t,r),l(t,q,r),C=!0},p(t,e){(!C||4096&e[0])&&m(n,t[12]),void 0!==t[0].value?I?I.p(t,e):(I=re(t),I.c(),I.m(a.parentNode,a)):I&&(I.d(1),I=null),t[9]?T?T.p(t,e):(T=se(t),T.c(),T.m(d.parentNode,d)):T&&(T.d(1),T=null),t[16]?B?B.p(t,e):(B=oe(t),B.c(),B.m(g.parentNode,g)):B&&(B.d(1),B=null),t[3]?D?(D.p(t,e),8&e[0]&&E(D,1)):(D=ie(t),D.c(),E(D,1),D.m(v,y)):D&&(w(),b(D,1,1,(()=>{D=null})),S()),t[5]?H?(H.p(t,e),32&e[0]&&E(H,1)):(H=$e(t),H.c(),E(H,1),H.m(v,null)):H&&(w(),b(H,1,1,(()=>{H=null})),S()),t[5]&&t[4]?A?A.p(t,e):(A=be(t),A.c(),A.m(k.parentNode,k)):A&&(A.d(1),A=null),void 0!==t[0].entries?L?(L.p(t,e),1&e[0]&&E(L,1)):(L=we(t),L.c(),E(L,1),L.m(q.parentNode,q)):L&&(w(),b(L,1,1,(()=>{L=null})),S())},i(t){C||(E(D),E(H),E(L),C=!0)},o(t){b(D),b(H),b(L),C=!1},d(t){t&&c(e),t&&c(s),I&&I.d(t),t&&c(a),T&&T.d(t),t&&c(d),B&&B.d(t),t&&c(g),t&&c(v),D&&D.d(),H&&H.d(),t&&c(x),A&&A.d(t),t&&c(k),L&&L.d(t),t&&c(q)}}}function re(t){let e,n,r,s,a,d=zt(t[0].value)+"";return{c(){e=o("p"),n=o("b"),r=i("Cost"),s=P(),a=i(d),this.h()},l(t){e=u(t,"P",{class:!0});var l=$(e);n=u(l,"B",{});var o=$(n);r=f(o,"Cost"),o.forEach(c),s=N(l),a=f(l,d),l.forEach(c),this.h()},h(){h(e,"class","svelte-1cfqzhm")},m(t,c){l(t,e,c),p(e,n),p(n,r),p(e,s),p(e,a)},p(t,e){1&e[0]&&d!==(d=zt(t[0].value)+"")&&m(a,d)},d(t){t&&c(e)}}}function se(t){let e,n,r,s,a,d,g,v,y,x,E,b,k,w,S=t[0].dmg1+"";function q(t,e){return t[2]?ce:t[10]?ae:le}let C=q(t),I=C(t);return{c(){e=o("p"),n=o("b"),r=i("Properties"),s=P(),a=i(t[11]),d=P(),g=o("p"),v=o("b"),y=i("Damage"),x=P(),E=i(S),b=P(),k=i(t[13]),w=i(" damage + \r\n            "),I.c(),this.h()},l(l){e=u(l,"P",{class:!0});var o=$(e);n=u(o,"B",{});var i=$(n);r=f(i,"Properties"),i.forEach(c),s=N(o),a=f(o,t[11]),o.forEach(c),d=N(l),g=u(l,"P",{class:!0});var p=$(g);v=u(p,"B",{});var m=$(v);y=f(m,"Damage"),m.forEach(c),x=N(p),E=f(p,S),b=N(p),k=f(p,t[13]),w=f(p," damage + \r\n            "),I.l(p),p.forEach(c),this.h()},h(){h(e,"class","svelte-1cfqzhm"),h(g,"class","svelte-1cfqzhm")},m(t,c){l(t,e,c),p(e,n),p(n,r),p(e,s),p(e,a),l(t,d,c),l(t,g,c),p(g,v),p(v,y),p(g,x),p(g,E),p(g,b),p(g,k),p(g,w),I.m(g,null)},p(t,e){2048&e[0]&&m(a,t[11]),1&e[0]&&S!==(S=t[0].dmg1+"")&&m(E,S),8192&e[0]&&m(k,t[13]),C===(C=q(t))&&I?I.p(t,e):(I.d(1),I=C(t),I&&(I.c(),I.m(g,null)))},d(t){t&&c(e),t&&c(d),t&&c(g),I.d()}}}function le(t){let e;return{c(){e=i("your Strength modifier")},l(t){e=f(t,"your Strength modifier")},m(t,n){l(t,e,n)},p:a,d(t){t&&c(e)}}}function ae(t){let e;return{c(){e=i("your Strength or Dexterity modifier")},l(t){e=f(t,"your Strength or Dexterity modifier")},m(t,n){l(t,e,n)},p:a,d(t){t&&c(e)}}}function ce(t){let e,n,r,s;return{c(){e=i(t[14]),n=i(" ("),r=i(t[15]),s=i(")")},l(l){e=f(l,t[14]),n=f(l," ("),r=f(l,t[15]),s=f(l,")")},m(t,a){l(t,e,a),l(t,n,a),l(t,r,a),l(t,s,a)},p(t,n){16384&n[0]&&m(e,t[14]),32768&n[0]&&m(r,t[15])},d(t){t&&c(e),t&&c(n),t&&c(r),t&&c(s)}}}function oe(t){let e,n,r,s,a,d=t[0].note+"";return{c(){e=o("p"),n=o("b"),r=i("Notes"),s=P(),a=i(d),this.h()},l(t){e=u(t,"P",{class:!0});var l=$(e);n=u(l,"B",{});var o=$(n);r=f(o,"Notes"),o.forEach(c),s=N(l),a=f(l,d),l.forEach(c),this.h()},h(){h(e,"class","svelte-1cfqzhm")},m(t,c){l(t,e,c),p(e,n),p(n,r),p(e,s),p(e,a)},p(t,e){1&e[0]&&d!==(d=t[0].note+"")&&m(a,d)},d(t){t&&c(e)}}}function ie(t){let e,n;return e=new X({props:{$$slots:{default:[ue]},$$scope:{ctx:t}}}),e.$on("click",t[23]),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,n){const r={};64&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function ue(t){let e;return{c(){e=i("Edit item")},l(t){e=f(t,"Edit item")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function $e(t){let e,n,s,a=!t[4]&&fe(t),o=t[17]&&de(t);return{c(){a&&a.c(),e=P(),o&&o.c(),n=r()},l(t){a&&a.l(t),e=N(t),o&&o.l(t),n=r()},m(t,r){a&&a.m(t,r),l(t,e,r),o&&o.m(t,r),l(t,n,r),s=!0},p(t,r){t[4]?a&&(w(),b(a,1,1,(()=>{a=null})),S()):a?(a.p(t,r),16&r[0]&&E(a,1)):(a=fe(t),a.c(),E(a,1),a.m(e.parentNode,e)),t[17]?o?(o.p(t,r),131072&r[0]&&E(o,1)):(o=de(t),o.c(),E(o,1),o.m(n.parentNode,n)):o&&(w(),b(o,1,1,(()=>{o=null})),S())},i(t){s||(E(a),E(o),s=!0)},o(t){b(a),b(o),s=!1},d(t){a&&a.d(t),t&&c(e),o&&o.d(t),t&&c(n)}}}function fe(t){let e,n;return e=new X({props:{$$slots:{default:[he]},$$scope:{ctx:t}}}),e.$on("click",t[24]),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,n){const r={};128&n[0]|64&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function pe(t){let e;return{c(){e=i("Remove from inventory")},l(t){e=f(t,"Remove from inventory")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function me(t){let e;return{c(){e=i("Add to inventory")},l(t){e=f(t,"Add to inventory")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function he(t){let e;function n(t,e){return null===t[7]?me:pe}let s=n(t),a=s(t);return{c(){a.c(),e=r()},l(t){a.l(t),e=r()},m(t,n){a.m(t,n),l(t,e,n)},p(t,r){s!==(s=n(t))&&(a.d(1),a=s(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){a.d(t),t&&c(e)}}}function de(t){let e,n;return e=new X({props:{disabled:!t[18]&&!t[19],$$slots:{default:[Ee]},$$scope:{ctx:t}}}),e.$on("click",t[25]),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,n){const r={};786432&n[0]&&(r.disabled=!t[18]&&!t[19]),786432&n[0]|64&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function ge(t){let e;return{c(){e=i("Un-attune from item")},l(t){e=f(t,"Un-attune from item")},m(t,n){l(t,e,n)},p:a,d(t){t&&c(e)}}}function ve(t){let e;function n(t,e){return t[19]?xe:ye}let s=n(t),a=s(t);return{c(){a.c(),e=r()},l(t){a.l(t),e=r()},m(t,n){a.m(t,n),l(t,e,n)},p(t,r){s!==(s=n(t))&&(a.d(1),a=s(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){a.d(t),t&&c(e)}}}function ye(t){let e;return{c(){e=i("No free attunement slot")},l(t){e=f(t,"No free attunement slot")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function xe(t){let e;return{c(){e=i("Attune to item")},l(t){e=f(t,"Attune to item")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function Ee(t){let e;function n(t,e){return t[18]?ge:ve}let s=n(t),a=s(t);return{c(){a.c(),e=r()},l(t){a.l(t),e=r()},m(t,n){a.m(t,n),l(t,e,n)},p(t,r){s===(s=n(t))&&a?a.p(t,r):(a.d(1),a=s(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){a.d(t),t&&c(e)}}}function be(t){let e,n,r,s=t[20],a=[];for(let l=0;l<s.length;l+=1)a[l]=ke(te(t,s,l));return{c(){e=o("select");for(let t=0;t<a.length;t+=1)a[t].c()},l(t){e=u(t,"SELECT",{value:!0});var n=$(e);for(let e=0;e<a.length;e+=1)a[e].l(n);n.forEach(c)},m(s,c){l(s,e,c);for(let t=0;t<a.length;t+=1)a[t].m(e,null);L(e,t[8]),n||(r=d(e,"change",t[22]),n=!0)},p(t,n){if(3145984&n[0]){let r;for(s=t[20],r=0;r<s.length;r+=1){const l=te(t,s,r);a[r]?a[r].p(l,n):(a[r]=ke(l),a[r].c(),a[r].m(e,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=s.length}1048832&n[0]&&L(e,t[8])},d(t){t&&c(e),j(a,t),n=!1,r()}}}function ke(t){let e,n,r,s,a,h=t[34].name+"";return{c(){e=o("option"),n=i(h),this.h()},l(t){e=u(t,"OPTION",{value:!0,selected:!0,disabled:!0});var r=$(e);n=f(r,h),r.forEach(c),this.h()},h(){e.__value=r=t[34].id,e.value=e.__value,e.selected=s=t[34].id===t[8],e.disabled=a=t[21](t[34])},m(t,r){l(t,e,r),p(e,n)},p(t,l){1048576&l[0]&&h!==(h=t[34].name+"")&&m(n,h),1048576&l[0]&&r!==(r=t[34].id)&&(e.__value=r,e.value=e.__value),1048832&l[0]&&s!==(s=t[34].id===t[8])&&(e.selected=s),1048576&l[0]&&a!==(a=t[21](t[34]))&&(e.disabled=a)},d(t){t&&c(e)}}}function we(t){let e,n;return e=new xs({props:{entries:t[0].entries}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,n){const r={};1&n[0]&&(r.entries=t[0].entries),e.$set(r)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function Se(t){let e,n,s,a;const o=[ne,ee],i=[];function u(t,e){return t[6]?1:0}return e=u(t),n=i[e]=o[e](t),{c(){n.c(),s=r()},l(t){n.l(t),s=r()},m(t,n){i[e].m(t,n),l(t,s,n),a=!0},p(t,r){let l=e;e=u(t),e===l?i[e].p(t,r):(w(),b(i[l],1,1,(()=>{i[l]=null})),S(),n=i[e],n?n.p(t,r):(n=i[e]=o[e](t),n.c()),E(n,1),n.m(s.parentNode,s))},i(t){a||(E(n),a=!0)},o(t){b(n),a=!1},d(t){i[e].d(t),t&&c(s)}}}function Pe(t,e,n){let r,s,l,c,o,i,u,$,f,p,m,h,d,v,y,x=a,E=()=>(x(),x=V(k,(t=>n(27,y=t))),k);t.$$.on_destroy.push((()=>x()));let{data:b}=e;var{character:k=g("character")}=e;E();var w,{autoCalculate:S=!1}=e,{showNotes:P=!0}=e,{allowEditing:N=!1}=e,q=!1,C=null;return t.$$set=t=>{"data"in t&&n(0,b=t.data),"character"in t&&E(n(1,k=t.character)),"autoCalculate"in t&&n(2,S=t.autoCalculate),"showNotes"in t&&n(26,P=t.showNotes),"allowEditing"in t&&n(3,N=t.allowEditing)},t.$$.update=()=>{1&t.$$.dirty[0]&&n(4,r=void 0!==b.id),2&t.$$.dirty[0]&&n(5,s=void 0!==k),1&t.$$.dirty[0]&&n(9,l=b.isWeapon()),1&t.$$.dirty[0]&&b.isWondrous(),1&t.$$.dirty[0]&&n(10,c=b.isFiness()),1&t.$$.dirty[0]&&n(11,o=b.getPropertiesString()),1&t.$$.dirty[0]&&n(12,i=b.getDescription()),1&t.$$.dirty[0]&&n(13,u=b.getWeaponDamageType()),39&t.$$.dirty[0]&&n(14,$=S&&s?b.getAttackBonus(k):0),39&t.$$.dirty[0]&&n(15,f=S&&s?b.getAttackBonusBreakDown(k):""),67108865&t.$$.dirty[0]&&n(16,p=P&&void 0!==b.note&&b.note.length>0),134217761&t.$$.dirty[0]&&s&&y.proficiencies.isProficientIn(b.name),49&t.$$.dirty[0]&&n(17,m=s&&r&&!0===b.reqAttune),134217729&t.$$.dirty[0]&&n(18,h=null==y?void 0:y.inventory.isAttunedTo(b)),134217729&t.$$.dirty[0]&&n(19,d=null==y?void 0:y.inventory.canAttuneTo(b)),134217728&t.$$.dirty[0]&&n(20,v=null==y?void 0:y.inventory.getAllContainers()),17&t.$$.dirty[0]&&r&&n(8,w=b.getCurrentContainer().id)},[b,k,S,N,r,s,q,C,w,l,c,o,i,u,$,f,p,m,h,d,v,function(t){return!t.itemCanBeAdded(b)},function(t){let e=b;if(e.id===w)return;let r=k.inventory.getContainer(t.srcElement.value);n(8,w=t.srcElement.value),r&&r.moveToThisContainer(e)},function(){n(6,q=!0)},function(){null===C?n(7,C=k.inventory.add(b)):k.inventory.remove(C)},function(){k.inventory.toggleAttunementTo(b)},P,y,function(t){n(6,q=t)}]}class Ne extends t{constructor(t){super(),e(this,t,Pe,Se,n,{data:0,character:1,autoCalculate:2,showNotes:26,allowEditing:3},[-1,-1])}}function qe(t){let e,n;return{c(){e=o("p"),n=i("Item not found")},l(t){e=u(t,"P",{});var r=$(e);n=f(r,"Item not found"),r.forEach(c)},m(t,r){l(t,e,r),p(e,n)},p:a,i:a,o:a,d(t){t&&c(e)}}}function Ce(t){let e,n,r,s,a,d=t[1].name+"";return s=new Ne({props:{data:t[1]}}),{c(){e=o("h1"),n=i(d),r=P(),v(s.$$.fragment),this.h()},l(t){e=u(t,"H1",{class:!0});var l=$(e);n=f(l,d),l.forEach(c),r=N(t),y(s.$$.fragment,t),this.h()},h(){h(e,"class","svelte-1al97ty")},m(t,c){l(t,e,c),p(e,n),l(t,r,c),x(s,t,c),a=!0},p(t,e){(!a||2&e)&&d!==(d=t[1].name+"")&&m(n,d);const r={};2&e&&(r.data=t[1]),s.$set(r)},i(t){a||(E(s.$$.fragment,t),a=!0)},o(t){b(s.$$.fragment,t),a=!1},d(t){t&&c(e),t&&c(r),k(s,t)}}}function Ie(t){let e,n,s,a;const o=[Ce,qe],i=[];function u(t,e){return void 0!==t[1]?0:1}return e=u(t),n=i[e]=o[e](t),{c(){n.c(),s=r()},l(t){n.l(t),s=r()},m(t,n){i[e].m(t,n),l(t,s,n),a=!0},p(t,r){let l=e;e=u(t),e===l?i[e].p(t,r):(w(),b(i[l],1,1,(()=>{i[l]=null})),S(),n=i[e],n?n.p(t,r):(n=i[e]=o[e](t),n.c()),E(n,1),n.m(s.parentNode,s))},i(t){a||(E(n),a=!0)},o(t){b(n),a=!1},d(t){i[e].d(t),t&&c(s)}}}function Te(t){let e,n;return e=new It({props:{text:t[0],fixed:!0,$$slots:{default:[Ie]},$$scope:{ctx:t}}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.text=t[0]),34&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function Be(t,e,n){let r,s;var l=Object.values(et),{input:a}=e;return t.$$set=t=>{"input"in t&&n(2,a=t.input)},t.$$.update=()=>{var e;4&t.$$.dirty&&n(0,r=function(t){return function(t){return(t=(t=t.replace("{@item ","")).replace("}","")).split("|")}(t)[0]}(a)),1&t.$$.dirty&&n(1,(e=r,s=l.find((t=>t.name.toLowerCase()===e.toLowerCase()))))},[r,s,a]}class De extends t{constructor(t){super(),e(this,t,Be,Te,n,{input:2})}}function He(t){let e,n;return e=new dt({props:{text:t[0],expression:t[1]}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.text=t[0]),2&n&&(r.expression=t[1]),e.$set(r)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function Ae(t,e,n){let r;var{input:s}=e,l="";return t.$$set=t=>{"input"in t&&n(2,s=t.input)},t.$$.update=()=>{4&t.$$.dirty&&n(1,r=function(t){if((t=(t=t.replace("{@dice ","")).replace("}","")).includes("|")){let[e,r]=t.split("|");n(0,l=r),t=e}else n(0,l=t);return t}(s))},[l,r,s]}class Le extends t{constructor(t){super(),e(this,t,Ae,He,n,{input:2})}}function je(t,e,n){const r=t.slice();return r[2]=e[n],r}function Oe(t){let e,n,r,s;return n=new xs({props:{entries:[t[2]]}}),{c(){e=o("li"),v(n.$$.fragment),r=P(),this.h()},l(t){e=u(t,"LI",{class:!0});var s=$(e);y(n.$$.fragment,s),r=N(s),s.forEach(c),this.h()},h(){h(e,"class","svelte-1517r4i")},m(t,a){l(t,e,a),x(n,e,null),p(e,r),s=!0},p(t,e){const r={};1&e&&(r.entries=[t[2]]),n.$set(r)},i(t){s||(E(n.$$.fragment,t),s=!0)},o(t){b(n.$$.fragment,t),s=!1},d(t){t&&c(e),k(n)}}}function Re(t){let e,n,r=t[0].items,s=[];for(let l=0;l<r.length;l+=1)s[l]=Oe(je(t,r,l));const a=t=>b(s[t],1,1,(()=>{s[t]=null}));return{c(){e=o("ul");for(let t=0;t<s.length;t+=1)s[t].c();this.h()},l(t){e=u(t,"UL",{style:!0,class:!0});var n=$(e);for(let e=0;e<s.length;e+=1)s[e].l(n);n.forEach(c),this.h()},h(){W(e,"column-count",t[1]),h(e,"class","svelte-1517r4i")},m(t,r){l(t,e,r);for(let n=0;n<s.length;n+=1)s[n].m(e,null);n=!0},p(t,[n]){if(1&n){let l;for(r=t[0].items,l=0;l<r.length;l+=1){const a=je(t,r,l);s[l]?(s[l].p(a,n),E(s[l],1)):(s[l]=Oe(a),s[l].c(),E(s[l],1),s[l].m(e,null))}for(w(),l=r.length;l<s.length;l+=1)a(l);S()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)E(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)b(s[e]);n=!1},d(t){t&&c(e),j(s,t)}}}function Ve(t,e,n){var{input:r}=e,s=r.columns||1;return t.$$set=t=>{"input"in t&&n(0,r=t.input)},[r,s]}class Me extends t{constructor(t){super(),e(this,t,Ve,Re,n,{input:0})}}function _e(t,e,n){const r=t.slice();return r[16]=e[n],r}function Fe(t){let e,n,r,s,a;return{c(){e=o("p"),n=o("b"),r=i("Subclasses"),s=P(),a=i(t[10]),this.h()},l(l){e=u(l,"P",{class:!0});var o=$(e);n=u(o,"B",{});var i=$(n);r=f(i,"Subclasses"),i.forEach(c),s=N(o),a=f(o,t[10]),o.forEach(c),this.h()},h(){h(e,"class","svelte-1xovrf5")},m(t,c){l(t,e,c),p(e,n),p(n,r),p(e,s),p(e,a)},p(t,e){1024&e&&m(a,t[10])},d(t){t&&c(e)}}}function We(t){let e,n,s,a;const o=[ze,Ue],i=[];function u(t,e){return void 0===t[1].associatedClass?0:1}return e=u(t),n=i[e]=o[e](t),{c(){n.c(),s=r()},l(t){n.l(t),s=r()},m(t,n){i[e].m(t,n),l(t,s,n),a=!0},p(t,r){let l=e;e=u(t),e===l?i[e].p(t,r):(w(),b(i[l],1,1,(()=>{i[l]=null})),S(),n=i[e],n?n.p(t,r):(n=i[e]=o[e](t),n.c()),E(n,1),n.m(s.parentNode,s))},i(t){a||(E(n),a=!0)},o(t){b(n),a=!1},d(t){i[e].d(t),t&&c(s)}}}function Ue(t){let e,n;return e=new X({props:{$$slots:{default:[Ge]},$$scope:{ctx:t}}}),e.$on("click",t[15]),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,n){const r={};524288&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function ze(t){let e,n,s=t[12].spells.classesSpellCanBeAddedTo(t[1]),a=[];for(let r=0;r<s.length;r+=1)a[r]=Ke(_e(t,s,r));const o=t=>b(a[t],1,1,(()=>{a[t]=null}));return{c(){for(let t=0;t<a.length;t+=1)a[t].c();e=r()},l(t){for(let e=0;e<a.length;e+=1)a[e].l(t);e=r()},m(t,r){for(let e=0;e<a.length;e+=1)a[e].m(t,r);l(t,e,r),n=!0},p(t,n){if(6146&n){let r;for(s=t[12].spells.classesSpellCanBeAddedTo(t[1]),r=0;r<s.length;r+=1){const l=_e(t,s,r);a[r]?(a[r].p(l,n),E(a[r],1)):(a[r]=Ke(l),a[r].c(),E(a[r],1),a[r].m(e.parentNode,e))}for(w(),r=s.length;r<a.length;r+=1)o(r);S()}},i(t){if(!n){for(let t=0;t<s.length;t+=1)E(a[t]);n=!0}},o(t){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)b(a[e]);n=!1},d(t){j(a,t),t&&c(e)}}}function Ge(t){let e;return{c(){e=i("Remove spell")},l(t){e=f(t,"Remove spell")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function Xe(t){let e,n,r=t[16].name+"";return{c(){e=i("Add to "),n=i(r)},l(t){e=f(t,"Add to "),n=f(t,r)},m(t,r){l(t,e,r),l(t,n,r)},p(t,e){2&e&&r!==(r=t[16].name+"")&&m(n,r)},d(t){t&&c(e),t&&c(n)}}}function Je(t){let e,n,r=t[16].name+"";return{c(){e=i("Remove from "),n=i(r)},l(t){e=f(t,"Remove from "),n=f(t,r)},m(t,r){l(t,e,r),l(t,n,r)},p(t,e){2&e&&r!==(r=t[16].name+"")&&m(n,r)},d(t){t&&c(e),t&&c(n)}}}function Ye(t){let e,n;function s(t,n){return(null==e||2050&n)&&(e=!!t[12].spells.hasSpell(t[1].hash,t[16].hash,t[11])),e?Je:Xe}let a=s(t,-1),o=a(t);return{c(){o.c(),n=r()},l(t){o.l(t),n=r()},m(t,e){o.m(t,e),l(t,n,e)},p(t,e){a===(a=s(t,e))&&o?o.p(t,e):(o.d(1),o=a(t),o&&(o.c(),o.m(n.parentNode,n)))},d(t){o.d(t),t&&c(n)}}}function Ke(t){let e,n,r,s;return n=new X({props:{$$slots:{default:[Ye]},$$scope:{ctx:t}}}),n.$on("click",(function(){return t[14](t[16])})),{c(){e=o("div"),v(n.$$.fragment),r=P(),this.h()},l(t){e=u(t,"DIV",{class:!0});var s=$(e);y(n.$$.fragment,s),r=N(s),s.forEach(c),this.h()},h(){h(e,"class","buttonWrapper svelte-1xovrf5")},m(t,a){l(t,e,a),x(n,e,null),p(e,r),s=!0},p(e,r){t=e;const s={};526338&r&&(s.$$scope={dirty:r,ctx:t}),n.$set(s)},i(t){s||(E(n.$$.fragment,t),s=!0)},o(t){b(n.$$.fragment,t),s=!1},d(t){t&&c(e),k(n)}}}function Qe(t){let e,n,r;return n=new xs({props:{entries:t[1].entriesHigherLevel}}),{c(){e=o("i"),v(n.$$.fragment)},l(t){e=u(t,"I",{});var r=$(e);y(n.$$.fragment,r),r.forEach(c)},m(t,s){l(t,e,s),x(n,e,null),r=!0},p(t,e){const r={};2&e&&(r.entries=t[1].entriesHigherLevel),n.$set(r)},i(t){r||(E(n.$$.fragment,t),r=!0)},o(t){b(n.$$.fragment,t),r=!1},d(t){t&&c(e),k(n)}}}function Ze(t){let e,n,s,a,d,g,q,C,I,T,B,D,H,A,L,j,O,R,V,M,_,F,W,U,z,G,X,J,Y,K,Q,Z,tt,et,nt,rt,st,lt,at,ct,ot,it=void 0!==t[1].classes.fromSubclass&&Fe(t),ut=t[0]&&We(t);lt=new xs({props:{entries:t[1].entries}});let $t=t[1].entriesHigherLevel&&Qe(t);return{c(){e=o("i"),n=i(t[3]),s=i(", "),a=i(t[4]),d=P(),g=o("p"),q=o("b"),C=i("Casting Time"),I=P(),T=i(t[8]),B=P(),D=o("p"),H=o("b"),A=i("Range"),L=P(),j=i(t[5]),O=P(),R=o("p"),V=o("b"),M=i("Components"),_=P(),F=i(t[6]),W=P(),U=o("p"),z=o("b"),G=i("Duration"),X=P(),J=i(t[7]),Y=P(),K=o("p"),Q=o("b"),Z=i("Classes"),tt=P(),et=i(t[9]),nt=P(),it&&it.c(),rt=P(),ut&&ut.c(),st=P(),v(lt.$$.fragment),at=P(),$t&&$t.c(),ct=r(),this.h()},l(l){e=u(l,"I",{});var o=$(e);n=f(o,t[3]),s=f(o,", "),a=f(o,t[4]),o.forEach(c),d=N(l),g=u(l,"P",{class:!0});var i=$(g);q=u(i,"B",{});var p=$(q);C=f(p,"Casting Time"),p.forEach(c),I=N(i),T=f(i,t[8]),i.forEach(c),B=N(l),D=u(l,"P",{class:!0});var m=$(D);H=u(m,"B",{});var h=$(H);A=f(h,"Range"),h.forEach(c),L=N(m),j=f(m,t[5]),m.forEach(c),O=N(l),R=u(l,"P",{class:!0});var v=$(R);V=u(v,"B",{});var x=$(V);M=f(x,"Components"),x.forEach(c),_=N(v),F=f(v,t[6]),v.forEach(c),W=N(l),U=u(l,"P",{class:!0});var E=$(U);z=u(E,"B",{});var b=$(z);G=f(b,"Duration"),b.forEach(c),X=N(E),J=f(E,t[7]),E.forEach(c),Y=N(l),K=u(l,"P",{class:!0});var k=$(K);Q=u(k,"B",{});var w=$(Q);Z=f(w,"Classes"),w.forEach(c),tt=N(k),et=f(k,t[9]),k.forEach(c),nt=N(l),it&&it.l(l),rt=N(l),ut&&ut.l(l),st=N(l),y(lt.$$.fragment,l),at=N(l),$t&&$t.l(l),ct=r(),this.h()},h(){h(g,"class","svelte-1xovrf5"),h(D,"class","svelte-1xovrf5"),h(R,"class","svelte-1xovrf5"),h(U,"class","svelte-1xovrf5"),h(K,"class","svelte-1xovrf5")},m(t,r){l(t,e,r),p(e,n),p(e,s),p(e,a),l(t,d,r),l(t,g,r),p(g,q),p(q,C),p(g,I),p(g,T),l(t,B,r),l(t,D,r),p(D,H),p(H,A),p(D,L),p(D,j),l(t,O,r),l(t,R,r),p(R,V),p(V,M),p(R,_),p(R,F),l(t,W,r),l(t,U,r),p(U,z),p(z,G),p(U,X),p(U,J),l(t,Y,r),l(t,K,r),p(K,Q),p(Q,Z),p(K,tt),p(K,et),l(t,nt,r),it&&it.m(t,r),l(t,rt,r),ut&&ut.m(t,r),l(t,st,r),x(lt,t,r),l(t,at,r),$t&&$t.m(t,r),l(t,ct,r),ot=!0},p(t,[e]){(!ot||8&e)&&m(n,t[3]),(!ot||16&e)&&m(a,t[4]),(!ot||256&e)&&m(T,t[8]),(!ot||32&e)&&m(j,t[5]),(!ot||64&e)&&m(F,t[6]),(!ot||128&e)&&m(J,t[7]),(!ot||512&e)&&m(et,t[9]),void 0!==t[1].classes.fromSubclass?it?it.p(t,e):(it=Fe(t),it.c(),it.m(rt.parentNode,rt)):it&&(it.d(1),it=null),t[0]?ut?(ut.p(t,e),1&e&&E(ut,1)):(ut=We(t),ut.c(),E(ut,1),ut.m(st.parentNode,st)):ut&&(w(),b(ut,1,1,(()=>{ut=null})),S());const r={};2&e&&(r.entries=t[1].entries),lt.$set(r),t[1].entriesHigherLevel?$t?($t.p(t,e),2&e&&E($t,1)):($t=Qe(t),$t.c(),E($t,1),$t.m(ct.parentNode,ct)):$t&&(w(),b($t,1,1,(()=>{$t=null})),S())},i(t){ot||(E(ut),E(lt.$$.fragment,t),E($t),ot=!0)},o(t){b(ut),b(lt.$$.fragment,t),b($t),ot=!1},d(t){t&&c(e),t&&c(d),t&&c(g),t&&c(B),t&&c(D),t&&c(O),t&&c(R),t&&c(W),t&&c(U),t&&c(Y),t&&c(K),t&&c(nt),it&&it.d(t),t&&c(rt),ut&&ut.d(t),t&&c(st),k(lt,t),t&&c(at),$t&&$t.d(t),t&&c(ct)}}}function tn(t,e,n){let r,s,l,c,o,i,u,$,f,p,m,h,d=a;t.$$.on_destroy.push((()=>d()));var{data:v}=e,y=g("character");return t.$$set=t=>{"data"in t&&n(13,v=t.data)},t.$$.update=()=>{1&t.$$.dirty&&(n(2,s=r?y.characterStore:U()),d(),d=V(s,(t=>n(11,h=t)))),8192&t.$$.dirty&&n(1,l=v),2&t.$$.dirty&&n(3,c=l.level>0?`Level ${l.level}`:"Cantrip"),2&t.$$.dirty&&n(4,o=l.getSchoolString()),2&t.$$.dirty&&n(5,i=l.getRangeString()),2&t.$$.dirty&&n(6,u=l.getSpellComponentsString()),2&t.$$.dirty&&n(7,$=l.getDurationString()),2&t.$$.dirty&&n(8,f=l.getCastingTimeString()),2&t.$$.dirty&&n(9,p=l.classes.fromClassList.map((t=>t.name)).join(", ")),2&t.$$.dirty&&n(10,m=void 0!==l.classes.fromSubclass?l.classes.fromSubclass.map((t=>t.class.name+" "+t.subclass.name)).join(", "):"")},n(0,r=void 0!==y),[r,l,s,c,o,i,u,$,f,p,m,h,y,v,t=>y.spells.toggleSpell(l,t.hash),()=>y.spells.remove(l,l.associatedClass)]}class en extends t{constructor(t){super(),e(this,t,tn,Ze,n,{data:13})}}function nn(t){let e,n;return{c(){e=o("p"),n=i("Spell not found")},l(t){e=u(t,"P",{});var r=$(e);n=f(r,"Spell not found"),r.forEach(c)},m(t,r){l(t,e,r),p(e,n)},p:a,i:a,o:a,d(t){t&&c(e)}}}function rn(t){let e,n,r,s,a,d=t[2].name+"";return s=new en({props:{data:t[2],character:t[0]}}),{c(){e=o("h1"),n=i(d),r=P(),v(s.$$.fragment),this.h()},l(t){e=u(t,"H1",{class:!0});var l=$(e);n=f(l,d),l.forEach(c),r=N(t),y(s.$$.fragment,t),this.h()},h(){h(e,"class","svelte-1al97ty")},m(t,c){l(t,e,c),p(e,n),l(t,r,c),x(s,t,c),a=!0},p(t,e){(!a||4&e)&&d!==(d=t[2].name+"")&&m(n,d);const r={};4&e&&(r.data=t[2]),1&e&&(r.character=t[0]),s.$set(r)},i(t){a||(E(s.$$.fragment,t),a=!0)},o(t){b(s.$$.fragment,t),a=!1},d(t){t&&c(e),t&&c(r),k(s,t)}}}function sn(t){let e,n,s,a;const o=[rn,nn],i=[];function u(t,e){return void 0!==t[2]?0:1}return e=u(t),n=i[e]=o[e](t),{c(){n.c(),s=r()},l(t){n.l(t),s=r()},m(t,n){i[e].m(t,n),l(t,s,n),a=!0},p(t,r){let l=e;e=u(t),e===l?i[e].p(t,r):(w(),b(i[l],1,1,(()=>{i[l]=null})),S(),n=i[e],n?n.p(t,r):(n=i[e]=o[e](t),n.c()),E(n,1),n.m(s.parentNode,s))},i(t){a||(E(n),a=!0)},o(t){b(n),a=!1},d(t){i[e].d(t),t&&c(s)}}}function ln(t){let e,n;return e=new It({props:{text:t[1],fixed:!0,$$slots:{default:[sn]},$$scope:{ctx:t}}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,[n]){const r={};2&n&&(r.text=t[1]),69&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function an(t,e,n){let r,s;var{input:l}=e,{character:a=null}=e,c=Object.values(nt);return t.$$set=t=>{"input"in t&&n(3,l=t.input),"character"in t&&n(0,a=t.character)},t.$$.update=()=>{var e;8&t.$$.dirty&&n(1,r=function(t){return function(t){return(t=(t=t.replace("{@spell ","")).replace("}","")).split("|")}(t)[0]}(l)),2&t.$$.dirty&&n(2,(e=r,s=c.filter((t=>t.name.toLowerCase()===e.toLowerCase()))[0]))},[a,r,s,l]}class cn extends t{constructor(t){super(),e(this,t,an,ln,n,{input:3,character:0})}}function on(t){let e,n,r,s,a,i,f,m;const g=t[3].default,v=I(g,t,t[2],null);return{c(){e=o("div"),n=o("div"),r=o("button"),s=o("span"),a=P(),v&&v.c(),this.h()},l(t){e=u(t,"DIV",{class:!0});var l=$(e);n=u(l,"DIV",{class:!0});var o=$(n);r=u(o,"BUTTON",{class:!0});var i=$(r);s=u(i,"SPAN",{class:!0}),$(s).forEach(c),i.forEach(c),a=N(o),v&&v.l(o),o.forEach(c),l.forEach(c),this.h()},h(){h(s,"class","mdi mdi-close"),h(r,"class","svelte-f4q6ix"),h(n,"class","popup svelte-f4q6ix"),h(e,"class","scim svelte-f4q6ix")},m(c,o){l(c,e,o),p(e,n),p(n,r),p(r,s),p(n,a),v&&v.m(n,null),i=!0,f||(m=[d(r,"click",t[1]),d(e,"click",q(t[1]))],f=!0)},p(t,e){v&&v.p&&(!i||4&e)&&B(v,g,t,t[2],e,null,null)},i(t){i||(E(v,t),i=!0)},o(t){b(v,t),i=!1},d(t){t&&c(e),v&&v.d(t),f=!1,O(m)}}}function un(t){let e,n,s=t[0]&&on(t);return{c(){s&&s.c(),e=r()},l(t){s&&s.l(t),e=r()},m(t,r){s&&s.m(t,r),l(t,e,r),n=!0},p(t,[n]){t[0]?s?(s.p(t,n),1&n&&E(s,1)):(s=on(t),s.c(),E(s,1),s.m(e.parentNode,e)):s&&(w(),b(s,1,1,(()=>{s=null})),S())},i(t){n||(E(s),n=!0)},o(t){b(s),n=!1},d(t){s&&s.d(t),t&&c(e)}}}function $n(t,e,n){let{$$slots:r={},$$scope:s}=e;var{open:l=!1}=e;return t.$$set=t=>{"open"in t&&n(0,l=t.open),"$$scope"in t&&n(2,s=t.$$scope)},[l,function(){n(0,l=!1)},s,r]}class fn extends t{constructor(t){super(),e(this,t,$n,un,n,{open:0})}}function pn(t){let e,n,r,s,g,v,y,x,E;return{c(){e=o("div"),n=o("div"),r=o("h1"),s=i(t[0]),g=P(),v=o("span"),y=i(t[1]),this.h()},l(l){e=u(l,"DIV",{class:!0,style:!0});var a=$(e);n=u(a,"DIV",{class:!0});var o=$(n);r=u(o,"H1",{class:!0});var i=$(r);s=f(i,t[0]),g=N(i),v=u(i,"SPAN",{class:!0});var p=$(v);y=f(p,t[1]),p.forEach(c),i.forEach(c),o.forEach(c),a.forEach(c),this.h()},h(){h(v,"class","source svelte-6lsdas"),h(r,"class","svelte-6lsdas"),h(n,"class","darken svelte-6lsdas"),h(e,"class","popupHead svelte-6lsdas"),h(e,"style",t[2])},m(a,c){l(a,e,c),p(e,n),p(n,r),p(r,s),p(r,g),p(r,v),p(v,y),x||(E=d(v,"click",t[3]),x=!0)},p(t,[n]){1&n&&m(s,t[0]),2&n&&m(y,t[1]),4&n&&h(e,"style",t[2])},i:a,o:a,d(t){t&&c(e),x=!1,E()}}}function mn(t,e,n){let r;const s=C();var{text:l}=e,{subtitle:a=""}=e,{background:c}=e;return t.$$set=t=>{"text"in t&&n(0,l=t.text),"subtitle"in t&&n(1,a=t.subtitle),"background"in t&&n(4,c=t.background)},t.$$.update=()=>{16&t.$$.dirty&&n(2,r=`background-image: url(${c})`)},[l,a,r,function(){s("subtitleClick")},c]}class hn extends t{constructor(t){super(),e(this,t,mn,pn,n,{text:0,subtitle:1,background:4})}}function dn(t,e,n){const r=t.slice();return r[24]=e[n],r}function gn(t,e,n){const r=t.slice();return r[24]=e[n],r}function vn(t,e,n){const r=t.slice();return r[29]=e[n],r}function yn(t,e,n){const r=t.slice();return r[32]=e[n],r}function xn(t,e,n){const r=t.slice();return r[35]=e[n],r}function En(t,e,n){const r=t.slice();return r[38]=e[n],r}function bn(t){let e,n,r,s=t[3]&&kn(t);return n=new X({props:{$$slots:{default:[Pn]},$$scope:{ctx:t}}}),n.$on("click",t[23]),{c(){s&&s.c(),e=P(),v(n.$$.fragment)},l(t){s&&s.l(t),e=N(t),y(n.$$.fragment,t)},m(t,a){s&&s.m(t,a),l(t,e,a),x(n,t,a),r=!0},p(t,r){t[3]?s?(s.p(t,r),8&r[0]&&E(s,1)):(s=kn(t),s.c(),E(s,1),s.m(e.parentNode,e)):s&&(w(),b(s,1,1,(()=>{s=null})),S());const l={};8&r[0]|1024&r[1]&&(l.$$scope={dirty:r,ctx:t}),n.$set(l)},i(t){r||(E(s),E(n.$$.fragment,t),r=!0)},o(t){b(s),b(n.$$.fragment,t),r=!1},d(t){s&&s.d(t),t&&c(e),k(n,t)}}}function kn(t){let e,n,r;return n=new xs({props:{entries:t[5]}}),{c(){e=o("div"),v(n.$$.fragment)},l(t){e=u(t,"DIV",{});var r=$(e);y(n.$$.fragment,r),r.forEach(c)},m(t,s){l(t,e,s),x(n,e,null),r=!0},p(t,e){const r={};32&e[0]&&(r.entries=t[5]),n.$set(r)},i(t){r||(E(n.$$.fragment,t),r=!0)},o(t){b(n.$$.fragment,t),r=!1},d(t){t&&c(e),k(n)}}}function wn(t){let e;return{c(){e=i("Hide fluff")},l(t){e=f(t,"Hide fluff")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function Sn(t){let e;return{c(){e=i("Show fluff")},l(t){e=f(t,"Show fluff")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function Pn(t){let e;function n(t,e){return t[3]?wn:Sn}let s=n(t),a=s(t);return{c(){a.c(),e=r()},l(t){a.l(t),e=r()},m(t,n){a.m(t,n),l(t,e,n)},p(t,r){s!==(s=n(t))&&(a.d(1),a=s(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){a.d(t),t&&c(e)}}}function Nn(t){let e,n,r,s,a,m;return a=new gr({props:{line:t[11]}}),{c(){e=o("p"),n=o("b"),r=i("Saving Throws"),s=P(),v(a.$$.fragment),this.h()},l(t){e=u(t,"P",{class:!0});var l=$(e);n=u(l,"B",{});var o=$(n);r=f(o,"Saving Throws"),o.forEach(c),s=N(l),y(a.$$.fragment,l),l.forEach(c),this.h()},h(){h(e,"class","svelte-2a4qkh")},m(t,c){l(t,e,c),p(e,n),p(n,r),p(e,s),x(a,e,null),m=!0},p(t,e){const n={};2048&e[0]&&(n.line=t[11]),a.$set(n)},i(t){m||(E(a.$$.fragment,t),m=!0)},o(t){b(a.$$.fragment,t),m=!1},d(t){t&&c(e),k(a)}}}function qn(t){let e,n,r,s,a,m;return a=new gr({props:{line:t[12]}}),{c(){e=o("p"),n=o("b"),r=i("Skills"),s=P(),v(a.$$.fragment),this.h()},l(t){e=u(t,"P",{class:!0});var l=$(e);n=u(l,"B",{});var o=$(n);r=f(o,"Skills"),o.forEach(c),s=N(l),y(a.$$.fragment,l),l.forEach(c),this.h()},h(){h(e,"class","svelte-2a4qkh")},m(t,c){l(t,e,c),p(e,n),p(n,r),p(e,s),x(a,e,null),m=!0},p(t,e){const n={};4096&e[0]&&(n.line=t[12]),a.$set(n)},i(t){m||(E(a.$$.fragment,t),m=!0)},o(t){b(a.$$.fragment,t),m=!1},d(t){t&&c(e),k(a)}}}function Cn(t){let e,n,r,s,a,m;return a=new gr({props:{line:t[20]}}),{c(){e=o("p"),n=o("b"),r=i("Damage Resistances"),s=P(),v(a.$$.fragment),this.h()},l(t){e=u(t,"P",{class:!0});var l=$(e);n=u(l,"B",{});var o=$(n);r=f(o,"Damage Resistances"),o.forEach(c),s=N(l),y(a.$$.fragment,l),l.forEach(c),this.h()},h(){h(e,"class","svelte-2a4qkh")},m(t,c){l(t,e,c),p(e,n),p(n,r),p(e,s),x(a,e,null),m=!0},p(t,e){const n={};1048576&e[0]&&(n.line=t[20]),a.$set(n)},i(t){m||(E(a.$$.fragment,t),m=!0)},o(t){b(a.$$.fragment,t),m=!1},d(t){t&&c(e),k(a)}}}function In(t){let e,n,r,s,a,d=t[0].conditionImmune.join(", ")+"";return{c(){e=o("p"),n=o("b"),r=i("Condition Immunities"),s=P(),a=i(d),this.h()},l(t){e=u(t,"P",{class:!0});var l=$(e);n=u(l,"B",{});var o=$(n);r=f(o,"Condition Immunities"),o.forEach(c),s=N(l),a=f(l,d),l.forEach(c),this.h()},h(){h(e,"class","svelte-2a4qkh")},m(t,c){l(t,e,c),p(e,n),p(n,r),p(e,s),p(e,a)},p(t,e){1&e[0]&&d!==(d=t[0].conditionImmune.join(", ")+"")&&m(a,d)},d(t){t&&c(e)}}}function Tn(t){let e,n,r,s,a;return{c(){e=o("p"),n=o("b"),r=i("Senses"),s=P(),a=i(t[1]),this.h()},l(l){e=u(l,"P",{class:!0});var o=$(e);n=u(o,"B",{});var i=$(n);r=f(i,"Senses"),i.forEach(c),s=N(o),a=f(o,t[1]),o.forEach(c),this.h()},h(){h(e,"class","svelte-2a4qkh")},m(t,c){l(t,e,c),p(e,n),p(n,r),p(e,s),p(e,a)},p(t,e){2&e[0]&&m(a,t[1])},d(t){t&&c(e)}}}function Bn(t){let e;return{c(){e=i("—")},l(t){e=f(t,"—")},m(t,n){l(t,e,n)},p:a,d(t){t&&c(e)}}}function Dn(t){let e,n=t[0].languages.join(", ")+"";return{c(){e=i(n)},l(t){e=f(t,n)},m(t,n){l(t,e,n)},p(t,r){1&r[0]&&n!==(n=t[0].languages.join(", ")+"")&&m(e,n)},d(t){t&&c(e)}}}function Hn(t){let e,n,s,a,i=t[0].trait,$=[];for(let r=0;r<i.length;r+=1)$[r]=Ln(xn(t,i,r));const f=t=>b($[t],1,1,(()=>{$[t]=null}));return{c(){e=o("hr"),n=P();for(let t=0;t<$.length;t+=1)$[t].c();s=r(),this.h()},l(t){e=u(t,"HR",{class:!0}),n=N(t);for(let e=0;e<$.length;e+=1)$[e].l(t);s=r(),this.h()},h(){h(e,"class","svelte-2a4qkh")},m(t,r){l(t,e,r),l(t,n,r);for(let e=0;e<$.length;e+=1)$[e].m(t,r);l(t,s,r),a=!0},p(t,e){if(1&e[0]){let n;for(i=t[0].trait,n=0;n<i.length;n+=1){const r=xn(t,i,n);$[n]?($[n].p(r,e),E($[n],1)):($[n]=Ln(r),$[n].c(),E($[n],1),$[n].m(s.parentNode,s))}for(w(),n=i.length;n<$.length;n+=1)f(n);S()}},i(t){if(!a){for(let t=0;t<i.length;t+=1)E($[t]);a=!0}},o(t){$=$.filter(Boolean);for(let e=0;e<$.length;e+=1)b($[e]);a=!1},d(t){t&&c(e),t&&c(n),j($,t),t&&c(s)}}}function An(t){let e,n;return e=new gr({props:{line:t[38]}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,n){const r={};1&n[0]&&(r.line=t[38]),e.$set(r)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function Ln(t){let e,n,r,s,a,d,g,v,y=t[35].name+"",x=t[35].entries,k=[];for(let l=0;l<x.length;l+=1)k[l]=An(En(t,x,l));const q=t=>b(k[t],1,1,(()=>{k[t]=null}));return{c(){e=o("p"),n=o("i"),r=o("b"),s=i(y),a=i("."),d=P();for(let t=0;t<k.length;t+=1)k[t].c();g=P(),this.h()},l(t){e=u(t,"P",{class:!0});var l=$(e);n=u(l,"I",{});var o=$(n);r=u(o,"B",{});var i=$(r);s=f(i,y),a=f(i,"."),i.forEach(c),o.forEach(c),d=N(l);for(let e=0;e<k.length;e+=1)k[e].l(l);g=N(l),l.forEach(c),this.h()},h(){h(e,"class","svelte-2a4qkh")},m(t,c){l(t,e,c),p(e,n),p(n,r),p(r,s),p(r,a),p(e,d);for(let n=0;n<k.length;n+=1)k[n].m(e,null);p(e,g),v=!0},p(t,n){if((!v||1&n[0])&&y!==(y=t[35].name+"")&&m(s,y),1&n[0]){let r;for(x=t[35].entries,r=0;r<x.length;r+=1){const s=En(t,x,r);k[r]?(k[r].p(s,n),E(k[r],1)):(k[r]=An(s),k[r].c(),E(k[r],1),k[r].m(e,g))}for(w(),r=x.length;r<k.length;r+=1)q(r);S()}},i(t){if(!v){for(let t=0;t<x.length;t+=1)E(k[t]);v=!0}},o(t){k=k.filter(Boolean);for(let e=0;e<k.length;e+=1)b(k[e]);v=!1},d(t){t&&c(e),j(k,t)}}}function jn(t){let e,n,s,a,m,d=t[0].spellcasting,g=[];for(let r=0;r<d.length;r+=1)g[r]=Mn(vn(t,d,r));const v=t=>b(g[t],1,1,(()=>{g[t]=null}));return{c(){e=o("h3"),n=i("Spellcasting"),s=P();for(let t=0;t<g.length;t+=1)g[t].c();a=r(),this.h()},l(t){e=u(t,"H3",{class:!0});var l=$(e);n=f(l,"Spellcasting"),l.forEach(c),s=N(t);for(let e=0;e<g.length;e+=1)g[e].l(t);a=r(),this.h()},h(){h(e,"class","svelte-2a4qkh")},m(t,r){l(t,e,r),p(e,n),l(t,s,r);for(let e=0;e<g.length;e+=1)g[e].m(t,r);l(t,a,r),m=!0},p(t,e){if(1&e[0]){let n;for(d=t[0].spellcasting,n=0;n<d.length;n+=1){const r=vn(t,d,n);g[n]?(g[n].p(r,e),E(g[n],1)):(g[n]=Mn(r),g[n].c(),E(g[n],1),g[n].m(a.parentNode,a))}for(w(),n=d.length;n<g.length;n+=1)v(n);S()}},i(t){if(!m){for(let t=0;t<d.length;t+=1)E(g[t]);m=!0}},o(t){g=g.filter(Boolean);for(let e=0;e<g.length;e+=1)b(g[e]);m=!1},d(t){t&&c(e),t&&c(s),j(g,t),t&&c(a)}}}function On(t){let e,n,r;return n=new gr({props:{line:Xn(t[29].daily)}}),{c(){e=o("p"),v(n.$$.fragment),this.h()},l(t){e=u(t,"P",{class:!0});var r=$(e);y(n.$$.fragment,r),r.forEach(c),this.h()},h(){h(e,"class","svelte-2a4qkh")},m(t,s){l(t,e,s),x(n,e,null),r=!0},p(t,e){const r={};1&e[0]&&(r.line=Xn(t[29].daily)),n.$set(r)},i(t){r||(E(n.$$.fragment,t),r=!0)},o(t){b(n.$$.fragment,t),r=!1},d(t){t&&c(e),k(n)}}}function Rn(t){let e,n,s=Jn(t[29].spells),a=[];for(let r=0;r<s.length;r+=1)a[r]=Vn(yn(t,s,r));const o=t=>b(a[t],1,1,(()=>{a[t]=null}));return{c(){for(let t=0;t<a.length;t+=1)a[t].c();e=r()},l(t){for(let e=0;e<a.length;e+=1)a[e].l(t);e=r()},m(t,r){for(let e=0;e<a.length;e+=1)a[e].m(t,r);l(t,e,r),n=!0},p(t,n){if(1&n[0]){let r;for(s=Jn(t[29].spells),r=0;r<s.length;r+=1){const l=yn(t,s,r);a[r]?(a[r].p(l,n),E(a[r],1)):(a[r]=Vn(l),a[r].c(),E(a[r],1),a[r].m(e.parentNode,e))}for(w(),r=s.length;r<a.length;r+=1)o(r);S()}},i(t){if(!n){for(let t=0;t<s.length;t+=1)E(a[t]);n=!0}},o(t){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)b(a[e]);n=!1},d(t){j(a,t),t&&c(e)}}}function Vn(t){let e,n,r,s,a,d,g,w,S=Yn(t[32].spellLevel)+"",q=t[32].slots+"";return d=new gr({props:{line:t[32].spells.join(", ")}}),{c(){e=o("p"),n=i(S),r=i(" level ("),s=i(q),a=i(" slots):\n                            "),v(d.$$.fragment),g=P(),this.h()},l(t){e=u(t,"P",{class:!0});var l=$(e);n=f(l,S),r=f(l," level ("),s=f(l,q),a=f(l," slots):\n                            "),y(d.$$.fragment,l),g=N(l),l.forEach(c),this.h()},h(){h(e,"class","svelte-2a4qkh")},m(t,c){l(t,e,c),p(e,n),p(e,r),p(e,s),p(e,a),x(d,e,null),p(e,g),w=!0},p(t,e){(!w||1&e[0])&&S!==(S=Yn(t[32].spellLevel)+"")&&m(n,S),(!w||1&e[0])&&q!==(q=t[32].slots+"")&&m(s,q);const r={};1&e[0]&&(r.line=t[32].spells.join(", ")),d.$set(r)},i(t){w||(E(d.$$.fragment,t),w=!0)},o(t){b(d.$$.fragment,t),w=!1},d(t){t&&c(e),k(d)}}}function Mn(t){let e,n,r,s,a,i;n=new xs({props:{entries:t[29].headerEntries,preHTML:`<i><b>${t[29].name}</b></i>`}});let f=void 0!==t[29].daily&&On(t),m=void 0!==t[29].spells&&Rn(t);return{c(){e=o("p"),v(n.$$.fragment),r=P(),f&&f.c(),s=P(),m&&m.c(),a=P(),this.h()},l(t){e=u(t,"P",{class:!0});var l=$(e);y(n.$$.fragment,l),r=N(l),f&&f.l(l),s=N(l),m&&m.l(l),a=N(l),l.forEach(c),this.h()},h(){h(e,"class","svelte-2a4qkh")},m(t,c){l(t,e,c),x(n,e,null),p(e,r),f&&f.m(e,null),p(e,s),m&&m.m(e,null),p(e,a),i=!0},p(t,r){const l={};1&r[0]&&(l.entries=t[29].headerEntries),1&r[0]&&(l.preHTML=`<i><b>${t[29].name}</b></i>`),n.$set(l),void 0!==t[29].daily?f?(f.p(t,r),1&r[0]&&E(f,1)):(f=On(t),f.c(),E(f,1),f.m(e,s)):f&&(w(),b(f,1,1,(()=>{f=null})),S()),void 0!==t[29].spells?m?(m.p(t,r),1&r[0]&&E(m,1)):(m=Rn(t),m.c(),E(m,1),m.m(e,a)):m&&(w(),b(m,1,1,(()=>{m=null})),S())},i(t){i||(E(n.$$.fragment,t),E(f),E(m),i=!0)},o(t){b(n.$$.fragment,t),b(f),b(m),i=!1},d(t){t&&c(e),k(n),f&&f.d(),m&&m.d()}}}function _n(t){let e,n;return e=new xs({props:{preHTML:`<b><i>${t[24].name}</i></b>`,entries:t[24].entries}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,n){const r={};1&n[0]&&(r.preHTML=`<b><i>${t[24].name}</i></b>`),1&n[0]&&(r.entries=t[24].entries),e.$set(r)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function Fn(t){let e,n,s,a,m,d,g,v;const y=[Un,Wn],x=[];function k(t,e){return void 0!==t[0].legendaryHeader?0:1}a=k(t),m=x[a]=y[a](t);let q=t[0].legendary,C=[];for(let r=0;r<q.length;r+=1)C[r]=zn(dn(t,q,r));const I=t=>b(C[t],1,1,(()=>{C[t]=null}));return{c(){e=o("h3"),n=i("Legendary Actions"),s=P(),m.c(),d=P();for(let t=0;t<C.length;t+=1)C[t].c();g=r(),this.h()},l(t){e=u(t,"H3",{class:!0});var l=$(e);n=f(l,"Legendary Actions"),l.forEach(c),s=N(t),m.l(t),d=N(t);for(let e=0;e<C.length;e+=1)C[e].l(t);g=r(),this.h()},h(){h(e,"class","svelte-2a4qkh")},m(t,r){l(t,e,r),p(e,n),l(t,s,r),x[a].m(t,r),l(t,d,r);for(let e=0;e<C.length;e+=1)C[e].m(t,r);l(t,g,r),v=!0},p(t,e){let n=a;if(a=k(t),a===n?x[a].p(t,e):(w(),b(x[n],1,1,(()=>{x[n]=null})),S(),m=x[a],m?m.p(t,e):(m=x[a]=y[a](t),m.c()),E(m,1),m.m(d.parentNode,d)),1&e[0]){let n;for(q=t[0].legendary,n=0;n<q.length;n+=1){const r=dn(t,q,n);C[n]?(C[n].p(r,e),E(C[n],1)):(C[n]=zn(r),C[n].c(),E(C[n],1),C[n].m(g.parentNode,g))}for(w(),n=q.length;n<C.length;n+=1)I(n);S()}},i(t){if(!v){E(m);for(let t=0;t<q.length;t+=1)E(C[t]);v=!0}},o(t){b(m),C=C.filter(Boolean);for(let e=0;e<C.length;e+=1)b(C[e]);v=!1},d(t){t&&c(e),t&&c(s),x[a].d(t),t&&c(d),j(C,t),t&&c(g)}}}function Wn(t){let e,n,r,s,o,u=t[0].name+"",$=t[0].name+"";return{c(){e=i("The "),n=i(u),r=i(" can take 3 legendary actions, choosing from the options below. Only one legendary action can be used at a time and only at the end of another creature's turn. The "),s=i($),o=i(" regains spend legendary actions at the start of its turn.")},l(t){e=f(t,"The "),n=f(t,u),r=f(t," can take 3 legendary actions, choosing from the options below. Only one legendary action can be used at a time and only at the end of another creature's turn. The "),s=f(t,$),o=f(t," regains spend legendary actions at the start of its turn.")},m(t,a){l(t,e,a),l(t,n,a),l(t,r,a),l(t,s,a),l(t,o,a)},p(t,e){1&e[0]&&u!==(u=t[0].name+"")&&m(n,u),1&e[0]&&$!==($=t[0].name+"")&&m(s,$)},i:a,o:a,d(t){t&&c(e),t&&c(n),t&&c(r),t&&c(s),t&&c(o)}}}function Un(t){let e,n;return e=new xs({props:{entries:t[0].legendaryHeader}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,n){const r={};1&n[0]&&(r.entries=t[0].legendaryHeader),e.$set(r)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function zn(t){let e,n;return e=new xs({props:{preHTML:`<b><i>${t[24].name}</i></b>`,entries:t[24].entries}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,n){const r={};1&n[0]&&(r.preHTML=`<b><i>${t[24].name}</i></b>`),1&n[0]&&(r.entries=t[24].entries),e.$set(r)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function Gn(t){let e,n,r,s,a,g,q,C,I,T,B,D,H,A,L,O,R,V,M,_,F,W,U,G,X,J,Y,K,Q,Z,tt,et,nt,rt,st,lt,at,ct,ot,it,ut,$t,ft,pt,mt,ht,gt,vt,yt,xt,Et,bt,kt,wt,St,Pt,Nt,qt,Ct,It,Tt,Bt,Dt,Ht,At,Lt,jt,Ot,Rt,Vt,Mt,_t,Ft,Wt,Ut,zt,Gt,Xt,Jt,Yt,Kt,Qt,Zt,te,ee,ne,re,se,le,ae,ce,oe,ie,ue,$e,fe,pe,me,he,de,ge,ve,ye,xe,Ee,be,ke,we,Se,Pe,Ne,qe,Ce,Ie,Te,Be,De,He,Ae,Le,je,Oe,Re,Ve,Me,_e,Fe,We,Ue,ze,Ge,Xe,Je,Ye=t[0].hp.average+"",Ke=t[0].str+"",Qe=t[0].dex+"",Ze=t[0].con+"",tn=t[0].int+"",en=t[0].wis+"",nn=t[0].cha+"",rn=t[0].hasFluff&&bn(t);F=new gr({props:{line:t[9]}}),Q=new dt({props:{text:t[0].hp.formula,expression:t[0].hp.formula}}),yt=new dt({props:{text:t[14],expression:"1d20"+t[14]}}),It=new dt({props:{text:t[15],expression:"1d20"+t[15]}}),Mt=new dt({props:{text:t[16],expression:"1d20"+t[16]}}),Qt=new dt({props:{text:t[17],expression:"1d20"+t[17]}}),ie=new dt({props:{text:t[18],expression:"1d20"+t[18]}}),xe=new dt({props:{text:t[19],expression:"1d20"+t[19]}});let sn=void 0!==t[0].save&&Nn(t),ln=void 0!==t[0].skill&&qn(t),an=null!==t[20]&&Cn(t),cn=void 0!==t[0].conditionImmune&&In(t),on=""!==t[1]&&Tn(t);function un(t,e){return void 0!==t[0].languages?Dn:Bn}let $n=un(t),fn=$n(t),pn=void 0!==t[0].trait&&Hn(t),mn=void 0!==t[0].spellcasting&&jn(t),hn=t[0].action,dn=[];for(let l=0;l<hn.length;l+=1)dn[l]=_n(gn(t,hn,l));const vn=t=>b(dn[t],1,1,(()=>{dn[t]=null}));let yn=void 0!==t[0].legendary&&Fn(t);return{c(){e=o("div"),n=o("header"),r=o("img"),g=P(),rn&&rn.c(),q=P(),C=o("h2"),I=i(t[6]),T=P(),B=i(t[7]),D=i(",\n        "),H=i(t[8]),A=P(),L=o("hr"),O=P(),R=o("p"),V=o("b"),M=i("Armor Class"),_=P(),v(F.$$.fragment),W=P(),U=o("p"),G=o("b"),X=i("Hit Points"),J=P(),Y=i(Ye),K=i(" ("),v(Q.$$.fragment),Z=i(")"),tt=P(),et=o("p"),nt=o("b"),rt=i("Speed"),st=P(),lt=i(t[10]),at=P(),ct=o("hr"),ot=P(),it=o("div"),ut=o("div"),$t=o("p"),ft=o("b"),pt=i("Str"),mt=P(),ht=o("p"),gt=i(Ke),vt=i(" ("),v(yt.$$.fragment),xt=i(")"),Et=P(),bt=o("div"),kt=o("p"),wt=o("b"),St=i("Dex"),Pt=P(),Nt=o("p"),qt=i(Qe),Ct=i(" ("),v(It.$$.fragment),Tt=i(")"),Bt=P(),Dt=o("div"),Ht=o("p"),At=o("b"),Lt=i("Con"),jt=P(),Ot=o("p"),Rt=i(Ze),Vt=i(" ("),v(Mt.$$.fragment),_t=i(")"),Ft=P(),Wt=o("div"),Ut=o("p"),zt=o("b"),Gt=i("Int"),Xt=P(),Jt=o("p"),Yt=i(tn),Kt=i(" ("),v(Qt.$$.fragment),Zt=i(")"),te=P(),ee=o("div"),ne=o("p"),re=o("b"),se=i("Wis"),le=P(),ae=o("p"),ce=i(en),oe=i(" ("),v(ie.$$.fragment),ue=i(")"),$e=P(),fe=o("div"),pe=o("p"),me=o("b"),he=i("Cha"),de=P(),ge=o("p"),ve=i(nn),ye=i(" ("),v(xe.$$.fragment),Ee=i(")"),be=P(),ke=o("hr"),we=P(),sn&&sn.c(),Se=P(),ln&&ln.c(),Pe=P(),an&&an.c(),Ne=P(),cn&&cn.c(),qe=P(),on&&on.c(),Ce=P(),Ie=o("p"),Te=o("b"),Be=i("Languages"),De=P(),fn.c(),He=P(),Ae=o("p"),Le=o("b"),je=i("Challenge"),Oe=P(),Re=i(t[13]),Ve=P(),pn&&pn.c(),Me=P(),mn&&mn.c(),_e=P(),Fe=o("h3"),We=i("Actions"),Ue=P();for(let t=0;t<dn.length;t+=1)dn[t].c();ze=P(),yn&&yn.c(),this.h()},l(s){e=u(s,"DIV",{class:!0});var l=$(e);n=u(l,"HEADER",{class:!0});var a=$(n);r=u(a,"IMG",{src:!0,alt:!0,class:!0}),a.forEach(c),g=N(l),rn&&rn.l(l),q=N(l),C=u(l,"H2",{class:!0});var o=$(C);I=f(o,t[6]),T=N(o),B=f(o,t[7]),D=f(o,",\n        "),H=f(o,t[8]),o.forEach(c),A=N(l),L=u(l,"HR",{class:!0}),O=N(l),R=u(l,"P",{class:!0});var i=$(R);V=u(i,"B",{});var p=$(V);M=f(p,"Armor Class"),p.forEach(c),_=N(i),y(F.$$.fragment,i),i.forEach(c),W=N(l),U=u(l,"P",{class:!0});var m=$(U);G=u(m,"B",{});var h=$(G);X=f(h,"Hit Points"),h.forEach(c),J=N(m),Y=f(m,Ye),K=f(m," ("),y(Q.$$.fragment,m),Z=f(m,")"),m.forEach(c),tt=N(l),et=u(l,"P",{class:!0});var d=$(et);nt=u(d,"B",{});var v=$(nt);rt=f(v,"Speed"),v.forEach(c),st=N(d),lt=f(d,t[10]),d.forEach(c),at=N(l),ct=u(l,"HR",{class:!0}),ot=N(l),it=u(l,"DIV",{class:!0});var x=$(it);ut=u(x,"DIV",{class:!0});var E=$(ut);$t=u(E,"P",{class:!0});var b=$($t);ft=u(b,"B",{});var k=$(ft);pt=f(k,"Str"),k.forEach(c),b.forEach(c),mt=N(E),ht=u(E,"P",{class:!0});var w=$(ht);gt=f(w,Ke),vt=f(w," ("),y(yt.$$.fragment,w),xt=f(w,")"),w.forEach(c),E.forEach(c),Et=N(x),bt=u(x,"DIV",{class:!0});var S=$(bt);kt=u(S,"P",{class:!0});var P=$(kt);wt=u(P,"B",{});var j=$(wt);St=f(j,"Dex"),j.forEach(c),P.forEach(c),Pt=N(S),Nt=u(S,"P",{class:!0});var z=$(Nt);qt=f(z,Qe),Ct=f(z," ("),y(It.$$.fragment,z),Tt=f(z,")"),z.forEach(c),S.forEach(c),Bt=N(x),Dt=u(x,"DIV",{class:!0});var dt=$(Dt);Ht=u(dt,"P",{class:!0});var Ge=$(Ht);At=u(Ge,"B",{});var Xe=$(At);Lt=f(Xe,"Con"),Xe.forEach(c),Ge.forEach(c),jt=N(dt),Ot=u(dt,"P",{class:!0});var Je=$(Ot);Rt=f(Je,Ze),Vt=f(Je," ("),y(Mt.$$.fragment,Je),_t=f(Je,")"),Je.forEach(c),dt.forEach(c),Ft=N(x),Wt=u(x,"DIV",{class:!0});var un=$(Wt);Ut=u(un,"P",{class:!0});var $n=$(Ut);zt=u($n,"B",{});var hn=$(zt);Gt=f(hn,"Int"),hn.forEach(c),$n.forEach(c),Xt=N(un),Jt=u(un,"P",{class:!0});var gn=$(Jt);Yt=f(gn,tn),Kt=f(gn," ("),y(Qt.$$.fragment,gn),Zt=f(gn,")"),gn.forEach(c),un.forEach(c),te=N(x),ee=u(x,"DIV",{class:!0});var vn=$(ee);ne=u(vn,"P",{class:!0});var xn=$(ne);re=u(xn,"B",{});var En=$(re);se=f(En,"Wis"),En.forEach(c),xn.forEach(c),le=N(vn),ae=u(vn,"P",{class:!0});var bn=$(ae);ce=f(bn,en),oe=f(bn," ("),y(ie.$$.fragment,bn),ue=f(bn,")"),bn.forEach(c),vn.forEach(c),$e=N(x),fe=u(x,"DIV",{class:!0});var kn=$(fe);pe=u(kn,"P",{class:!0});var wn=$(pe);me=u(wn,"B",{});var Sn=$(me);he=f(Sn,"Cha"),Sn.forEach(c),wn.forEach(c),de=N(kn),ge=u(kn,"P",{class:!0});var Pn=$(ge);ve=f(Pn,nn),ye=f(Pn," ("),y(xe.$$.fragment,Pn),Ee=f(Pn,")"),Pn.forEach(c),kn.forEach(c),x.forEach(c),be=N(l),ke=u(l,"HR",{class:!0}),we=N(l),sn&&sn.l(l),Se=N(l),ln&&ln.l(l),Pe=N(l),an&&an.l(l),Ne=N(l),cn&&cn.l(l),qe=N(l),on&&on.l(l),Ce=N(l),Ie=u(l,"P",{class:!0});var Nn=$(Ie);Te=u(Nn,"B",{});var qn=$(Te);Be=f(qn,"Languages"),qn.forEach(c),De=N(Nn),fn.l(Nn),Nn.forEach(c),He=N(l),Ae=u(l,"P",{class:!0});var Cn=$(Ae);Le=u(Cn,"B",{});var In=$(Le);je=f(In,"Challenge"),In.forEach(c),Oe=N(Cn),Re=f(Cn,t[13]),Cn.forEach(c),Ve=N(l),pn&&pn.l(l),Me=N(l),mn&&mn.l(l),_e=N(l),Fe=u(l,"H3",{class:!0});var Tn=$(Fe);We=f(Tn,"Actions"),Tn.forEach(c),Ue=N(l);for(let t=0;t<dn.length;t+=1)dn[t].l(l);ze=N(l),yn&&yn.l(l),l.forEach(c),this.h()},h(){r.src!==(s=t[4])&&h(r,"src",s),h(r,"alt",""),h(r,"class","svelte-2a4qkh"),h(n,"class",a=z(!t[2]&&"hidden")+" svelte-2a4qkh"),h(C,"class","svelte-2a4qkh"),h(L,"class","svelte-2a4qkh"),h(R,"class","svelte-2a4qkh"),h(U,"class","svelte-2a4qkh"),h(et,"class","svelte-2a4qkh"),h(ct,"class","svelte-2a4qkh"),h($t,"class","svelte-2a4qkh"),h(ht,"class","svelte-2a4qkh"),h(ut,"class","stat svelte-2a4qkh"),h(kt,"class","svelte-2a4qkh"),h(Nt,"class","svelte-2a4qkh"),h(bt,"class","stat svelte-2a4qkh"),h(Ht,"class","svelte-2a4qkh"),h(Ot,"class","svelte-2a4qkh"),h(Dt,"class","stat svelte-2a4qkh"),h(Ut,"class","svelte-2a4qkh"),h(Jt,"class","svelte-2a4qkh"),h(Wt,"class","stat svelte-2a4qkh"),h(ne,"class","svelte-2a4qkh"),h(ae,"class","svelte-2a4qkh"),h(ee,"class","stat svelte-2a4qkh"),h(pe,"class","svelte-2a4qkh"),h(ge,"class","svelte-2a4qkh"),h(fe,"class","stat svelte-2a4qkh"),h(it,"class","stats svelte-2a4qkh"),h(ke,"class","svelte-2a4qkh"),h(Ie,"class","svelte-2a4qkh"),h(Ae,"class","svelte-2a4qkh"),h(Fe,"class","svelte-2a4qkh"),h(e,"class","monsterView svelte-2a4qkh")},m(s,a){l(s,e,a),p(e,n),p(n,r),p(e,g),rn&&rn.m(e,null),p(e,q),p(e,C),p(C,I),p(C,T),p(C,B),p(C,D),p(C,H),p(e,A),p(e,L),p(e,O),p(e,R),p(R,V),p(V,M),p(R,_),x(F,R,null),p(e,W),p(e,U),p(U,G),p(G,X),p(U,J),p(U,Y),p(U,K),x(Q,U,null),p(U,Z),p(e,tt),p(e,et),p(et,nt),p(nt,rt),p(et,st),p(et,lt),p(e,at),p(e,ct),p(e,ot),p(e,it),p(it,ut),p(ut,$t),p($t,ft),p(ft,pt),p(ut,mt),p(ut,ht),p(ht,gt),p(ht,vt),x(yt,ht,null),p(ht,xt),p(it,Et),p(it,bt),p(bt,kt),p(kt,wt),p(wt,St),p(bt,Pt),p(bt,Nt),p(Nt,qt),p(Nt,Ct),x(It,Nt,null),p(Nt,Tt),p(it,Bt),p(it,Dt),p(Dt,Ht),p(Ht,At),p(At,Lt),p(Dt,jt),p(Dt,Ot),p(Ot,Rt),p(Ot,Vt),x(Mt,Ot,null),p(Ot,_t),p(it,Ft),p(it,Wt),p(Wt,Ut),p(Ut,zt),p(zt,Gt),p(Wt,Xt),p(Wt,Jt),p(Jt,Yt),p(Jt,Kt),x(Qt,Jt,null),p(Jt,Zt),p(it,te),p(it,ee),p(ee,ne),p(ne,re),p(re,se),p(ee,le),p(ee,ae),p(ae,ce),p(ae,oe),x(ie,ae,null),p(ae,ue),p(it,$e),p(it,fe),p(fe,pe),p(pe,me),p(me,he),p(fe,de),p(fe,ge),p(ge,ve),p(ge,ye),x(xe,ge,null),p(ge,Ee),p(e,be),p(e,ke),p(e,we),sn&&sn.m(e,null),p(e,Se),ln&&ln.m(e,null),p(e,Pe),an&&an.m(e,null),p(e,Ne),cn&&cn.m(e,null),p(e,qe),on&&on.m(e,null),p(e,Ce),p(e,Ie),p(Ie,Te),p(Te,Be),p(Ie,De),fn.m(Ie,null),p(e,He),p(e,Ae),p(Ae,Le),p(Le,je),p(Ae,Oe),p(Ae,Re),p(e,Ve),pn&&pn.m(e,null),p(e,Me),mn&&mn.m(e,null),p(e,_e),p(e,Fe),p(Fe,We),p(e,Ue);for(let t=0;t<dn.length;t+=1)dn[t].m(e,null);p(e,ze),yn&&yn.m(e,null),Ge=!0,Xe||(Je=d(r,"load",t[22]),Xe=!0)},p(t,l){(!Ge||16&l[0]&&r.src!==(s=t[4]))&&h(r,"src",s),(!Ge||4&l[0]&&a!==(a=z(!t[2]&&"hidden")+" svelte-2a4qkh"))&&h(n,"class",a),t[0].hasFluff?rn?(rn.p(t,l),1&l[0]&&E(rn,1)):(rn=bn(t),rn.c(),E(rn,1),rn.m(e,q)):rn&&(w(),b(rn,1,1,(()=>{rn=null})),S()),(!Ge||64&l[0])&&m(I,t[6]),(!Ge||128&l[0])&&m(B,t[7]),(!Ge||256&l[0])&&m(H,t[8]);const c={};512&l[0]&&(c.line=t[9]),F.$set(c),(!Ge||1&l[0])&&Ye!==(Ye=t[0].hp.average+"")&&m(Y,Ye);const o={};1&l[0]&&(o.text=t[0].hp.formula),1&l[0]&&(o.expression=t[0].hp.formula),Q.$set(o),(!Ge||1024&l[0])&&m(lt,t[10]),(!Ge||1&l[0])&&Ke!==(Ke=t[0].str+"")&&m(gt,Ke);const i={};16384&l[0]&&(i.text=t[14]),16384&l[0]&&(i.expression="1d20"+t[14]),yt.$set(i),(!Ge||1&l[0])&&Qe!==(Qe=t[0].dex+"")&&m(qt,Qe);const u={};32768&l[0]&&(u.text=t[15]),32768&l[0]&&(u.expression="1d20"+t[15]),It.$set(u),(!Ge||1&l[0])&&Ze!==(Ze=t[0].con+"")&&m(Rt,Ze);const $={};65536&l[0]&&($.text=t[16]),65536&l[0]&&($.expression="1d20"+t[16]),Mt.$set($),(!Ge||1&l[0])&&tn!==(tn=t[0].int+"")&&m(Yt,tn);const f={};131072&l[0]&&(f.text=t[17]),131072&l[0]&&(f.expression="1d20"+t[17]),Qt.$set(f),(!Ge||1&l[0])&&en!==(en=t[0].wis+"")&&m(ce,en);const p={};262144&l[0]&&(p.text=t[18]),262144&l[0]&&(p.expression="1d20"+t[18]),ie.$set(p),(!Ge||1&l[0])&&nn!==(nn=t[0].cha+"")&&m(ve,nn);const d={};if(524288&l[0]&&(d.text=t[19]),524288&l[0]&&(d.expression="1d20"+t[19]),xe.$set(d),void 0!==t[0].save?sn?(sn.p(t,l),1&l[0]&&E(sn,1)):(sn=Nn(t),sn.c(),E(sn,1),sn.m(e,Se)):sn&&(w(),b(sn,1,1,(()=>{sn=null})),S()),void 0!==t[0].skill?ln?(ln.p(t,l),1&l[0]&&E(ln,1)):(ln=qn(t),ln.c(),E(ln,1),ln.m(e,Pe)):ln&&(w(),b(ln,1,1,(()=>{ln=null})),S()),null!==t[20]?an?(an.p(t,l),1048576&l[0]&&E(an,1)):(an=Cn(t),an.c(),E(an,1),an.m(e,Ne)):an&&(w(),b(an,1,1,(()=>{an=null})),S()),void 0!==t[0].conditionImmune?cn?cn.p(t,l):(cn=In(t),cn.c(),cn.m(e,qe)):cn&&(cn.d(1),cn=null),""!==t[1]?on?on.p(t,l):(on=Tn(t),on.c(),on.m(e,Ce)):on&&(on.d(1),on=null),$n===($n=un(t))&&fn?fn.p(t,l):(fn.d(1),fn=$n(t),fn&&(fn.c(),fn.m(Ie,null))),(!Ge||8192&l[0])&&m(Re,t[13]),void 0!==t[0].trait?pn?(pn.p(t,l),1&l[0]&&E(pn,1)):(pn=Hn(t),pn.c(),E(pn,1),pn.m(e,Me)):pn&&(w(),b(pn,1,1,(()=>{pn=null})),S()),void 0!==t[0].spellcasting?mn?(mn.p(t,l),1&l[0]&&E(mn,1)):(mn=jn(t),mn.c(),E(mn,1),mn.m(e,_e)):mn&&(w(),b(mn,1,1,(()=>{mn=null})),S()),1&l[0]){let n;for(hn=t[0].action,n=0;n<hn.length;n+=1){const r=gn(t,hn,n);dn[n]?(dn[n].p(r,l),E(dn[n],1)):(dn[n]=_n(r),dn[n].c(),E(dn[n],1),dn[n].m(e,ze))}for(w(),n=hn.length;n<dn.length;n+=1)vn(n);S()}void 0!==t[0].legendary?yn?(yn.p(t,l),1&l[0]&&E(yn,1)):(yn=Fn(t),yn.c(),E(yn,1),yn.m(e,null)):yn&&(w(),b(yn,1,1,(()=>{yn=null})),S())},i(t){if(!Ge){E(rn),E(F.$$.fragment,t),E(Q.$$.fragment,t),E(yt.$$.fragment,t),E(It.$$.fragment,t),E(Mt.$$.fragment,t),E(Qt.$$.fragment,t),E(ie.$$.fragment,t),E(xe.$$.fragment,t),E(sn),E(ln),E(an),E(pn),E(mn);for(let t=0;t<hn.length;t+=1)E(dn[t]);E(yn),Ge=!0}},o(t){b(rn),b(F.$$.fragment,t),b(Q.$$.fragment,t),b(yt.$$.fragment,t),b(It.$$.fragment,t),b(Mt.$$.fragment,t),b(Qt.$$.fragment,t),b(ie.$$.fragment,t),b(xe.$$.fragment,t),b(sn),b(ln),b(an),b(pn),b(mn),dn=dn.filter(Boolean);for(let e=0;e<dn.length;e+=1)b(dn[e]);b(yn),Ge=!1},d(t){t&&c(e),rn&&rn.d(),k(F),k(Q),k(yt),k(It),k(Mt),k(Qt),k(ie),k(xe),sn&&sn.d(),ln&&ln.d(),an&&an.d(),cn&&cn.d(),on&&on.d(),fn.d(),pn&&pn.d(),mn&&mn.d(),j(dn,t),yn&&yn.d(),Xe=!1,Je()}}}function Xn(t){const e={e:"each"};let n="",r=Object.entries(t);for(let[s,l]of r){let[t,r]=s.split("");n+=`${Number(t)}/day`,n+=void 0!==r?` ${e[r]}: `:": ",n+=l.join(", ")}return n}function Jn(t){return Object.entries(t).map((([t,e])=>Object.assign(Object.assign({},e),{spellLevel:Number(t)})))}function Yn(t){return 1===t?"1st":2===t?"2nd":3===t?"3rd":`${t}th`}function Kn(t,e,n){let r,s,l,a,c,o,i,u,$,f,p,m,h,d,g,v,y,x;var{data:E}=e;console.log(E);var b="",k=!1,w=!1;return t.$$set=t=>{"data"in t&&n(0,E=t.data)},t.$$.update=()=>{if(1&t.$$.dirty[0]&&n(4,r=`./f/monsterImage?monster=${E.name}`),1&t.$$.dirty[0]&&n(5,s=E.hasFluff?rt()[E.name].entries:[]),1&t.$$.dirty[0]&&n(21,l=E.getModifiers()),1&t.$$.dirty[0]&&n(6,a=E.getSizeString()),1&t.$$.dirty[0]&&n(7,c=E.getTypeString()),1&t.$$.dirty[0]&&n(8,o=E.getAlignmentString(E.alignment)),1&t.$$.dirty[0]&&n(9,i=E.getACString()),1&t.$$.dirty[0]&&n(10,u=E.getSpeedString()),1&t.$$.dirty[0]&&n(11,$=E.getSavesString()),1&t.$$.dirty[0]&&n(12,f=E.getSkillsString(E.skill)),1&t.$$.dirty[0]&&n(13,p=E.getCRString()),2097152&t.$$.dirty[0]&&n(14,m=st(l.str)),2097152&t.$$.dirty[0]&&n(15,h=st(l.dex)),2097152&t.$$.dirty[0]&&n(16,d=st(l.con)),2097152&t.$$.dirty[0]&&n(17,g=st(l.int)),2097152&t.$$.dirty[0]&&n(18,v=st(l.wis)),2097152&t.$$.dirty[0]&&n(19,y=st(l.cha)),1&t.$$.dirty[0]&&n(20,x=E.getDamageResistancesString()),1&t.$$.dirty[0]){let t=[];void 0!==E.senses&&(t=[...t,...E.senses]),void 0!==E.passive&&(t=[...t,`Passive Perception ${E.passive}`]),n(1,b=t.join(", "))}},[E,b,k,w,r,s,a,c,o,i,u,$,f,p,m,h,d,g,v,y,x,l,()=>n(2,k=!0),()=>n(3,w=!w)]}class Qn extends t{constructor(t){super(),e(this,t,Kn,Gn,n,{data:0},[-1,-1])}}function Zn(t){let e,n,r,s;return e=new hn({props:{text:t[1].name,subtitle:t[1].getSourceString(),background:"./img/header/limbo.jpg"}}),e.$on("subtitleClick",t[2]),r=new Qn({props:{data:t[1]}}),{c(){v(e.$$.fragment),n=P(),v(r.$$.fragment)},l(t){y(e.$$.fragment,t),n=N(t),y(r.$$.fragment,t)},m(t,a){x(e,t,a),l(t,n,a),x(r,t,a),s=!0},p(t,n){const s={};2&n&&(s.text=t[1].name),2&n&&(s.subtitle=t[1].getSourceString()),e.$set(s);const l={};2&n&&(l.data=t[1]),r.$set(l)},i(t){s||(E(e.$$.fragment,t),E(r.$$.fragment,t),s=!0)},o(t){b(e.$$.fragment,t),b(r.$$.fragment,t),s=!1},d(t){k(e,t),t&&c(n),k(r,t)}}}function tr(t){let e,n,r;function s(e){t[4](e)}let l={$$slots:{default:[Zn]},$$scope:{ctx:t}};return void 0!==t[0]&&(l.open=t[0]),e=new fn({props:l}),M.push((()=>_(e,"open",s))),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,n){x(e,t,n),r=!0},p(t,[r]){const s={};34&r&&(s.$$scope={dirty:r,ctx:t}),!n&&1&r&&(n=!0,s.open=t[0],F((()=>n=!1))),e.$set(s)},i(t){r||(E(e.$$.fragment,t),r=!0)},o(t){b(e.$$.fragment,t),r=!1},d(t){k(e,t)}}}function er(t,e,n){var{open:r=!1}=e,{campaign:s=null}=e,{entry:l}=e;return t.$$set=t=>{"open"in t&&n(0,r=t.open),"campaign"in t&&n(3,s=t.campaign),"entry"in t&&n(1,l=t.entry)},[r,l,function(){s.mainManager.showSourcePage(l.source,l.page)},s,function(t){n(0,r=t)}]}class nr extends t{constructor(t){super(),e(this,t,er,tr,n,{open:0,campaign:3,entry:1})}}function rr(t){let e,n,r,s,a,g,w,S;function q(e){t[5](e)}let C={entry:t[2]};return void 0!==t[1]&&(C.open=t[1]),s=new nr({props:C}),M.push((()=>_(s,"open",q))),{c(){e=o("a"),n=i(t[0]),r=P(),v(s.$$.fragment),this.h()},l(l){e=u(l,"A",{class:!0});var a=$(e);n=f(a,t[0]),a.forEach(c),r=N(l),y(s.$$.fragment,l),this.h()},h(){h(e,"class","svelte-2qa68i")},m(a,c){l(a,e,c),p(e,n),l(a,r,c),x(s,a,c),g=!0,w||(S=d(e,"click",t[3]),w=!0)},p(t,[e]){(!g||1&e)&&m(n,t[0]);const r={};4&e&&(r.entry=t[2]),!a&&2&e&&(a=!0,r.open=t[1],F((()=>a=!1))),s.$set(r)},i(t){g||(E(s.$$.fragment,t),g=!0)},o(t){b(s.$$.fragment,t),g=!1},d(t){t&&c(e),t&&c(r),k(s,t),w=!1,S()}}}function sr(t,e,n){var r,{input:s}=e,l="",a="",c="",o=!1;return function(){n(4,s=s.replace("{@creature ","")),n(4,s=s.replace("}",""));let t=s.split("|");a=t[0],c=t[1],n(0,l=t[2]),void 0===l&&n(0,l=a)}(),t.$$set=t=>{"input"in t&&n(4,s=t.input)},[l,o,r,function(){n(2,r=getMonsterByNameAndSource(a,c)),n(1,o=!0)},s,function(t){n(1,o=t)}]}class lr extends t{constructor(t){super(),e(this,t,sr,rr,n,{input:4})}}function ar(t){let e,n;return{c(){e=i("DC "),n=i(t[0])},l(r){e=f(r,"DC "),n=f(r,t[0])},m(t,r){l(t,e,r),l(t,n,r)},p(t,[e]){1&e&&m(n,t[0])},i:a,o:a,d(t){t&&c(e),t&&c(n)}}}function cr(t,e,n){let r;var{input:s}=e;return t.$$set=t=>{"input"in t&&n(1,s=t.input)},t.$$.update=()=>{2&t.$$.dirty&&n(0,r=function(t){return(t=t.replace("{@dc ","")).replace("}","")}(s))},[r,s]}class or extends t{constructor(t){super(),e(this,t,cr,ar,n,{input:1})}}function ir(t){let e,n;return{c(){e=o("i"),n=i(t[0]),this.h()},l(r){e=u(r,"I",{class:!0});var s=$(e);n=f(s,t[0]),s.forEach(c),this.h()},h(){h(e,"class","svelte-dpt811")},m(t,r){l(t,e,r),p(e,n)},p(t,[e]){1&e&&m(n,t[0])},i:a,o:a,d(t){t&&c(e)}}}function ur(t,e,n){let r;var{input:s}=e;return t.$$set=t=>{"input"in t&&n(1,s=t.input)},t.$$.update=()=>{2&t.$$.dirty&&n(0,r=function(t){return(t=t.replace("{@note ","")).replace("}","")}(s))},[r,s]}class $r extends t{constructor(t){super(),e(this,t,ur,ir,n,{input:1})}}function fr(t){var e=ut;const n=(n,r)=>{t.includes(`{@${n}`)&&(e=r)};return n("note",$r),n("b",_t),n("i",Ut),n("h",Rt),n("atk",pt),n("hit",xt),n("check",xt),n("dice",Le),n("damage",kt),n("condition",Ht),n("item",De),n("filter",jt),n("spell",cn),n("creature",lr),n("dc",or),e}function pr(t,e,n){const r=t.slice();return r[2]=e[n],r}function mr(t){let e,n,s;var a=t[2].component;function o(t){return{props:{input:t[2].input}}}return a&&(e=new a(o(t))),{c(){e&&v(e.$$.fragment),n=r()},l(t){e&&y(e.$$.fragment,t),n=r()},m(t,r){e&&x(e,t,r),l(t,n,r),s=!0},p(t,r){const s={};if(1&r&&(s.input=t[2].input),a!==(a=t[2].component)){if(e){w();const t=e;b(t.$$.fragment,1,0,(()=>{k(t,1)})),S()}a?(e=new a(o(t)),v(e.$$.fragment),E(e.$$.fragment,1),x(e,n.parentNode,n)):e=null}else a&&e.$set(s)},i(t){s||(e&&E(e.$$.fragment,t),s=!0)},o(t){e&&b(e.$$.fragment,t),s=!1},d(t){t&&c(n),e&&k(e,t)}}}function hr(t){let e,n,s=t[0],a=[];for(let r=0;r<s.length;r+=1)a[r]=mr(pr(t,s,r));const o=t=>b(a[t],1,1,(()=>{a[t]=null}));return{c(){for(let t=0;t<a.length;t+=1)a[t].c();e=r()},l(t){for(let e=0;e<a.length;e+=1)a[e].l(t);e=r()},m(t,r){for(let e=0;e<a.length;e+=1)a[e].m(t,r);l(t,e,r),n=!0},p(t,[n]){if(1&n){let r;for(s=t[0],r=0;r<s.length;r+=1){const l=pr(t,s,r);a[r]?(a[r].p(l,n),E(a[r],1)):(a[r]=mr(l),a[r].c(),E(a[r],1),a[r].m(e.parentNode,e))}for(w(),r=s.length;r<a.length;r+=1)o(r);S()}},i(t){if(!n){for(let t=0;t<s.length;t+=1)E(a[t]);n=!0}},o(t){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)b(a[e]);n=!1},d(t){j(a,t),t&&c(e)}}}function dr(t,e,n){let r;var{line:s=""}=e;return t.$$set=t=>{"line"in t&&n(1,s=t.line)},t.$$.update=()=>{2&t.$$.dirty&&n(0,r=function(t){var e=[];if("string"==typeof t){var n=G(/{@[^}]+\}/gm,t);if(t=t.replace("{@h}","{@h} "),0===n.length)e.push({component:ut,input:t});else for(var r=0;r<n.length;r++){var s=n[r],l=t.indexOf(s.match),a=t.substring(0,l),c=t.substring(l+s.match.length);t=c,e.push({component:ut,input:a}),e.push({component:fr(s.match),input:s.match}),r===n.length-1&&e.push({component:ut,input:c})}}else if("object"==typeof t){var{type:o}=t;"list"===o&&e.push({component:Me,input:t.items})}else e.push({component:ut,input:t});return e}(s))},[r,s]}class gr extends t{constructor(t){super(),e(this,t,dr,hr,n,{line:1})}}function vr(t,e,n){const r=t.slice();return r[1]=e[n],r}function yr(t,e,n){const r=t.slice();return r[4]=e[n],r}function xr(t,e,n){const r=t.slice();return r[7]=e[n],r}function Er(t,e,n){const r=t.slice();return r[10]=e[n],r}function br(t){let e,n,r=t[0].caption+"";return{c(){e=o("caption"),n=i(r)},l(t){e=u(t,"CAPTION",{});var s=$(e);n=f(s,r),s.forEach(c)},m(t,r){l(t,e,r),p(e,n)},p(t,e){1&e&&r!==(r=t[0].caption+"")&&m(n,r)},d(t){t&&c(e)}}}function kr(t){let e,n;return{c(){e=o("col"),this.h()},l(t){e=u(t,"COL",{span:!0,class:!0}),this.h()},h(){h(e,"span","1"),h(e,"class",n=t[10])},m(t,n){l(t,e,n)},p(t,r){1&r&&n!==(n=t[10])&&h(e,"class",n)},d(t){t&&c(e)}}}function wr(t){let e,n,r=t[0].colLabels,s=[];for(let l=0;l<r.length;l+=1)s[l]=Sr(xr(t,r,l));const a=t=>b(s[t],1,1,(()=>{s[t]=null}));return{c(){e=o("tr");for(let t=0;t<s.length;t+=1)s[t].c()},l(t){e=u(t,"TR",{});var n=$(e);for(let e=0;e<s.length;e+=1)s[e].l(n);n.forEach(c)},m(t,r){l(t,e,r);for(let n=0;n<s.length;n+=1)s[n].m(e,null);n=!0},p(t,n){if(1&n){let l;for(r=t[0].colLabels,l=0;l<r.length;l+=1){const a=xr(t,r,l);s[l]?(s[l].p(a,n),E(s[l],1)):(s[l]=Sr(a),s[l].c(),E(s[l],1),s[l].m(e,null))}for(w(),l=r.length;l<s.length;l+=1)a(l);S()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)E(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)b(s[e]);n=!1},d(t){t&&c(e),j(s,t)}}}function Sr(t){let e,n,r,s;return n=new gr({props:{line:t[7]}}),{c(){e=o("th"),v(n.$$.fragment),r=P()},l(t){e=u(t,"TH",{});var s=$(e);y(n.$$.fragment,s),r=N(s),s.forEach(c)},m(t,a){l(t,e,a),x(n,e,null),p(e,r),s=!0},p(t,e){const r={};1&e&&(r.line=t[7]),n.$set(r)},i(t){s||(E(n.$$.fragment,t),s=!0)},o(t){b(n.$$.fragment,t),s=!1},d(t){t&&c(e),k(n)}}}function Pr(t){let e,n,r;return n=new gr({props:{line:t[4]}}),{c(){e=o("td"),v(n.$$.fragment)},l(t){e=u(t,"TD",{});var r=$(e);y(n.$$.fragment,r),r.forEach(c)},m(t,s){l(t,e,s),x(n,e,null),r=!0},p(t,e){const r={};1&e&&(r.line=t[4]),n.$set(r)},i(t){r||(E(n.$$.fragment,t),r=!0)},o(t){b(n.$$.fragment,t),r=!1},d(t){t&&c(e),k(n)}}}function Nr(t){let e,n,r,s=t[1],a=[];for(let l=0;l<s.length;l+=1)a[l]=Pr(yr(t,s,l));const i=t=>b(a[t],1,1,(()=>{a[t]=null}));return{c(){e=o("tr");for(let t=0;t<a.length;t+=1)a[t].c();n=P()},l(t){e=u(t,"TR",{});var r=$(e);for(let e=0;e<a.length;e+=1)a[e].l(r);n=N(r),r.forEach(c)},m(t,s){l(t,e,s);for(let n=0;n<a.length;n+=1)a[n].m(e,null);p(e,n),r=!0},p(t,r){if(1&r){let l;for(s=t[1],l=0;l<s.length;l+=1){const c=yr(t,s,l);a[l]?(a[l].p(c,r),E(a[l],1)):(a[l]=Pr(c),a[l].c(),E(a[l],1),a[l].m(e,n))}for(w(),l=s.length;l<a.length;l+=1)i(l);S()}},i(t){if(!r){for(let t=0;t<s.length;t+=1)E(a[t]);r=!0}},o(t){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)b(a[e]);r=!1},d(t){t&&c(e),j(a,t)}}}function qr(t){let e,n,r,s,a,i,f=t[0].caption&&br(t),m=t[0].colStyles,d=[];for(let l=0;l<m.length;l+=1)d[l]=kr(Er(t,m,l));let g=void 0!==t[0].colLabels&&wr(t),v=t[0].rows,y=[];for(let l=0;l<v.length;l+=1)y[l]=Nr(vr(t,v,l));const x=t=>b(y[t],1,1,(()=>{y[t]=null}));return{c(){e=o("table"),f&&f.c(),n=P(),r=o("colgroup");for(let t=0;t<d.length;t+=1)d[t].c();s=P(),g&&g.c(),a=P();for(let t=0;t<y.length;t+=1)y[t].c();this.h()},l(t){e=u(t,"TABLE",{class:!0});var l=$(e);f&&f.l(l),n=N(l),r=u(l,"COLGROUP",{});var o=$(r);for(let e=0;e<d.length;e+=1)d[e].l(o);o.forEach(c),s=N(l),g&&g.l(l),a=N(l);for(let e=0;e<y.length;e+=1)y[e].l(l);l.forEach(c),this.h()},h(){h(e,"class","svelte-l13r5m")},m(t,c){l(t,e,c),f&&f.m(e,null),p(e,n),p(e,r);for(let e=0;e<d.length;e+=1)d[e].m(r,null);p(e,s),g&&g.m(e,null),p(e,a);for(let n=0;n<y.length;n+=1)y[n].m(e,null);i=!0},p(t,[s]){if(t[0].caption?f?f.p(t,s):(f=br(t),f.c(),f.m(e,n)):f&&(f.d(1),f=null),1&s){let e;for(m=t[0].colStyles,e=0;e<m.length;e+=1){const n=Er(t,m,e);d[e]?d[e].p(n,s):(d[e]=kr(n),d[e].c(),d[e].m(r,null))}for(;e<d.length;e+=1)d[e].d(1);d.length=m.length}if(void 0!==t[0].colLabels?g?(g.p(t,s),1&s&&E(g,1)):(g=wr(t),g.c(),E(g,1),g.m(e,a)):g&&(w(),b(g,1,1,(()=>{g=null})),S()),1&s){let n;for(v=t[0].rows,n=0;n<v.length;n+=1){const r=vr(t,v,n);y[n]?(y[n].p(r,s),E(y[n],1)):(y[n]=Nr(r),y[n].c(),E(y[n],1),y[n].m(e,null))}for(w(),n=v.length;n<y.length;n+=1)x(n);S()}},i(t){if(!i){E(g);for(let t=0;t<v.length;t+=1)E(y[t]);i=!0}},o(t){b(g),y=y.filter(Boolean);for(let e=0;e<y.length;e+=1)b(y[e]);i=!1},d(t){t&&c(e),f&&f.d(),j(d,t),g&&g.d(),j(y,t)}}}function Cr(t,e,n){var{input:r}=e;return t.$$set=t=>{"input"in t&&n(0,r=t.input)},[r]}class Ir extends t{constructor(t){super(),e(this,t,Cr,qr,n,{input:0})}}function Tr(t){let e,n,r;return n=new xs({props:{entries:t[0].entries}}),{c(){e=o("div"),v(n.$$.fragment),this.h()},l(t){e=u(t,"DIV",{class:!0});var r=$(e);y(n.$$.fragment,r),r.forEach(c),this.h()},h(){h(e,"class","inset svelte-10k44wf")},m(t,s){l(t,e,s),x(n,e,null),r=!0},p(t,[e]){const r={};1&e&&(r.entries=t[0].entries),n.$set(r)},i(t){r||(E(n.$$.fragment,t),r=!0)},o(t){b(n.$$.fragment,t),r=!1},d(t){t&&c(e),k(n)}}}function Br(t,e,n){var{input:r}=e;return t.$$set=t=>{"input"in t&&n(0,r=t.input)},[r]}class Dr extends t{constructor(t){super(),e(this,t,Br,Tr,n,{input:0})}}function Hr(t){let e,n,r;return{c(){e=o("img"),this.h()},l(t){e=u(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){e.src!==(n=t[1])&&h(e,"src",n),h(e,"alt",r=t[0].title),h(e,"class","svelte-j8elqt")},m(t,n){l(t,e,n)},p(t,[s]){2&s&&e.src!==(n=t[1])&&h(e,"src",n),1&s&&r!==(r=t[0].title)&&h(e,"alt",r)},i:a,o:a,d(t){t&&c(e)}}}function Ar(t,e,n){let r;var{input:s}=e;return t.$$set=t=>{"input"in t&&n(0,s=t.input)},t.$$.update=()=>{1&t.$$.dirty&&n(1,r=`https://5e.tools/img/${s.href.path}?v=1.117.4`)},[s,r]}class Lr extends t{constructor(t){super(),e(this,t,Ar,Hr,n,{input:0})}}function jr(t){let e,n;return e=new xs({props:{entries:t[0].entries,character:t[1]}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.entries=t[0].entries),2&n&&(r.character=t[1]),e.$set(r)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function Or(t,e,n){var{input:r}=e,{character:s=null}=e;return t.$$set=t=>{"input"in t&&n(0,r=t.input),"character"in t&&n(1,s=t.character)},[r,s]}class Rr extends t{constructor(t){super(),e(this,t,Or,jr,n,{input:0,character:1})}}function Vr(t){let e;return{c(){e=o("span"),this.h()},l(t){e=u(t,"SPAN",{class:!0}),$(e).forEach(c),this.h()},h(){h(e,"class","mdi mdi-pin")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function Mr(t){let e,n;return e=new X({props:{$$slots:{default:[Wr]},$$scope:{ctx:t}}}),e.$on("click",t[5]),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,n){const r={};264&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function _r(t){let e;return{c(){e=i("Pinned")},l(t){e=f(t,"Pinned")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function Fr(t){let e;return{c(){e=i("Pin")},l(t){e=f(t,"Pin")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function Wr(t){let e;function n(t,e){return t[3]?_r:Fr}let s=n(t),a=s(t);return{c(){a.c(),e=r()},l(t){a.l(t),e=r()},m(t,n){a.m(t,n),l(t,e,n)},p(t,r){s!==(s=n(t))&&(a.d(1),a=s(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){a.d(t),t&&c(e)}}}function Ur(t){let e,n,r,s,a,h,d,g=t[2].name+"",q=t[0]&&t[3]&&Vr(),C=t[0]&&Mr(t);return h=new xs({props:{entries:t[2].entries,character:t[4]}}),{c(){e=o("h4"),q&&q.c(),n=P(),r=i(g),s=P(),C&&C.c(),a=P(),v(h.$$.fragment)},l(t){e=u(t,"H4",{});var l=$(e);q&&q.l(l),n=N(l),r=f(l,g),l.forEach(c),s=N(t),C&&C.l(t),a=N(t),y(h.$$.fragment,t)},m(t,c){l(t,e,c),q&&q.m(e,null),p(e,n),p(e,r),l(t,s,c),C&&C.m(t,c),l(t,a,c),x(h,t,c),d=!0},p(t,[s]){t[0]&&t[3]?q||(q=Vr(),q.c(),q.m(e,n)):q&&(q.d(1),q=null),(!d||4&s)&&g!==(g=t[2].name+"")&&m(r,g),t[0]?C?(C.p(t,s),1&s&&E(C,1)):(C=Mr(t),C.c(),E(C,1),C.m(a.parentNode,a)):C&&(w(),b(C,1,1,(()=>{C=null})),S());const l={};4&s&&(l.entries=t[2].entries),h.$set(l)},i(t){d||(E(C),E(h.$$.fragment,t),d=!0)},o(t){b(C),b(h.$$.fragment,t),d=!1},d(t){t&&c(e),q&&q.d(),t&&c(s),C&&C.d(t),t&&c(a),k(h,t)}}}function zr(t,e,n){let r,s,l,c,o,i=a;t.$$.on_destroy.push((()=>i()));var{input:u}=e,$=g("character");return t.$$set=t=>{"input"in t&&n(6,u=t.input)},t.$$.update=()=>{64&t.$$.dirty&&n(2,l=lt.getRefSubclassFeature(u.subclassFeature)),192&t.$$.dirty&&n(3,c=$.features.checkSubFeaturePinned(u.subclassFeature,o))},n(0,r=!!$),n(1,s=$.characterStore),i(),i=V(s,(t=>n(7,o=t))),[r,s,l,c,$,function(){$.features.toggleSubFeaturePinned(u.subclassFeature)},u,o]}class Gr extends t{constructor(t){super(),e(this,t,zr,Ur,n,{input:6})}}function Xr(t){let e;return{c(){e=o("span"),this.h()},l(t){e=u(t,"SPAN",{class:!0}),$(e).forEach(c),this.h()},h(){h(e,"class","mdi mdi-check svelte-60pqyo")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function Jr(t){let e;return{c(){e=o("span"),this.h()},l(t){e=u(t,"SPAN",{class:!0}),$(e).forEach(c),this.h()},h(){h(e,"class","mdi mdi-pin svelte-60pqyo")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function Yr(t){let e,n,r,s;return e=new X({props:{$$slots:{default:[Zr]},$$scope:{ctx:t}}}),e.$on("click",t[6]),r=new X({props:{$$slots:{default:[ns]},$$scope:{ctx:t}}}),r.$on("click",t[7]),{c(){v(e.$$.fragment),n=P(),v(r.$$.fragment)},l(t){y(e.$$.fragment,t),n=N(t),y(r.$$.fragment,t)},m(t,a){x(e,t,a),l(t,n,a),x(r,t,a),s=!0},p(t,n){const s={};1032&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s);const l={};1040&n&&(l.$$scope={dirty:n,ctx:t}),r.$set(l)},i(t){s||(E(e.$$.fragment,t),E(r.$$.fragment,t),s=!0)},o(t){b(e.$$.fragment,t),b(r.$$.fragment,t),s=!1},d(t){k(e,t),t&&c(n),k(r,t)}}}function Kr(t){let e;return{c(){e=i("Selected")},l(t){e=f(t,"Selected")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function Qr(t){let e;return{c(){e=i("Select")},l(t){e=f(t,"Select")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function Zr(t){let e;function n(t,e){return t[3]?Kr:Qr}let s=n(t),a=s(t);return{c(){a.c(),e=r()},l(t){a.l(t),e=r()},m(t,n){a.m(t,n),l(t,e,n)},p(t,r){s!==(s=n(t))&&(a.d(1),a=s(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){a.d(t),t&&c(e)}}}function ts(t){let e;return{c(){e=i("Pinned")},l(t){e=f(t,"Pinned")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function es(t){let e;return{c(){e=i("Pin")},l(t){e=f(t,"Pin")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function ns(t){let e;function n(t,e){return t[4]?ts:es}let s=n(t),a=s(t);return{c(){a.c(),e=r()},l(t){a.l(t),e=r()},m(t,n){a.m(t,n),l(t,e,n)},p(t,r){s!==(s=n(t))&&(a.d(1),a=s(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){a.d(t),t&&c(e)}}}function rs(t){let e,n,r,s,a,d,g,q,C,I,T=t[2].name+"",B=t[0]&&t[3]&&Xr(),D=t[0]&&t[4]&&Jr(),H=t[0]&&Yr(t);return C=new xs({props:{entries:t[2].entries,character:t[5]}}),{c(){e=o("h4"),n=o("span"),B&&B.c(),r=P(),D&&D.c(),s=P(),a=i(T),g=P(),H&&H.c(),q=P(),v(C.$$.fragment),this.h()},l(t){e=u(t,"H4",{class:!0});var l=$(e);n=u(l,"SPAN",{class:!0});var o=$(n);B&&B.l(o),r=N(o),D&&D.l(o),s=N(o),a=f(o,T),o.forEach(c),l.forEach(c),g=N(t),H&&H.l(t),q=N(t),y(C.$$.fragment,t),this.h()},h(){h(n,"class","svelte-60pqyo"),h(e,"class",d=z(t[0]&&t[3]&&"selected")+" svelte-60pqyo")},m(t,c){l(t,e,c),p(e,n),B&&B.m(n,null),p(n,r),D&&D.m(n,null),p(n,s),p(n,a),l(t,g,c),H&&H.m(t,c),l(t,q,c),x(C,t,c),I=!0},p(t,[l]){t[0]&&t[3]?B||(B=Xr(),B.c(),B.m(n,r)):B&&(B.d(1),B=null),t[0]&&t[4]?D||(D=Jr(),D.c(),D.m(n,s)):D&&(D.d(1),D=null),(!I||4&l)&&T!==(T=t[2].name+"")&&m(a,T),(!I||9&l&&d!==(d=z(t[0]&&t[3]&&"selected")+" svelte-60pqyo"))&&h(e,"class",d),t[0]?H?(H.p(t,l),1&l&&E(H,1)):(H=Yr(t),H.c(),E(H,1),H.m(q.parentNode,q)):H&&(w(),b(H,1,1,(()=>{H=null})),S());const c={};4&l&&(c.entries=t[2].entries),C.$set(c)},i(t){I||(E(H),E(C.$$.fragment,t),I=!0)},o(t){b(H),b(C.$$.fragment,t),I=!1},d(t){t&&c(e),B&&B.d(),D&&D.d(),t&&c(g),H&&H.d(t),t&&c(q),k(C,t)}}}function ss(t,e,n){let r,s,l,c,o,i,u=a;t.$$.on_destroy.push((()=>u()));var{input:$}=e,f=g("character");return console.log(f),t.$$set=t=>{"input"in t&&n(8,$=t.input)},t.$$.update=()=>{1&t.$$.dirty&&(n(1,s=r?f.characterStore:U()),u(),u=V(s,(t=>n(9,i=t)))),256&t.$$.dirty&&n(2,l=lt.getRefOptionalFeature($.optionalfeature)),769&t.$$.dirty&&n(3,c=r&&f.features.checkOptionalFeatureSelected($.optionalfeature,i)),769&t.$$.dirty&&n(4,o=r&&f.features.checkSubFeaturePinned($.optionalfeature,i))},n(0,r=!!f),[r,s,l,c,o,f,function(){f.features.toggleOptionalFeature($.optionalfeature)},function(){f.features.toggleSubFeaturePinned($.optionalfeature)},$,i]}class ls extends t{constructor(t){super(),e(this,t,ss,rs,n,{input:8})}}function as(t){let e,n;return e=new gr({props:{line:t[0].entry}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.line=t[0].entry),e.$set(r)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function cs(t){let e,n;return e=new xs({props:{entries:t[0].entries}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.entries=t[0].entries),e.$set(r)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function os(t){let e,n,r,s,a,h,d,g=t[0].name+"";const v=[cs,as],y=[];function x(t,e){return void 0!==t[0].entries?0:void 0!==t[0].entry?1:-1}return~(a=x(t))&&(h=y[a]=v[a](t)),{c(){e=o("p"),n=o("i"),r=i(g),s=P(),h&&h.c()},l(t){e=u(t,"P",{});var l=$(e);n=u(l,"I",{});var a=$(n);r=f(a,g),a.forEach(c),s=N(l),h&&h.l(l),l.forEach(c)},m(t,c){l(t,e,c),p(e,n),p(n,r),p(e,s),~a&&y[a].m(e,null),d=!0},p(t,[n]){(!d||1&n)&&g!==(g=t[0].name+"")&&m(r,g);let s=a;a=x(t),a===s?~a&&y[a].p(t,n):(h&&(w(),b(y[s],1,1,(()=>{y[s]=null})),S()),~a?(h=y[a],h?h.p(t,n):(h=y[a]=v[a](t),h.c()),E(h,1),h.m(e,null)):h=null)},i(t){d||(E(h),d=!0)},o(t){b(h),d=!1},d(t){t&&c(e),~a&&y[a].d()}}}function is(t,e,n){var{input:r}=e;return t.$$set=t=>{"input"in t&&n(0,r=t.input)},[r]}class us extends t{constructor(t){super(),e(this,t,is,os,n,{input:0})}}function $s(t,e,n){const r=t.slice();return r[6]=e[n],r[8]=n,r}function fs(t){let e,n,s,a;const o=[hs,ms],i=[];function u(t,e){return"entries"===t[6].type?0:1}return e=u(t),n=i[e]=o[e](t),{c(){n.c(),s=r()},l(t){n.l(t),s=r()},m(t,n){i[e].m(t,n),l(t,s,n),a=!0},p(t,r){let l=e;e=u(t),e===l?i[e].p(t,r):(w(),b(i[l],1,1,(()=>{i[l]=null})),S(),n=i[e],n?n.p(t,r):(n=i[e]=o[e](t),n.c()),E(n,1),n.m(s.parentNode,s))},i(t){a||(E(n),a=!0)},o(t){b(n),a=!1},d(t){i[e].d(t),t&&c(s)}}}function ps(t){let e,n,a,i,f,m=0===t[8]&&function(t){let e,n;return{c(){n=r(),this.h()},l(t){n=r(),this.h()},h(){e=new s(n)},m(r,s){e.m(t[1],r,s),l(r,n,s)},p(t,n){2&n&&e.p(t[1])},d(t){t&&c(n),t&&e.d()}}}(t);return a=new gr({props:{line:t[6],character:t[2]}}),{c(){e=o("p"),m&&m.c(),n=P(),v(a.$$.fragment),i=P()},l(t){e=u(t,"P",{});var r=$(e);m&&m.l(r),n=N(r),y(a.$$.fragment,r),i=N(r),r.forEach(c)},m(t,r){l(t,e,r),m&&m.m(e,null),p(e,n),x(a,e,null),p(e,i),f=!0},p(t,e){0===t[8]&&m.p(t,e);const n={};1&e&&(n.line=t[6]),4&e&&(n.character=t[2]),a.$set(n)},i(t){f||(E(a.$$.fragment,t),f=!0)},o(t){b(a.$$.fragment,t),f=!1},d(t){t&&c(e),m&&m.d(),k(a)}}}function ms(t){let e,n,s;var a=t[3](t[6].type);function o(t){return{props:{input:t[6],character:t[2]}}}return a&&(e=new a(o(t))),{c(){e&&v(e.$$.fragment),n=r()},l(t){e&&y(e.$$.fragment,t),n=r()},m(t,r){e&&x(e,t,r),l(t,n,r),s=!0},p(t,r){const s={};if(1&r&&(s.input=t[6]),4&r&&(s.character=t[2]),a!==(a=t[3](t[6].type))){if(e){w();const t=e;b(t.$$.fragment,1,0,(()=>{k(t,1)})),S()}a?(e=new a(o(t)),v(e.$$.fragment),E(e.$$.fragment,1),x(e,n.parentNode,n)):e=null}else a&&e.$set(s)},i(t){s||(e&&E(e.$$.fragment,t),s=!0)},o(t){e&&b(e.$$.fragment,t),s=!1},d(t){t&&c(n),e&&k(e,t)}}}function hs(t){let e,n,r,s=void 0!==t[6].name&&ds(t);return n=new xs({props:{entries:t[6].entries,character:t[2]}}),{c(){s&&s.c(),e=P(),v(n.$$.fragment)},l(t){s&&s.l(t),e=N(t),y(n.$$.fragment,t)},m(t,a){s&&s.m(t,a),l(t,e,a),x(n,t,a),r=!0},p(t,r){void 0!==t[6].name?s?s.p(t,r):(s=ds(t),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null);const l={};1&r&&(l.entries=t[6].entries),4&r&&(l.character=t[2]),n.$set(l)},i(t){r||(E(n.$$.fragment,t),r=!0)},o(t){b(n.$$.fragment,t),r=!1},d(t){s&&s.d(t),t&&c(e),k(n,t)}}}function ds(t){let e,n,r,s=t[6].name+"";return{c(){e=o("h3"),n=i(s),this.h()},l(t){e=u(t,"H3",{id:!0});var r=$(e);n=f(r,s),r.forEach(c),this.h()},h(){h(e,"id",r=t[6].id)},m(t,r){l(t,e,r),p(e,n)},p(t,l){1&l&&s!==(s=t[6].name+"")&&m(n,s),1&l&&r!==(r=t[6].id)&&h(e,"id",r)},d(t){t&&c(e)}}}function gs(t){let e,n,s,a,o;const i=[ps,fs],u=[];function $(t,n){return"string"==typeof t[6]?0:(1&n&&(e=!!t[4](t[6].type)),e?1:-1)}return~(n=$(t,-1))&&(s=u[n]=i[n](t)),{c(){s&&s.c(),a=r()},l(t){s&&s.l(t),a=r()},m(t,e){~n&&u[n].m(t,e),l(t,a,e),o=!0},p(t,e){let r=n;n=$(t,e),n===r?~n&&u[n].p(t,e):(s&&(w(),b(u[r],1,1,(()=>{u[r]=null})),S()),~n?(s=u[n],s?s.p(t,e):(s=u[n]=i[n](t),s.c()),E(s,1),s.m(a.parentNode,a)):s=null)},i(t){o||(E(s),o=!0)},o(t){b(s),o=!1},d(t){~n&&u[n].d(t),t&&c(a)}}}function vs(t){let e,n,s=t[0],a=[];for(let r=0;r<s.length;r+=1)a[r]=gs($s(t,s,r));const o=t=>b(a[t],1,1,(()=>{a[t]=null}));return{c(){for(let t=0;t<a.length;t+=1)a[t].c();e=r()},l(t){for(let e=0;e<a.length;e+=1)a[e].l(t);e=r()},m(t,r){for(let e=0;e<a.length;e+=1)a[e].m(t,r);l(t,e,r),n=!0},p(t,[n]){if(31&n){let r;for(s=t[0],r=0;r<s.length;r+=1){const l=$s(t,s,r);a[r]?(a[r].p(l,n),E(a[r],1)):(a[r]=gs(l),a[r].c(),E(a[r],1),a[r].m(e.parentNode,e))}for(w(),r=s.length;r<a.length;r+=1)o(r);S()}},i(t){if(!n){for(let t=0;t<s.length;t+=1)E(a[t]);n=!0}},o(t){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)b(a[e]);n=!1},d(t){j(a,t),t&&c(e)}}}function ys(t,e,n){var{entries:r}=e,{preHTML:s=""}=e,{character:l=null}=e;const a={list:Me,table:Ir,entries:xs,insetReadaloud:Dr,image:Lr,options:Rr,refSubclassFeature:Gr,refOptionalfeature:ls,item:us};return t.$$set=t=>{"entries"in t&&n(0,r=t.entries),"preHTML"in t&&n(1,s=t.preHTML),"character"in t&&n(2,l=t.character)},[r,s,l,function(t){return a[t]},function(t){return t in a}]}class xs extends t{constructor(t){super(),e(this,t,ys,vs,n,{entries:0,preHTML:1,character:2})}}function Es(t){let e,n;return e=new J({props:{items:t[0],headers:t[1]}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.items=t[0]),e.$set(r)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function bs(t,e,n){let r;var{data:s}=e;const l=[{type:Y.TEXT,text:t=>t.level}];return t.$$set=t=>{"data"in t&&n(2,s=t.data)},n(0,r=Array(20).map(((t,e)=>({level:e+1})))),[r,l,s]}class ks extends t{constructor(t){super(),e(this,t,bs,Es,n,{data:2})}}function ws(t){let e,n;return e=new ks({props:{data:t[0]}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.data=t[0]),e.$set(r)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function Ss(t,e,n){var{data:r}=e;return console.log(r),t.$$set=t=>{"data"in t&&n(0,r=t.data)},[r]}class Ps extends t{constructor(t){super(),e(this,t,Ss,ws,n,{data:0})}}function Ns(t){let e,n,r,s;return e=new hn({props:{text:t[1].name,subtitle:t[1].getSourceString(),background:"./img/header/limbo.jpg"}}),r=new Ps({props:{data:t[1]}}),{c(){v(e.$$.fragment),n=P(),v(r.$$.fragment)},l(t){y(e.$$.fragment,t),n=N(t),y(r.$$.fragment,t)},m(t,a){x(e,t,a),l(t,n,a),x(r,t,a),s=!0},p(t,n){const s={};2&n&&(s.text=t[1].name),2&n&&(s.subtitle=t[1].getSourceString()),e.$set(s);const l={};2&n&&(l.data=t[1]),r.$set(l)},i(t){s||(E(e.$$.fragment,t),E(r.$$.fragment,t),s=!0)},o(t){b(e.$$.fragment,t),b(r.$$.fragment,t),s=!1},d(t){k(e,t),t&&c(n),k(r,t)}}}function qs(t){let e,n,r;function s(e){t[2](e)}let l={$$slots:{default:[Ns]},$$scope:{ctx:t}};return void 0!==t[0]&&(l.open=t[0]),e=new fn({props:l}),M.push((()=>_(e,"open",s))),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,n){x(e,t,n),r=!0},p(t,[r]){const s={};10&r&&(s.$$scope={dirty:r,ctx:t}),!n&&1&r&&(n=!0,s.open=t[0],F((()=>n=!1))),e.$set(s)},i(t){r||(E(e.$$.fragment,t),r=!0)},o(t){b(e.$$.fragment,t),r=!1},d(t){k(e,t)}}}function Cs(t,e,n){var{open:r=!1}=e,{entry:s}=e;return t.$$set=t=>{"open"in t&&n(0,r=t.open),"entry"in t&&n(1,s=t.entry)},[r,s,function(t){n(0,r=t)}]}class Is extends t{constructor(t){super(),e(this,t,Cs,qs,n,{open:0,entry:1})}}function Ts(t){let e,n,r;e=new hn({props:{text:t[1].name,subtitle:t[1].getSourceString(),background:"./img/header/planet.jpg"}});const s=t[2].default,a=I(s,t,t[4],null),o=a||function(t){let e,n;return e=new Ne({props:{data:t[1]}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){x(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.data=t[1]),e.$set(r)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}(t);return{c(){v(e.$$.fragment),n=P(),o&&o.c()},l(t){y(e.$$.fragment,t),n=N(t),o&&o.l(t)},m(t,s){x(e,t,s),l(t,n,s),o&&o.m(t,s),r=!0},p(t,n){const l={};2&n&&(l.text=t[1].name),2&n&&(l.subtitle=t[1].getSourceString()),e.$set(l),a?a.p&&(!r||16&n)&&B(a,s,t,t[4],n,null,null):o&&o.p&&2&n&&o.p(t,n)},i(t){r||(E(e.$$.fragment,t),E(o,t),r=!0)},o(t){b(e.$$.fragment,t),b(o,t),r=!1},d(t){k(e,t),t&&c(n),o&&o.d(t)}}}function Bs(t){let e,n,r;function s(e){t[3](e)}let l={$$slots:{default:[Ts]},$$scope:{ctx:t}};return void 0!==t[0]&&(l.open=t[0]),e=new fn({props:l}),M.push((()=>_(e,"open",s))),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,n){x(e,t,n),r=!0},p(t,[r]){const s={};18&r&&(s.$$scope={dirty:r,ctx:t}),!n&&1&r&&(n=!0,s.open=t[0],F((()=>n=!1))),e.$set(s)},i(t){r||(E(e.$$.fragment,t),r=!0)},o(t){b(e.$$.fragment,t),r=!1},d(t){k(e,t)}}}function Ds(t,e,n){let{$$slots:r={},$$scope:s}=e;var{open:l=!1}=e,{entry:a}=e;return t.$$set=t=>{"open"in t&&n(0,l=t.open),"entry"in t&&n(1,a=t.entry),"$$scope"in t&&n(4,s=t.$$scope)},[l,a,r,function(t){n(0,l=t)},s]}class Hs extends t{constructor(t){super(),e(this,t,Ds,Bs,n,{open:0,entry:1})}}function As(t){let e,n,r,s;return e=new hn({props:{text:t[1].name,subtitle:t[1].getSourceString(),background:"./img/header/moon.jpg"}}),r=new en({props:{data:t[1]}}),{c(){v(e.$$.fragment),n=P(),v(r.$$.fragment)},l(t){y(e.$$.fragment,t),n=N(t),y(r.$$.fragment,t)},m(t,a){x(e,t,a),l(t,n,a),x(r,t,a),s=!0},p(t,n){const s={};2&n&&(s.text=t[1].name),2&n&&(s.subtitle=t[1].getSourceString()),e.$set(s);const l={};2&n&&(l.data=t[1]),r.$set(l)},i(t){s||(E(e.$$.fragment,t),E(r.$$.fragment,t),s=!0)},o(t){b(e.$$.fragment,t),b(r.$$.fragment,t),s=!1},d(t){k(e,t),t&&c(n),k(r,t)}}}function Ls(t){let e,n,r;function s(e){t[2](e)}let l={$$slots:{default:[As]},$$scope:{ctx:t}};return void 0!==t[0]&&(l.open=t[0]),e=new fn({props:l}),M.push((()=>_(e,"open",s))),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,n){x(e,t,n),r=!0},p(t,[r]){const s={};10&r&&(s.$$scope={dirty:r,ctx:t}),!n&&1&r&&(n=!0,s.open=t[0],F((()=>n=!1))),e.$set(s)},i(t){r||(E(e.$$.fragment,t),r=!0)},o(t){b(e.$$.fragment,t),r=!1},d(t){k(e,t)}}}function js(t,e,n){var{open:r=!1}=e,{entry:s}=e;return t.$$set=t=>{"open"in t&&n(0,r=t.open),"entry"in t&&n(1,s=t.entry)},[r,s,function(t){n(0,r=t)}]}class Os extends t{constructor(t){super(),e(this,t,js,Ls,n,{open:0,entry:1})}}export{Ps as C,xs as E,Ne as I,Qn as M,fn as P,en as S,gr as a,nr as b,hn as c,wt as d,Is as e,Hs as f,ct as g,Os as h,zt as m,at as s};
