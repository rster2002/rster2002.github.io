import{S as t,i as e,s as n,J as r,aj as s,a as l,n as a,d as c,e as o,t as i,g as u,h as $,c as f,l as p,b as m,k as h,u as d,a0 as g,L as v,M as y,N as E,H as x,I as b,O as k,C as w,G as S,f as P,j as N,ak as I,z as q,a4 as C,ad as T,a5 as L,_ as D,af as B,v as H,a6 as A,W as j,$ as V,a8 as M,a3 as R,Y as O,a1 as _,a2 as F,X as W,m as U,a9 as z,q as X}from"./vendor.js";import{T as G,G as Y,C as J}from"./GenericTable.js";import{h as K,j as Q,c as Z,k as tt,l as et,n as nt,o as rt,p as st,C as lt,r as at}from"./index.js";const ct=".";function ot(t=9){return function(t,e){let n="";for(let r=0;r<e;r++)n+=t[Math.floor(Math.random()*t.length)];return n}("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t)}function it(t){let e,n;return{c(){n=r(),this.h()},l(t){n=r(),this.h()},h(){e=new s(n)},m(r,s){e.m(t[0],r,s),l(r,n,s)},p(t,[n]){1&n&&e.p(t[0])},i:a,o:a,d(t){t&&c(n),t&&e.d()}}}function ut(t,e,n){var{input:r}=e;return t.$$set=t=>{"input"in t&&n(0,r=t.input)},[r]}class $t extends t{constructor(t){super(),e(this,t,ut,it,n,{input:0})}}function ft(t){let e,n;return{c(){e=o("i"),n=i(t[0])},l(r){e=u(r,"I",{});var s=$(e);n=f(s,t[0]),s.forEach(c)},m(t,r){l(t,e,r),p(e,n)},p(t,[e]){1&e&&m(n,t[0])},i:a,o:a,d(t){t&&c(e)}}}function pt(t,e,n){let r;var{input:s}=e;return t.$$set=t=>{"input"in t&&n(1,s=t.input)},t.$$.update=()=>{2&t.$$.dirty&&n(0,r=function(t){return"mw"===(t=(t=t.replace("{@atk ","")).replace("}",""))?"Melee Weapon Attack":"rw"===t?"Ranged Weapon Attack":"Melee or Ranged Weapon Attack"}(s))},[r,s]}class mt extends t{constructor(t){super(),e(this,t,pt,ft,n,{input:1})}}function ht(t){let e,n,r,s;return{c(){e=o("span"),n=i(t[0]),this.h()},l(r){e=u(r,"SPAN",{class:!0});var s=$(e);n=f(s,t[0]),s.forEach(c),this.h()},h(){h(e,"class","svelte-1r7s845")},m(a,c){l(a,e,c),p(e,n),r||(s=d(e,"click",t[1]),r=!0)},p(t,[e]){1&e&&m(n,t[0])},i:a,o:a,d(t){t&&c(e),r=!1,s()}}}function dt(t,e,n){let r;var{text:s}=e,{expression:l}=e;return t.$$set=t=>{"text"in t&&n(0,s=t.text),"expression"in t&&n(2,l=t.expression)},r=g("diceContext"),[s,function(){r.roll(l)},l]}class gt extends t{constructor(t){super(),e(this,t,dt,ht,n,{text:0,expression:2})}}function vt(t){let e,n;return e=new gt({props:{text:t[0],expression:t[1]}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){E(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.text=t[0]),2&n&&(r.expression=t[1]),e.$set(r)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function yt(t){let e=function(t){return t=(t=t.replace(/\{\@\w+/,"")).replace("}",""),Number(t)}(t);return e<0?e:`+${e}`}function Et(t,e,n){let r,s;var{input:l}=e;return t.$$set=t=>{"input"in t&&n(2,l=t.input)},t.$$.update=()=>{4&t.$$.dirty&&n(0,r=yt(l)),1&t.$$.dirty&&n(1,s=`1d20${r}`)},[r,s,l]}class xt extends t{constructor(t){super(),e(this,t,Et,vt,n,{input:2})}}function bt(t){let e,n;return e=new gt({props:{text:t[0],expression:t[0]}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){E(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.text=t[0]),1&n&&(r.expression=t[0]),e.$set(r)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function kt(t,e,n){let r;var{input:s}=e;return t.$$set=t=>{"input"in t&&n(1,s=t.input)},t.$$.update=()=>{2&t.$$.dirty&&n(0,r=function(t){return(t=t.replace("{@damage ","")).replace("}","")}(s))},[r,s]}class wt extends t{constructor(t){super(),e(this,t,kt,bt,n,{input:1})}}function St(t,e){const n=n=>{n.composedPath().includes(t)||e()};return document.addEventListener("click",n),{destroy(){document.removeEventListener("click",n)}}}function Pt(t){let e,n,s,a;const o=[It,Nt],i=[];function u(t,e){return t[1]?0:1}return e=u(t),n=i[e]=o[e](t),{c(){n.c(),s=r()},l(t){n.l(t),s=r()},m(t,n){i[e].m(t,n),l(t,s,n),a=!0},p(t,r){let l=e;e=u(t),e===l?i[e].p(t,r):(w(),b(i[l],1,1,(()=>{i[l]=null})),S(),n=i[e],n?n.p(t,r):(n=i[e]=o[e](t),n.c()),x(n,1),n.m(s.parentNode,s))},i(t){a||(x(n),a=!0)},o(t){b(n),a=!1},d(t){i[e].d(t),t&&c(s)}}}function Nt(t){let e,n,r,s;const a=t[6].default,i=C(a,t,t[5],null);return{c(){e=o("div"),i&&i.c(),this.h()},l(t){e=u(t,"DIV",{class:!0});var n=$(e);i&&i.l(n),n.forEach(c),this.h()},h(){h(e,"class","tooltipPopup svelte-1vm6562")},m(a,c){l(a,e,c),i&&i.m(e,null),n=!0,r||(s=T(St.call(null,e,t[4])),r=!0)},p(t,e){i&&i.p&&(!n||32&e)&&L(i,a,t,t[5],e,null,null)},i(t){n||(x(i,t),n=!0)},o(t){b(i,t),n=!1},d(t){t&&c(e),i&&i.d(t),r=!1,s()}}}function It(t){let e,n,r,s,a,i;const f=t[6].default,p=C(f,t,t[5],null);return{c(){e=o("div"),n=P(),r=o("div"),p&&p.c(),this.h()},l(t){e=u(t,"DIV",{class:!0}),$(e).forEach(c),n=N(t),r=u(t,"DIV",{class:!0});var s=$(r);p&&p.l(s),s.forEach(c),this.h()},h(){h(e,"class","scim svelte-1vm6562"),h(r,"class","tooltipPopup fixed svelte-1vm6562")},m(c,o){l(c,e,o),l(c,n,o),l(c,r,o),p&&p.m(r,null),s=!0,a||(i=T(St.call(null,r,t[4])),a=!0)},p(t,e){p&&p.p&&(!s||32&e)&&L(p,f,t,t[5],e,null,null)},i(t){s||(x(p,t),s=!0)},o(t){b(p,t),s=!1},d(t){t&&c(e),t&&c(n),t&&c(r),p&&p.d(t),a=!1,i()}}}function qt(t){let e,n,r,s,a,g,v=t[2]&&Pt(t);return{c(){e=o("span"),n=i(t[0]),r=P(),v&&v.c(),this.h()},l(s){e=u(s,"SPAN",{class:!0});var l=$(e);n=f(l,t[0]),r=N(l),v&&v.l(l),l.forEach(c),this.h()},h(){h(e,"class","svelte-1vm6562")},m(c,o){l(c,e,o),p(e,n),p(e,r),v&&v.m(e,null),s=!0,a||(g=d(e,"click",I(t[3])),a=!0)},p(t,[r]){(!s||1&r)&&m(n,t[0]),t[2]?v?(v.p(t,r),4&r&&x(v,1)):(v=Pt(t),v.c(),x(v,1),v.m(e,null)):v&&(w(),b(v,1,1,(()=>{v=null})),S())},i(t){s||(x(v),s=!0)},o(t){b(v),s=!1},d(t){t&&c(e),v&&v.d(),a=!1,g()}}}function Ct(t,e,n){let{$$slots:r={},$$scope:s}=e;const l=q();var{text:a}=e,{fixed:c=!1}=e,o=!1,i=!0;return t.$$set=t=>{"text"in t&&n(0,a=t.text),"fixed"in t&&n(1,c=t.fixed),"$$scope"in t&&n(5,s=t.$$scope)},[a,c,o,async function(){n(2,o=!0),l("open")},function(){i?i=!1:(n(2,o=!1),i=!0)},s,r]}class Tt extends t{constructor(t){super(),e(this,t,Ct,qt,n,{text:0,fixed:1})}}function Lt(t){let e,n,r,s,a;return s=new Ns({props:{entries:t[1]}}),{c(){e=o("h3"),n=i(t[0]),r=P(),v(s.$$.fragment),this.h()},l(l){e=u(l,"H3",{class:!0});var a=$(e);n=f(a,t[0]),a.forEach(c),r=N(l),y(s.$$.fragment,l),this.h()},h(){h(e,"class","svelte-y3hpwh")},m(t,c){l(t,e,c),p(e,n),l(t,r,c),E(s,t,c),a=!0},p(t,e){(!a||1&e)&&m(n,t[0]);const r={};2&e&&(r.entries=t[1]),s.$set(r)},i(t){a||(x(s.$$.fragment,t),a=!0)},o(t){b(s.$$.fragment,t),a=!1},d(t){t&&c(e),t&&c(r),k(s,t)}}}function Dt(t){let e,n;return e=new Tt({props:{text:t[0],fixed:!0,$$slots:{default:[Lt]},$$scope:{ctx:t}}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){E(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.text=t[0]),35&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function Bt(t,e,n){let r,s;var{input:l}=e;const a={};for(const c of Object.values(K)){let{name:t,entries:e}=c;t=t.toLowerCase(),a[t]=e}return t.$$set=t=>{"input"in t&&n(2,l=t.input)},t.$$.update=()=>{var e;4&t.$$.dirty&&n(0,r=function(t){return(t=t.replace("{@condition ","")).replace("}","")}(l)),1&t.$$.dirty&&n(1,(e=(e=r).toLowerCase(),s=a[e]))},[r,s,l]}class Ht extends t{constructor(t){super(),e(this,t,Bt,Dt,n,{input:2})}}function At(t){let e;return{c(){e=i(t[0])},l(n){e=f(n,t[0])},m(t,n){l(t,e,n)},p(t,[n]){1&n&&m(e,t[0])},i:a,o:a,d(t){t&&c(e)}}}function jt(t,e,n){let r,s;var{input:l}=e;return t.$$set=t=>{"input"in t&&n(1,l=t.input)},t.$$.update=()=>{2&t.$$.dirty&&n(2,r=function(t){return(t=(t=t.replace("{@filter ","")).replace("}","")).split("|")}(l)),4&t.$$.dirty&&n(0,s=r[0])},[s,l,r]}class Vt extends t{constructor(t){super(),e(this,t,jt,At,n,{input:1})}}function Mt(t){let e,n;return{c(){e=o("i"),n=i("Hit:")},l(t){e=u(t,"I",{});var r=$(e);n=f(r,"Hit:"),r.forEach(c)},m(t,r){l(t,e,r),p(e,n)},p:a,i:a,o:a,d(t){t&&c(e)}}}class Rt extends t{constructor(t){super(),e(this,t,null,Mt,n,{})}}function Ot(t){let e,n;return{c(){e=o("b"),n=i(t[0])},l(r){e=u(r,"B",{});var s=$(e);n=f(s,t[0]),s.forEach(c)},m(t,r){l(t,e,r),p(e,n)},p(t,[e]){1&e&&m(n,t[0])},i:a,o:a,d(t){t&&c(e)}}}function _t(t,e,n){let r;var{input:s}=e;return t.$$set=t=>{"input"in t&&n(1,s=t.input)},t.$$.update=()=>{2&t.$$.dirty&&n(0,r=function(t){return(t=t.replace("{@b ","")).replace("}","")}(s))},[r,s]}class Ft extends t{constructor(t){super(),e(this,t,_t,Ot,n,{input:1})}}function Wt(t){let e,n;return{c(){e=o("i"),n=i(t[0])},l(r){e=u(r,"I",{});var s=$(e);n=f(s,t[0]),s.forEach(c)},m(t,r){l(t,e,r),p(e,n)},p(t,[e]){1&e&&m(n,t[0])},i:a,o:a,d(t){t&&c(e)}}}function Ut(t,e,n){let r;var{input:s}=e;return t.$$set=t=>{"input"in t&&n(1,s=t.input)},t.$$.update=()=>{2&t.$$.dirty&&n(0,r=function(t){return(t=t.replace("{@i ","")).replace("}","")}(s))},[r,s]}class zt extends t{constructor(t){super(),e(this,t,Ut,Wt,n,{input:1})}}function Xt(t){var e="";for(const[n,r]of Object.entries(Q))t%r==0&&(e=t/r+" "+n);return e}function Gt(t,e,n){const r=t.slice();return r[14]=e[n],r}function Yt(t){let e,n,r,s,a,m,g,v,y,E,x,b,k,w,S,I,q,C,T,L,H,A,j,M,R,O,_,F,W=t[2]&&Jt(t);return{c(){e=o("h6"),n=i("Item name"),r=P(),s=o("input"),a=P(),m=o("button"),g=i("Save"),v=P(),y=o("div"),E=o("div"),x=o("h6"),b=i("Cost (cp)"),k=P(),w=o("input"),S=P(),I=o("div"),q=o("h6"),C=i("Weight (lb.)"),T=P(),L=o("input"),H=P(),W&&W.c(),A=P(),j=o("h6"),M=i("Notes"),R=P(),O=o("textarea"),this.h()},l(t){e=u(t,"H6",{class:!0});var l=$(e);n=f(l,"Item name"),l.forEach(c),r=N(t),s=u(t,"INPUT",{type:!0,placeholder:!0,class:!0}),a=N(t),m=u(t,"BUTTON",{class:!0});var o=$(m);g=f(o,"Save"),o.forEach(c),v=N(t),y=u(t,"DIV",{class:!0});var i=$(y);E=u(i,"DIV",{class:!0});var p=$(E);x=u(p,"H6",{class:!0});var h=$(x);b=f(h,"Cost (cp)"),h.forEach(c),k=N(p),w=u(p,"INPUT",{type:!0,class:!0}),p.forEach(c),S=N(i),I=u(i,"DIV",{class:!0});var d=$(I);q=u(d,"H6",{class:!0});var P=$(q);C=f(P,"Weight (lb.)"),P.forEach(c),T=N(d),L=u(d,"INPUT",{type:!0,class:!0}),d.forEach(c),i.forEach(c),H=N(t),W&&W.l(t),A=N(t),j=u(t,"H6",{class:!0});var D=$(j);M=f(D,"Notes"),D.forEach(c),R=N(t),O=u(t,"TEXTAREA",{placeholder:!0,class:!0}),$(O).forEach(c),this.h()},h(){h(e,"class","svelte-kas73n"),h(s,"type","text"),h(s,"placeholder","Item name"),h(s,"class","svelte-kas73n"),h(m,"class","smallButton"),h(x,"class","svelte-kas73n"),h(w,"type","number"),h(w,"class","svelte-kas73n"),h(E,"class","section svelte-kas73n"),h(q,"class","svelte-kas73n"),h(L,"type","number"),h(L,"class","svelte-kas73n"),h(I,"class","section svelte-kas73n"),h(y,"class","spaceEvenly svelte-kas73n"),h(j,"class","svelte-kas73n"),h(O,"placeholder","Note"),h(O,"class","svelte-kas73n")},m(c,o){l(c,e,o),p(e,n),l(c,r,o),l(c,s,o),D(s,t[0].name),l(c,a,o),l(c,m,o),p(m,g),l(c,v,o),l(c,y,o),p(y,E),p(E,x),p(x,b),p(E,k),p(E,w),D(w,t[0].value),p(y,S),p(y,I),p(I,q),p(q,C),p(I,T),p(I,L),D(L,t[0].weight),l(c,H,o),W&&W.m(c,o),l(c,A,o),l(c,j,o),p(j,M),l(c,R,o),l(c,O,o),D(O,t[0].note),_||(F=[d(s,"input",t[7]),d(s,"blur",t[4]),d(m,"click",t[5]),d(w,"input",t[8]),d(w,"blur",t[4]),d(L,"input",t[9]),d(L,"blur",t[4]),d(O,"input",t[12]),d(O,"blur",t[4])],_=!0)},p(t,e){9&e&&s.value!==t[0].name&&D(s,t[0].name),9&e&&B(w.value)!==t[0].value&&D(w,t[0].value),9&e&&B(L.value)!==t[0].weight&&D(L,t[0].weight),t[2]?W?W.p(t,e):(W=Jt(t),W.c(),W.m(A.parentNode,A)):W&&(W.d(1),W=null),9&e&&D(O,t[0].note)},d(t){t&&c(e),t&&c(r),t&&c(s),t&&c(a),t&&c(m),t&&c(v),t&&c(y),t&&c(H),W&&W.d(t),t&&c(A),t&&c(j),t&&c(R),t&&c(O),_=!1,V(F)}}}function Jt(t){let e,n,r,s,a,m,g,v,y,E,x,b,k,w,S=t[3],I=[];for(let l=0;l<S.length;l+=1)I[l]=Kt(Gt(t,S,l));return{c(){e=o("div"),n=o("div"),r=o("h6"),s=i("Damage Expression"),a=P(),m=o("input"),g=P(),v=o("div"),y=o("h6"),E=i("Damage type"),x=P(),b=o("select");for(let t=0;t<I.length;t+=1)I[t].c();this.h()},l(t){e=u(t,"DIV",{class:!0});var l=$(e);n=u(l,"DIV",{class:!0});var o=$(n);r=u(o,"H6",{class:!0});var i=$(r);s=f(i,"Damage Expression"),i.forEach(c),a=N(o),m=u(o,"INPUT",{type:!0,class:!0}),o.forEach(c),g=N(l),v=u(l,"DIV",{class:!0});var p=$(v);y=u(p,"H6",{class:!0});var h=$(y);E=f(h,"Damage type"),h.forEach(c),x=N(p),b=u(p,"SELECT",{class:!0});var d=$(b);for(let e=0;e<I.length;e+=1)I[e].l(d);d.forEach(c),p.forEach(c),l.forEach(c),this.h()},h(){h(r,"class","svelte-kas73n"),h(m,"type","text"),h(m,"class","svelte-kas73n"),h(n,"class","section svelte-kas73n"),h(y,"class","svelte-kas73n"),h(b,"class","svelte-kas73n"),void 0===t[0].dmgType&&H((()=>t[11].call(b))),h(v,"class","section svelte-kas73n"),h(e,"class","spaceEvenly svelte-kas73n")},m(c,o){l(c,e,o),p(e,n),p(n,r),p(r,s),p(n,a),p(n,m),D(m,t[0].dmg1),p(e,g),p(e,v),p(v,y),p(y,E),p(v,x),p(v,b);for(let t=0;t<I.length;t+=1)I[t].m(b,null);A(b,t[0].dmgType),k||(w=[d(m,"input",t[10]),d(m,"blur",t[4]),d(b,"change",t[11]),d(b,"blur",t[4])],k=!0)},p(t,e){if(9&e&&m.value!==t[0].dmg1&&D(m,t[0].dmg1),8&e){let n;for(S=t[3],n=0;n<S.length;n+=1){const r=Gt(t,S,n);I[n]?I[n].p(r,e):(I[n]=Kt(r),I[n].c(),I[n].m(b,null))}for(;n<I.length;n+=1)I[n].d(1);I.length=S.length}9&e&&A(b,t[0].dmgType)},d(t){t&&c(e),j(I,t),k=!1,V(w)}}}function Kt(t){let e,n,r,s=t[14].value+"";return{c(){e=o("option"),n=i(s),this.h()},l(t){e=u(t,"OPTION",{value:!0});var r=$(e);n=f(r,s),r.forEach(c),this.h()},h(){e.__value=r=t[14].key,e.value=e.__value},m(t,r){l(t,e,r),p(e,n)},p(t,l){8&l&&s!==(s=t[14].value+"")&&m(n,s),8&l&&r!==(r=t[14].key)&&(e.__value=r,e.value=e.__value)},d(t){t&&c(e)}}}function Qt(t){let e,n=t[1]&&Yt(t);return{c(){n&&n.c(),e=r()},l(t){n&&n.l(t),e=r()},m(t,r){n&&n.m(t,r),l(t,e,r)},p(t,[r]){t[1]?n?n.p(t,r):(n=Yt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:a,o:a,d(t){n&&n.d(t),t&&c(e)}}}function Zt(t,e,n){let r,s;var{character:l=g("character")}=e,{item:a}=e,{open:c=!1}=e;return t.$$set=t=>{"character"in t&&n(6,l=t.character),"item"in t&&n(0,a=t.item),"open"in t&&n(1,c=t.open)},t.$$.update=()=>{1&t.$$.dirty&&n(2,r=a.isWeapon())},n(3,s=Object.entries(tt).map((([t,e])=>({key:t,value:Z(e)})))),[a,c,r,s,function(){n(0,a.source="Custom",a),n(0,a),null!==l&&l.inventory.update(a)},function(){n(1,c=!1)},l,function(){a.name=this.value,n(0,a),n(3,s)},function(){a.value=B(this.value),n(0,a),n(3,s)},function(){a.weight=B(this.value),n(0,a),n(3,s)},function(){a.dmg1=this.value,n(0,a),n(3,s)},function(){a.dmgType=M(this),n(0,a),n(3,s)},function(){a.note=this.value,n(0,a),n(3,s)}]}class te extends t{constructor(t){super(),e(this,t,Zt,Qt,n,{character:6,item:0,open:1})}}function ee(t,e,n){const r=t.slice();return r[34]=e[n],r}function ne(t){let e,n,r;function s(e){t[28](e)}let l={item:t[0],character:t[1]};return void 0!==t[6]&&(l.open=t[6]),e=new te({props:l}),O.push((()=>_(e,"open",s))),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,n){E(e,t,n),r=!0},p(t,r){const s={};1&r[0]&&(s.item=t[0]),2&r[0]&&(s.character=t[1]),!n&&64&r[0]&&(n=!0,s.open=t[6],F((()=>n=!1))),e.$set(s)},i(t){r||(x(e.$$.fragment,t),r=!0)},o(t){b(e.$$.fragment,t),r=!1},d(t){k(e,t)}}}function re(t){let e,n,s,a,d,g,v,y,E,k,I,q,C=void 0!==t[0].value&&se(t),T=t[9]&&le(t),L=t[16]&&ie(t),D=t[3]&&ue(t),B=t[5]&&fe(t),H=t[5]&&t[4]&&ke(t),A=void 0!==t[0].entries&&Se(t);return{c(){e=o("i"),n=i(t[12]),s=P(),C&&C.c(),a=P(),T&&T.c(),d=P(),L&&L.c(),g=P(),v=o("div"),D&&D.c(),y=P(),B&&B.c(),E=P(),H&&H.c(),k=P(),A&&A.c(),I=r(),this.h()},l(l){e=u(l,"I",{});var o=$(e);n=f(o,t[12]),o.forEach(c),s=N(l),C&&C.l(l),a=N(l),T&&T.l(l),d=N(l),L&&L.l(l),g=N(l),v=u(l,"DIV",{class:!0});var i=$(v);D&&D.l(i),y=N(i),B&&B.l(i),i.forEach(c),E=N(l),H&&H.l(l),k=N(l),A&&A.l(l),I=r(),this.h()},h(){h(v,"class","buttons svelte-1cfqzhm")},m(t,r){l(t,e,r),p(e,n),l(t,s,r),C&&C.m(t,r),l(t,a,r),T&&T.m(t,r),l(t,d,r),L&&L.m(t,r),l(t,g,r),l(t,v,r),D&&D.m(v,null),p(v,y),B&&B.m(v,null),l(t,E,r),H&&H.m(t,r),l(t,k,r),A&&A.m(t,r),l(t,I,r),q=!0},p(t,e){(!q||4096&e[0])&&m(n,t[12]),void 0!==t[0].value?C?C.p(t,e):(C=se(t),C.c(),C.m(a.parentNode,a)):C&&(C.d(1),C=null),t[9]?T?T.p(t,e):(T=le(t),T.c(),T.m(d.parentNode,d)):T&&(T.d(1),T=null),t[16]?L?L.p(t,e):(L=ie(t),L.c(),L.m(g.parentNode,g)):L&&(L.d(1),L=null),t[3]?D?(D.p(t,e),8&e[0]&&x(D,1)):(D=ue(t),D.c(),x(D,1),D.m(v,y)):D&&(w(),b(D,1,1,(()=>{D=null})),S()),t[5]?B?(B.p(t,e),32&e[0]&&x(B,1)):(B=fe(t),B.c(),x(B,1),B.m(v,null)):B&&(w(),b(B,1,1,(()=>{B=null})),S()),t[5]&&t[4]?H?H.p(t,e):(H=ke(t),H.c(),H.m(k.parentNode,k)):H&&(H.d(1),H=null),void 0!==t[0].entries?A?(A.p(t,e),1&e[0]&&x(A,1)):(A=Se(t),A.c(),x(A,1),A.m(I.parentNode,I)):A&&(w(),b(A,1,1,(()=>{A=null})),S())},i(t){q||(x(D),x(B),x(A),q=!0)},o(t){b(D),b(B),b(A),q=!1},d(t){t&&c(e),t&&c(s),C&&C.d(t),t&&c(a),T&&T.d(t),t&&c(d),L&&L.d(t),t&&c(g),t&&c(v),D&&D.d(),B&&B.d(),t&&c(E),H&&H.d(t),t&&c(k),A&&A.d(t),t&&c(I)}}}function se(t){let e,n,r,s,a,d=Xt(t[0].value)+"";return{c(){e=o("p"),n=o("b"),r=i("Cost"),s=P(),a=i(d),this.h()},l(t){e=u(t,"P",{class:!0});var l=$(e);n=u(l,"B",{});var o=$(n);r=f(o,"Cost"),o.forEach(c),s=N(l),a=f(l,d),l.forEach(c),this.h()},h(){h(e,"class","svelte-1cfqzhm")},m(t,c){l(t,e,c),p(e,n),p(n,r),p(e,s),p(e,a)},p(t,e){1&e[0]&&d!==(d=Xt(t[0].value)+"")&&m(a,d)},d(t){t&&c(e)}}}function le(t){let e,n,r,s,a,d,g,v,y,E,x,b,k,w,S=t[0].dmg1+"";function I(t,e){return t[2]?oe:t[10]?ce:ae}let q=I(t),C=q(t);return{c(){e=o("p"),n=o("b"),r=i("Properties"),s=P(),a=i(t[11]),d=P(),g=o("p"),v=o("b"),y=i("Damage"),E=P(),x=i(S),b=P(),k=i(t[13]),w=i(" damage + \r\n            "),C.c(),this.h()},l(l){e=u(l,"P",{class:!0});var o=$(e);n=u(o,"B",{});var i=$(n);r=f(i,"Properties"),i.forEach(c),s=N(o),a=f(o,t[11]),o.forEach(c),d=N(l),g=u(l,"P",{class:!0});var p=$(g);v=u(p,"B",{});var m=$(v);y=f(m,"Damage"),m.forEach(c),E=N(p),x=f(p,S),b=N(p),k=f(p,t[13]),w=f(p," damage + \r\n            "),C.l(p),p.forEach(c),this.h()},h(){h(e,"class","svelte-1cfqzhm"),h(g,"class","svelte-1cfqzhm")},m(t,c){l(t,e,c),p(e,n),p(n,r),p(e,s),p(e,a),l(t,d,c),l(t,g,c),p(g,v),p(v,y),p(g,E),p(g,x),p(g,b),p(g,k),p(g,w),C.m(g,null)},p(t,e){2048&e[0]&&m(a,t[11]),1&e[0]&&S!==(S=t[0].dmg1+"")&&m(x,S),8192&e[0]&&m(k,t[13]),q===(q=I(t))&&C?C.p(t,e):(C.d(1),C=q(t),C&&(C.c(),C.m(g,null)))},d(t){t&&c(e),t&&c(d),t&&c(g),C.d()}}}function ae(t){let e;return{c(){e=i("your Strength modifier")},l(t){e=f(t,"your Strength modifier")},m(t,n){l(t,e,n)},p:a,d(t){t&&c(e)}}}function ce(t){let e;return{c(){e=i("your Strength or Dexterity modifier")},l(t){e=f(t,"your Strength or Dexterity modifier")},m(t,n){l(t,e,n)},p:a,d(t){t&&c(e)}}}function oe(t){let e,n,r,s;return{c(){e=i(t[14]),n=i(" ("),r=i(t[15]),s=i(")")},l(l){e=f(l,t[14]),n=f(l," ("),r=f(l,t[15]),s=f(l,")")},m(t,a){l(t,e,a),l(t,n,a),l(t,r,a),l(t,s,a)},p(t,n){16384&n[0]&&m(e,t[14]),32768&n[0]&&m(r,t[15])},d(t){t&&c(e),t&&c(n),t&&c(r),t&&c(s)}}}function ie(t){let e,n,r,s,a,d=t[0].note+"";return{c(){e=o("p"),n=o("b"),r=i("Notes"),s=P(),a=i(d),this.h()},l(t){e=u(t,"P",{class:!0});var l=$(e);n=u(l,"B",{});var o=$(n);r=f(o,"Notes"),o.forEach(c),s=N(l),a=f(l,d),l.forEach(c),this.h()},h(){h(e,"class","svelte-1cfqzhm")},m(t,c){l(t,e,c),p(e,n),p(n,r),p(e,s),p(e,a)},p(t,e){1&e[0]&&d!==(d=t[0].note+"")&&m(a,d)},d(t){t&&c(e)}}}function ue(t){let e,n;return e=new G({props:{$$slots:{default:[$e]},$$scope:{ctx:t}}}),e.$on("click",t[23]),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){E(e,t,r),n=!0},p(t,n){const r={};64&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function $e(t){let e;return{c(){e=i("Edit item")},l(t){e=f(t,"Edit item")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function fe(t){let e,n,s,a=!t[4]&&pe(t),o=t[17]&&ge(t);return{c(){a&&a.c(),e=P(),o&&o.c(),n=r()},l(t){a&&a.l(t),e=N(t),o&&o.l(t),n=r()},m(t,r){a&&a.m(t,r),l(t,e,r),o&&o.m(t,r),l(t,n,r),s=!0},p(t,r){t[4]?a&&(w(),b(a,1,1,(()=>{a=null})),S()):a?(a.p(t,r),16&r[0]&&x(a,1)):(a=pe(t),a.c(),x(a,1),a.m(e.parentNode,e)),t[17]?o?(o.p(t,r),131072&r[0]&&x(o,1)):(o=ge(t),o.c(),x(o,1),o.m(n.parentNode,n)):o&&(w(),b(o,1,1,(()=>{o=null})),S())},i(t){s||(x(a),x(o),s=!0)},o(t){b(a),b(o),s=!1},d(t){a&&a.d(t),t&&c(e),o&&o.d(t),t&&c(n)}}}function pe(t){let e,n;return e=new G({props:{$$slots:{default:[de]},$$scope:{ctx:t}}}),e.$on("click",t[24]),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){E(e,t,r),n=!0},p(t,n){const r={};128&n[0]|64&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function me(t){let e;return{c(){e=i("Remove from inventory")},l(t){e=f(t,"Remove from inventory")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function he(t){let e;return{c(){e=i("Add to inventory")},l(t){e=f(t,"Add to inventory")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function de(t){let e;function n(t,e){return null===t[7]?he:me}let s=n(t),a=s(t);return{c(){a.c(),e=r()},l(t){a.l(t),e=r()},m(t,n){a.m(t,n),l(t,e,n)},p(t,r){s!==(s=n(t))&&(a.d(1),a=s(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){a.d(t),t&&c(e)}}}function ge(t){let e,n;return e=new G({props:{disabled:!t[18]&&!t[19],$$slots:{default:[be]},$$scope:{ctx:t}}}),e.$on("click",t[25]),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){E(e,t,r),n=!0},p(t,n){const r={};786432&n[0]&&(r.disabled=!t[18]&&!t[19]),786432&n[0]|64&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function ve(t){let e;return{c(){e=i("Un-attune from item")},l(t){e=f(t,"Un-attune from item")},m(t,n){l(t,e,n)},p:a,d(t){t&&c(e)}}}function ye(t){let e;function n(t,e){return t[19]?xe:Ee}let s=n(t),a=s(t);return{c(){a.c(),e=r()},l(t){a.l(t),e=r()},m(t,n){a.m(t,n),l(t,e,n)},p(t,r){s!==(s=n(t))&&(a.d(1),a=s(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){a.d(t),t&&c(e)}}}function Ee(t){let e;return{c(){e=i("No free attunement slot")},l(t){e=f(t,"No free attunement slot")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function xe(t){let e;return{c(){e=i("Attune to item")},l(t){e=f(t,"Attune to item")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function be(t){let e;function n(t,e){return t[18]?ve:ye}let s=n(t),a=s(t);return{c(){a.c(),e=r()},l(t){a.l(t),e=r()},m(t,n){a.m(t,n),l(t,e,n)},p(t,r){s===(s=n(t))&&a?a.p(t,r):(a.d(1),a=s(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){a.d(t),t&&c(e)}}}function ke(t){let e,n,r,s=t[20],a=[];for(let l=0;l<s.length;l+=1)a[l]=we(ee(t,s,l));return{c(){e=o("select");for(let t=0;t<a.length;t+=1)a[t].c()},l(t){e=u(t,"SELECT",{value:!0});var n=$(e);for(let e=0;e<a.length;e+=1)a[e].l(n);n.forEach(c)},m(s,c){l(s,e,c);for(let t=0;t<a.length;t+=1)a[t].m(e,null);A(e,t[8]),n||(r=d(e,"change",t[22]),n=!0)},p(t,n){if(3145984&n[0]){let r;for(s=t[20],r=0;r<s.length;r+=1){const l=ee(t,s,r);a[r]?a[r].p(l,n):(a[r]=we(l),a[r].c(),a[r].m(e,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=s.length}1048832&n[0]&&A(e,t[8])},d(t){t&&c(e),j(a,t),n=!1,r()}}}function we(t){let e,n,r,s,a,h=t[34].name+"";return{c(){e=o("option"),n=i(h),this.h()},l(t){e=u(t,"OPTION",{value:!0,selected:!0,disabled:!0});var r=$(e);n=f(r,h),r.forEach(c),this.h()},h(){e.__value=r=t[34].id,e.value=e.__value,e.selected=s=t[34].id===t[8],e.disabled=a=t[21](t[34])},m(t,r){l(t,e,r),p(e,n)},p(t,l){1048576&l[0]&&h!==(h=t[34].name+"")&&m(n,h),1048576&l[0]&&r!==(r=t[34].id)&&(e.__value=r,e.value=e.__value),1048832&l[0]&&s!==(s=t[34].id===t[8])&&(e.selected=s),1048576&l[0]&&a!==(a=t[21](t[34]))&&(e.disabled=a)},d(t){t&&c(e)}}}function Se(t){let e,n;return e=new Ns({props:{entries:t[0].entries}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){E(e,t,r),n=!0},p(t,n){const r={};1&n[0]&&(r.entries=t[0].entries),e.$set(r)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function Pe(t){let e,n,s,a;const o=[re,ne],i=[];function u(t,e){return t[6]?1:0}return e=u(t),n=i[e]=o[e](t),{c(){n.c(),s=r()},l(t){n.l(t),s=r()},m(t,n){i[e].m(t,n),l(t,s,n),a=!0},p(t,r){let l=e;e=u(t),e===l?i[e].p(t,r):(w(),b(i[l],1,1,(()=>{i[l]=null})),S(),n=i[e],n?n.p(t,r):(n=i[e]=o[e](t),n.c()),x(n,1),n.m(s.parentNode,s))},i(t){a||(x(n),a=!0)},o(t){b(n),a=!1},d(t){i[e].d(t),t&&c(s)}}}function Ne(t,e,n){let r,s,l,c,o,i,u,$,f,p,m,h,d,v,y,E=a,x=()=>(E(),E=R(k,(t=>n(27,y=t))),k);t.$$.on_destroy.push((()=>E()));let{data:b}=e;var{character:k=g("character")}=e;x();var w,{autoCalculate:S=!1}=e,{showNotes:P=!0}=e,{allowEditing:N=!1}=e,I=!1,q=null;return t.$$set=t=>{"data"in t&&n(0,b=t.data),"character"in t&&x(n(1,k=t.character)),"autoCalculate"in t&&n(2,S=t.autoCalculate),"showNotes"in t&&n(26,P=t.showNotes),"allowEditing"in t&&n(3,N=t.allowEditing)},t.$$.update=()=>{1&t.$$.dirty[0]&&n(4,r=void 0!==b.id),2&t.$$.dirty[0]&&n(5,s=void 0!==k),1&t.$$.dirty[0]&&n(9,l=b.isWeapon()),1&t.$$.dirty[0]&&b.isWondrous(),1&t.$$.dirty[0]&&n(10,c=b.isFiness()),1&t.$$.dirty[0]&&n(11,o=b.getPropertiesString()),1&t.$$.dirty[0]&&n(12,i=b.getDescription()),1&t.$$.dirty[0]&&n(13,u=b.getWeaponDamageType()),39&t.$$.dirty[0]&&n(14,$=S&&s?b.getAttackBonus(k):0),39&t.$$.dirty[0]&&n(15,f=S&&s?b.getAttackBonusBreakDown(k):""),67108865&t.$$.dirty[0]&&n(16,p=P&&void 0!==b.note&&b.note.length>0),134217761&t.$$.dirty[0]&&s&&y.proficiencies.isProficientIn(b.name),49&t.$$.dirty[0]&&n(17,m=s&&r&&!0===b.reqAttune),134217729&t.$$.dirty[0]&&n(18,h=null==y?void 0:y.inventory.isAttunedTo(b)),134217729&t.$$.dirty[0]&&n(19,d=null==y?void 0:y.inventory.canAttuneTo(b)),134217728&t.$$.dirty[0]&&n(20,v=null==y?void 0:y.inventory.getAllContainers()),17&t.$$.dirty[0]&&r&&n(8,w=b.getCurrentContainer().id)},[b,k,S,N,r,s,I,q,w,l,c,o,i,u,$,f,p,m,h,d,v,function(t){return!t.itemCanBeAdded(b)},function(t){let e=b;if(e.id===w)return;let r=k.inventory.getContainer(t.srcElement.value);n(8,w=t.srcElement.value),r&&r.moveToThisContainer(e)},function(){n(6,I=!0)},function(){null===q?n(7,q=k.inventory.add(b)):k.inventory.remove(q)},function(){k.inventory.toggleAttunementTo(b)},P,y,function(t){n(6,I=t)}]}class Ie extends t{constructor(t){super(),e(this,t,Ne,Pe,n,{data:0,character:1,autoCalculate:2,showNotes:26,allowEditing:3},[-1,-1])}}function qe(t){let e,n;return{c(){e=o("p"),n=i("Item not found")},l(t){e=u(t,"P",{});var r=$(e);n=f(r,"Item not found"),r.forEach(c)},m(t,r){l(t,e,r),p(e,n)},p:a,i:a,o:a,d(t){t&&c(e)}}}function Ce(t){let e,n,r,s,a,d=t[1].name+"";return s=new Ie({props:{data:t[1]}}),{c(){e=o("h1"),n=i(d),r=P(),v(s.$$.fragment),this.h()},l(t){e=u(t,"H1",{class:!0});var l=$(e);n=f(l,d),l.forEach(c),r=N(t),y(s.$$.fragment,t),this.h()},h(){h(e,"class","svelte-1al97ty")},m(t,c){l(t,e,c),p(e,n),l(t,r,c),E(s,t,c),a=!0},p(t,e){(!a||2&e)&&d!==(d=t[1].name+"")&&m(n,d);const r={};2&e&&(r.data=t[1]),s.$set(r)},i(t){a||(x(s.$$.fragment,t),a=!0)},o(t){b(s.$$.fragment,t),a=!1},d(t){t&&c(e),t&&c(r),k(s,t)}}}function Te(t){let e,n,s,a;const o=[Ce,qe],i=[];function u(t,e){return void 0!==t[1]?0:1}return e=u(t),n=i[e]=o[e](t),{c(){n.c(),s=r()},l(t){n.l(t),s=r()},m(t,n){i[e].m(t,n),l(t,s,n),a=!0},p(t,r){let l=e;e=u(t),e===l?i[e].p(t,r):(w(),b(i[l],1,1,(()=>{i[l]=null})),S(),n=i[e],n?n.p(t,r):(n=i[e]=o[e](t),n.c()),x(n,1),n.m(s.parentNode,s))},i(t){a||(x(n),a=!0)},o(t){b(n),a=!1},d(t){i[e].d(t),t&&c(s)}}}function Le(t){let e,n;return e=new Tt({props:{text:t[0],fixed:!0,$$slots:{default:[Te]},$$scope:{ctx:t}}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){E(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.text=t[0]),34&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function De(t,e,n){let r,s;var l=Object.values(et),{input:a}=e;return t.$$set=t=>{"input"in t&&n(2,a=t.input)},t.$$.update=()=>{var e;4&t.$$.dirty&&n(0,r=function(t){return function(t){return(t=(t=t.replace("{@item ","")).replace("}","")).split("|")}(t)[0]}(a)),1&t.$$.dirty&&n(1,(e=r,s=l.find((t=>t.name.toLowerCase()===e.toLowerCase()))))},[r,s,a]}class Be extends t{constructor(t){super(),e(this,t,De,Le,n,{input:2})}}function He(t){let e,n;return e=new gt({props:{text:t[0],expression:t[1]}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){E(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.text=t[0]),2&n&&(r.expression=t[1]),e.$set(r)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function Ae(t,e,n){let r;var{input:s}=e,l="";return t.$$set=t=>{"input"in t&&n(2,s=t.input)},t.$$.update=()=>{4&t.$$.dirty&&n(1,r=function(t){if((t=(t=t.replace("{@dice ","")).replace("}","")).includes("|")){let[e,r]=t.split("|");n(0,l=r),t=e}else n(0,l=t);return t}(s))},[l,r,s]}class je extends t{constructor(t){super(),e(this,t,Ae,He,n,{input:2})}}function Ve(t,e,n){const r=t.slice();return r[2]=e[n],r}function Me(t){let e,n,r,s;return n=new Ns({props:{entries:[t[2]]}}),{c(){e=o("li"),v(n.$$.fragment),r=P(),this.h()},l(t){e=u(t,"LI",{class:!0});var s=$(e);y(n.$$.fragment,s),r=N(s),s.forEach(c),this.h()},h(){h(e,"class","svelte-1517r4i")},m(t,a){l(t,e,a),E(n,e,null),p(e,r),s=!0},p(t,e){const r={};1&e&&(r.entries=[t[2]]),n.$set(r)},i(t){s||(x(n.$$.fragment,t),s=!0)},o(t){b(n.$$.fragment,t),s=!1},d(t){t&&c(e),k(n)}}}function Re(t){let e,n,r=t[0].items,s=[];for(let l=0;l<r.length;l+=1)s[l]=Me(Ve(t,r,l));const a=t=>b(s[t],1,1,(()=>{s[t]=null}));return{c(){e=o("ul");for(let t=0;t<s.length;t+=1)s[t].c();this.h()},l(t){e=u(t,"UL",{style:!0,class:!0});var n=$(e);for(let e=0;e<s.length;e+=1)s[e].l(n);n.forEach(c),this.h()},h(){W(e,"column-count",t[1]),h(e,"class","svelte-1517r4i")},m(t,r){l(t,e,r);for(let n=0;n<s.length;n+=1)s[n].m(e,null);n=!0},p(t,[n]){if(1&n){let l;for(r=t[0].items,l=0;l<r.length;l+=1){const a=Ve(t,r,l);s[l]?(s[l].p(a,n),x(s[l],1)):(s[l]=Me(a),s[l].c(),x(s[l],1),s[l].m(e,null))}for(w(),l=r.length;l<s.length;l+=1)a(l);S()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)x(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)b(s[e]);n=!1},d(t){t&&c(e),j(s,t)}}}function Oe(t,e,n){var{input:r}=e,s=r.columns||1;return t.$$set=t=>{"input"in t&&n(0,r=t.input)},[r,s]}class _e extends t{constructor(t){super(),e(this,t,Oe,Re,n,{input:0})}}function Fe(t,e,n){const r=t.slice();return r[16]=e[n],r}function We(t){let e,n,r,s,a;return{c(){e=o("p"),n=o("b"),r=i("Subclasses"),s=P(),a=i(t[10]),this.h()},l(l){e=u(l,"P",{class:!0});var o=$(e);n=u(o,"B",{});var i=$(n);r=f(i,"Subclasses"),i.forEach(c),s=N(o),a=f(o,t[10]),o.forEach(c),this.h()},h(){h(e,"class","svelte-1xovrf5")},m(t,c){l(t,e,c),p(e,n),p(n,r),p(e,s),p(e,a)},p(t,e){1024&e&&m(a,t[10])},d(t){t&&c(e)}}}function Ue(t){let e,n,s,a;const o=[Xe,ze],i=[];function u(t,e){return void 0===t[1].associatedClass?0:1}return e=u(t),n=i[e]=o[e](t),{c(){n.c(),s=r()},l(t){n.l(t),s=r()},m(t,n){i[e].m(t,n),l(t,s,n),a=!0},p(t,r){let l=e;e=u(t),e===l?i[e].p(t,r):(w(),b(i[l],1,1,(()=>{i[l]=null})),S(),n=i[e],n?n.p(t,r):(n=i[e]=o[e](t),n.c()),x(n,1),n.m(s.parentNode,s))},i(t){a||(x(n),a=!0)},o(t){b(n),a=!1},d(t){i[e].d(t),t&&c(s)}}}function ze(t){let e,n;return e=new G({props:{$$slots:{default:[Ge]},$$scope:{ctx:t}}}),e.$on("click",t[15]),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){E(e,t,r),n=!0},p(t,n){const r={};524288&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function Xe(t){let e,n,s=t[12].spells.classesSpellCanBeAddedTo(t[1]),a=[];for(let r=0;r<s.length;r+=1)a[r]=Qe(Fe(t,s,r));const o=t=>b(a[t],1,1,(()=>{a[t]=null}));return{c(){for(let t=0;t<a.length;t+=1)a[t].c();e=r()},l(t){for(let e=0;e<a.length;e+=1)a[e].l(t);e=r()},m(t,r){for(let e=0;e<a.length;e+=1)a[e].m(t,r);l(t,e,r),n=!0},p(t,n){if(6146&n){let r;for(s=t[12].spells.classesSpellCanBeAddedTo(t[1]),r=0;r<s.length;r+=1){const l=Fe(t,s,r);a[r]?(a[r].p(l,n),x(a[r],1)):(a[r]=Qe(l),a[r].c(),x(a[r],1),a[r].m(e.parentNode,e))}for(w(),r=s.length;r<a.length;r+=1)o(r);S()}},i(t){if(!n){for(let t=0;t<s.length;t+=1)x(a[t]);n=!0}},o(t){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)b(a[e]);n=!1},d(t){j(a,t),t&&c(e)}}}function Ge(t){let e;return{c(){e=i("Remove spell")},l(t){e=f(t,"Remove spell")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function Ye(t){let e,n,r=t[16].name+"";return{c(){e=i("Add to "),n=i(r)},l(t){e=f(t,"Add to "),n=f(t,r)},m(t,r){l(t,e,r),l(t,n,r)},p(t,e){2&e&&r!==(r=t[16].name+"")&&m(n,r)},d(t){t&&c(e),t&&c(n)}}}function Je(t){let e,n,r=t[16].name+"";return{c(){e=i("Remove from "),n=i(r)},l(t){e=f(t,"Remove from "),n=f(t,r)},m(t,r){l(t,e,r),l(t,n,r)},p(t,e){2&e&&r!==(r=t[16].name+"")&&m(n,r)},d(t){t&&c(e),t&&c(n)}}}function Ke(t){let e,n;function s(t,n){return(null==e||2050&n)&&(e=!!t[12].spells.hasSpell(t[1].hash,t[16].hash,t[11])),e?Je:Ye}let a=s(t,-1),o=a(t);return{c(){o.c(),n=r()},l(t){o.l(t),n=r()},m(t,e){o.m(t,e),l(t,n,e)},p(t,e){a===(a=s(t,e))&&o?o.p(t,e):(o.d(1),o=a(t),o&&(o.c(),o.m(n.parentNode,n)))},d(t){o.d(t),t&&c(n)}}}function Qe(t){let e,n,r,s;return n=new G({props:{$$slots:{default:[Ke]},$$scope:{ctx:t}}}),n.$on("click",(function(){return t[14](t[16])})),{c(){e=o("div"),v(n.$$.fragment),r=P(),this.h()},l(t){e=u(t,"DIV",{class:!0});var s=$(e);y(n.$$.fragment,s),r=N(s),s.forEach(c),this.h()},h(){h(e,"class","buttonWrapper svelte-1xovrf5")},m(t,a){l(t,e,a),E(n,e,null),p(e,r),s=!0},p(e,r){t=e;const s={};526338&r&&(s.$$scope={dirty:r,ctx:t}),n.$set(s)},i(t){s||(x(n.$$.fragment,t),s=!0)},o(t){b(n.$$.fragment,t),s=!1},d(t){t&&c(e),k(n)}}}function Ze(t){let e,n,r;return n=new Ns({props:{entries:t[1].entriesHigherLevel}}),{c(){e=o("i"),v(n.$$.fragment)},l(t){e=u(t,"I",{});var r=$(e);y(n.$$.fragment,r),r.forEach(c)},m(t,s){l(t,e,s),E(n,e,null),r=!0},p(t,e){const r={};2&e&&(r.entries=t[1].entriesHigherLevel),n.$set(r)},i(t){r||(x(n.$$.fragment,t),r=!0)},o(t){b(n.$$.fragment,t),r=!1},d(t){t&&c(e),k(n)}}}function tn(t){let e,n,s,a,d,g,I,q,C,T,L,D,B,H,A,j,V,M,R,O,_,F,W,U,z,X,G,Y,J,K,Q,Z,tt,et,nt,rt,st,lt,at,ct,ot,it=void 0!==t[1].classes.fromSubclass&&We(t),ut=t[0]&&Ue(t);lt=new Ns({props:{entries:t[1].entries}});let $t=t[1].entriesHigherLevel&&Ze(t);return{c(){e=o("i"),n=i(t[3]),s=i(", "),a=i(t[4]),d=P(),g=o("p"),I=o("b"),q=i("Casting Time"),C=P(),T=i(t[8]),L=P(),D=o("p"),B=o("b"),H=i("Range"),A=P(),j=i(t[5]),V=P(),M=o("p"),R=o("b"),O=i("Components"),_=P(),F=i(t[6]),W=P(),U=o("p"),z=o("b"),X=i("Duration"),G=P(),Y=i(t[7]),J=P(),K=o("p"),Q=o("b"),Z=i("Classes"),tt=P(),et=i(t[9]),nt=P(),it&&it.c(),rt=P(),ut&&ut.c(),st=P(),v(lt.$$.fragment),at=P(),$t&&$t.c(),ct=r(),this.h()},l(l){e=u(l,"I",{});var o=$(e);n=f(o,t[3]),s=f(o,", "),a=f(o,t[4]),o.forEach(c),d=N(l),g=u(l,"P",{class:!0});var i=$(g);I=u(i,"B",{});var p=$(I);q=f(p,"Casting Time"),p.forEach(c),C=N(i),T=f(i,t[8]),i.forEach(c),L=N(l),D=u(l,"P",{class:!0});var m=$(D);B=u(m,"B",{});var h=$(B);H=f(h,"Range"),h.forEach(c),A=N(m),j=f(m,t[5]),m.forEach(c),V=N(l),M=u(l,"P",{class:!0});var v=$(M);R=u(v,"B",{});var E=$(R);O=f(E,"Components"),E.forEach(c),_=N(v),F=f(v,t[6]),v.forEach(c),W=N(l),U=u(l,"P",{class:!0});var x=$(U);z=u(x,"B",{});var b=$(z);X=f(b,"Duration"),b.forEach(c),G=N(x),Y=f(x,t[7]),x.forEach(c),J=N(l),K=u(l,"P",{class:!0});var k=$(K);Q=u(k,"B",{});var w=$(Q);Z=f(w,"Classes"),w.forEach(c),tt=N(k),et=f(k,t[9]),k.forEach(c),nt=N(l),it&&it.l(l),rt=N(l),ut&&ut.l(l),st=N(l),y(lt.$$.fragment,l),at=N(l),$t&&$t.l(l),ct=r(),this.h()},h(){h(g,"class","svelte-1xovrf5"),h(D,"class","svelte-1xovrf5"),h(M,"class","svelte-1xovrf5"),h(U,"class","svelte-1xovrf5"),h(K,"class","svelte-1xovrf5")},m(t,r){l(t,e,r),p(e,n),p(e,s),p(e,a),l(t,d,r),l(t,g,r),p(g,I),p(I,q),p(g,C),p(g,T),l(t,L,r),l(t,D,r),p(D,B),p(B,H),p(D,A),p(D,j),l(t,V,r),l(t,M,r),p(M,R),p(R,O),p(M,_),p(M,F),l(t,W,r),l(t,U,r),p(U,z),p(z,X),p(U,G),p(U,Y),l(t,J,r),l(t,K,r),p(K,Q),p(Q,Z),p(K,tt),p(K,et),l(t,nt,r),it&&it.m(t,r),l(t,rt,r),ut&&ut.m(t,r),l(t,st,r),E(lt,t,r),l(t,at,r),$t&&$t.m(t,r),l(t,ct,r),ot=!0},p(t,[e]){(!ot||8&e)&&m(n,t[3]),(!ot||16&e)&&m(a,t[4]),(!ot||256&e)&&m(T,t[8]),(!ot||32&e)&&m(j,t[5]),(!ot||64&e)&&m(F,t[6]),(!ot||128&e)&&m(Y,t[7]),(!ot||512&e)&&m(et,t[9]),void 0!==t[1].classes.fromSubclass?it?it.p(t,e):(it=We(t),it.c(),it.m(rt.parentNode,rt)):it&&(it.d(1),it=null),t[0]?ut?(ut.p(t,e),1&e&&x(ut,1)):(ut=Ue(t),ut.c(),x(ut,1),ut.m(st.parentNode,st)):ut&&(w(),b(ut,1,1,(()=>{ut=null})),S());const r={};2&e&&(r.entries=t[1].entries),lt.$set(r),t[1].entriesHigherLevel?$t?($t.p(t,e),2&e&&x($t,1)):($t=Ze(t),$t.c(),x($t,1),$t.m(ct.parentNode,ct)):$t&&(w(),b($t,1,1,(()=>{$t=null})),S())},i(t){ot||(x(ut),x(lt.$$.fragment,t),x($t),ot=!0)},o(t){b(ut),b(lt.$$.fragment,t),b($t),ot=!1},d(t){t&&c(e),t&&c(d),t&&c(g),t&&c(L),t&&c(D),t&&c(V),t&&c(M),t&&c(W),t&&c(U),t&&c(J),t&&c(K),t&&c(nt),it&&it.d(t),t&&c(rt),ut&&ut.d(t),t&&c(st),k(lt,t),t&&c(at),$t&&$t.d(t),t&&c(ct)}}}function en(t,e,n){let r,s,l,c,o,i,u,$,f,p,m,h,d=a;t.$$.on_destroy.push((()=>d()));var{data:v}=e,y=g("character");return t.$$set=t=>{"data"in t&&n(13,v=t.data)},t.$$.update=()=>{1&t.$$.dirty&&(n(2,s=r?y.characterStore:U()),d(),d=R(s,(t=>n(11,h=t)))),8192&t.$$.dirty&&n(1,l=v),2&t.$$.dirty&&n(3,c=l.level>0?`Level ${l.level}`:"Cantrip"),2&t.$$.dirty&&n(4,o=l.getSchoolString()),2&t.$$.dirty&&n(5,i=l.getRangeString()),2&t.$$.dirty&&n(6,u=l.getSpellComponentsString()),2&t.$$.dirty&&n(7,$=l.getDurationString()),2&t.$$.dirty&&n(8,f=l.getCastingTimeString()),2&t.$$.dirty&&n(9,p=l.classes.fromClassList.map((t=>t.name)).join(", ")),2&t.$$.dirty&&n(10,m=void 0!==l.classes.fromSubclass?l.classes.fromSubclass.map((t=>t.class.name+" "+t.subclass.name)).join(", "):"")},n(0,r=void 0!==y),[r,l,s,c,o,i,u,$,f,p,m,h,y,v,t=>y.spells.toggleSpell(l,t.hash),()=>y.spells.remove(l,l.associatedClass)]}class nn extends t{constructor(t){super(),e(this,t,en,tn,n,{data:13})}}function rn(t){let e,n;return{c(){e=o("p"),n=i("Spell not found")},l(t){e=u(t,"P",{});var r=$(e);n=f(r,"Spell not found"),r.forEach(c)},m(t,r){l(t,e,r),p(e,n)},p:a,i:a,o:a,d(t){t&&c(e)}}}function sn(t){let e,n,r,s,a,d=t[2].name+"";return s=new nn({props:{data:t[2],character:t[0]}}),{c(){e=o("h1"),n=i(d),r=P(),v(s.$$.fragment),this.h()},l(t){e=u(t,"H1",{class:!0});var l=$(e);n=f(l,d),l.forEach(c),r=N(t),y(s.$$.fragment,t),this.h()},h(){h(e,"class","svelte-1al97ty")},m(t,c){l(t,e,c),p(e,n),l(t,r,c),E(s,t,c),a=!0},p(t,e){(!a||4&e)&&d!==(d=t[2].name+"")&&m(n,d);const r={};4&e&&(r.data=t[2]),1&e&&(r.character=t[0]),s.$set(r)},i(t){a||(x(s.$$.fragment,t),a=!0)},o(t){b(s.$$.fragment,t),a=!1},d(t){t&&c(e),t&&c(r),k(s,t)}}}function ln(t){let e,n,s,a;const o=[sn,rn],i=[];function u(t,e){return void 0!==t[2]?0:1}return e=u(t),n=i[e]=o[e](t),{c(){n.c(),s=r()},l(t){n.l(t),s=r()},m(t,n){i[e].m(t,n),l(t,s,n),a=!0},p(t,r){let l=e;e=u(t),e===l?i[e].p(t,r):(w(),b(i[l],1,1,(()=>{i[l]=null})),S(),n=i[e],n?n.p(t,r):(n=i[e]=o[e](t),n.c()),x(n,1),n.m(s.parentNode,s))},i(t){a||(x(n),a=!0)},o(t){b(n),a=!1},d(t){i[e].d(t),t&&c(s)}}}function an(t){let e,n;return e=new Tt({props:{text:t[1],fixed:!0,$$slots:{default:[ln]},$$scope:{ctx:t}}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){E(e,t,r),n=!0},p(t,[n]){const r={};2&n&&(r.text=t[1]),69&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function cn(t,e,n){let r,s;var{input:l}=e,{character:a=null}=e,c=Object.values(nt);return t.$$set=t=>{"input"in t&&n(3,l=t.input),"character"in t&&n(0,a=t.character)},t.$$.update=()=>{var e;8&t.$$.dirty&&n(1,r=function(t){return function(t){return(t=(t=t.replace("{@spell ","")).replace("}","")).split("|")}(t)[0]}(l)),2&t.$$.dirty&&n(2,(e=r,s=c.filter((t=>t.name.toLowerCase()===e.toLowerCase()))[0]))},[a,r,s,l]}class on extends t{constructor(t){super(),e(this,t,cn,an,n,{input:3,character:0})}}function un(t){let e,n,r,s,a,i,f,m;const g=t[3].default,v=C(g,t,t[2],null);return{c(){e=o("div"),n=o("div"),r=o("button"),s=o("span"),a=P(),v&&v.c(),this.h()},l(t){e=u(t,"DIV",{class:!0});var l=$(e);n=u(l,"DIV",{class:!0});var o=$(n);r=u(o,"BUTTON",{class:!0});var i=$(r);s=u(i,"SPAN",{class:!0}),$(s).forEach(c),i.forEach(c),a=N(o),v&&v.l(o),o.forEach(c),l.forEach(c),this.h()},h(){h(s,"class","mdi mdi-close"),h(r,"class","svelte-f4q6ix"),h(n,"class","popup svelte-f4q6ix"),h(e,"class","scim svelte-f4q6ix")},m(c,o){l(c,e,o),p(e,n),p(n,r),p(r,s),p(n,a),v&&v.m(n,null),i=!0,f||(m=[d(r,"click",t[1]),d(e,"click",I(t[1]))],f=!0)},p(t,e){v&&v.p&&(!i||4&e)&&L(v,g,t,t[2],e,null,null)},i(t){i||(x(v,t),i=!0)},o(t){b(v,t),i=!1},d(t){t&&c(e),v&&v.d(t),f=!1,V(m)}}}function $n(t){let e,n,s=t[0]&&un(t);return{c(){s&&s.c(),e=r()},l(t){s&&s.l(t),e=r()},m(t,r){s&&s.m(t,r),l(t,e,r),n=!0},p(t,[n]){t[0]?s?(s.p(t,n),1&n&&x(s,1)):(s=un(t),s.c(),x(s,1),s.m(e.parentNode,e)):s&&(w(),b(s,1,1,(()=>{s=null})),S())},i(t){n||(x(s),n=!0)},o(t){b(s),n=!1},d(t){s&&s.d(t),t&&c(e)}}}function fn(t,e,n){let{$$slots:r={},$$scope:s}=e;var{open:l=!1}=e;return t.$$set=t=>{"open"in t&&n(0,l=t.open),"$$scope"in t&&n(2,s=t.$$scope)},[l,function(){n(0,l=!1)},s,r]}class pn extends t{constructor(t){super(),e(this,t,fn,$n,n,{open:0})}}function mn(t){let e,n,r,s,g,v,y,E,x;return{c(){e=o("div"),n=o("div"),r=o("h1"),s=i(t[0]),g=P(),v=o("span"),y=i(t[1]),this.h()},l(l){e=u(l,"DIV",{class:!0,style:!0});var a=$(e);n=u(a,"DIV",{class:!0});var o=$(n);r=u(o,"H1",{class:!0});var i=$(r);s=f(i,t[0]),g=N(i),v=u(i,"SPAN",{class:!0});var p=$(v);y=f(p,t[1]),p.forEach(c),i.forEach(c),o.forEach(c),a.forEach(c),this.h()},h(){h(v,"class","source svelte-6lsdas"),h(r,"class","svelte-6lsdas"),h(n,"class","darken svelte-6lsdas"),h(e,"class","popupHead svelte-6lsdas"),h(e,"style",t[2])},m(a,c){l(a,e,c),p(e,n),p(n,r),p(r,s),p(r,g),p(r,v),p(v,y),E||(x=d(v,"click",t[3]),E=!0)},p(t,[n]){1&n&&m(s,t[0]),2&n&&m(y,t[1]),4&n&&h(e,"style",t[2])},i:a,o:a,d(t){t&&c(e),E=!1,x()}}}function hn(t,e,n){let r;const s=q();var{text:l}=e,{subtitle:a=""}=e,{background:c}=e;return t.$$set=t=>{"text"in t&&n(0,l=t.text),"subtitle"in t&&n(1,a=t.subtitle),"background"in t&&n(4,c=t.background)},t.$$.update=()=>{16&t.$$.dirty&&n(2,r=`background-image: url(${c})`)},[l,a,r,function(){s("subtitleClick")},c]}class dn extends t{constructor(t){super(),e(this,t,hn,mn,n,{text:0,subtitle:1,background:4})}}function gn(t,e,n){const r=t.slice();return r[24]=e[n],r}function vn(t,e,n){const r=t.slice();return r[24]=e[n],r}function yn(t,e,n){const r=t.slice();return r[29]=e[n],r}function En(t,e,n){const r=t.slice();return r[32]=e[n],r}function xn(t,e,n){const r=t.slice();return r[35]=e[n],r}function bn(t,e,n){const r=t.slice();return r[38]=e[n],r}function kn(t){let e,n,r,s=t[3]&&wn(t);return n=new G({props:{$$slots:{default:[Nn]},$$scope:{ctx:t}}}),n.$on("click",t[23]),{c(){s&&s.c(),e=P(),v(n.$$.fragment)},l(t){s&&s.l(t),e=N(t),y(n.$$.fragment,t)},m(t,a){s&&s.m(t,a),l(t,e,a),E(n,t,a),r=!0},p(t,r){t[3]?s?(s.p(t,r),8&r[0]&&x(s,1)):(s=wn(t),s.c(),x(s,1),s.m(e.parentNode,e)):s&&(w(),b(s,1,1,(()=>{s=null})),S());const l={};8&r[0]|1024&r[1]&&(l.$$scope={dirty:r,ctx:t}),n.$set(l)},i(t){r||(x(s),x(n.$$.fragment,t),r=!0)},o(t){b(s),b(n.$$.fragment,t),r=!1},d(t){s&&s.d(t),t&&c(e),k(n,t)}}}function wn(t){let e,n,r;return n=new Ns({props:{entries:t[5]}}),{c(){e=o("div"),v(n.$$.fragment)},l(t){e=u(t,"DIV",{});var r=$(e);y(n.$$.fragment,r),r.forEach(c)},m(t,s){l(t,e,s),E(n,e,null),r=!0},p(t,e){const r={};32&e[0]&&(r.entries=t[5]),n.$set(r)},i(t){r||(x(n.$$.fragment,t),r=!0)},o(t){b(n.$$.fragment,t),r=!1},d(t){t&&c(e),k(n)}}}function Sn(t){let e;return{c(){e=i("Hide fluff")},l(t){e=f(t,"Hide fluff")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function Pn(t){let e;return{c(){e=i("Show fluff")},l(t){e=f(t,"Show fluff")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function Nn(t){let e;function n(t,e){return t[3]?Sn:Pn}let s=n(t),a=s(t);return{c(){a.c(),e=r()},l(t){a.l(t),e=r()},m(t,n){a.m(t,n),l(t,e,n)},p(t,r){s!==(s=n(t))&&(a.d(1),a=s(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){a.d(t),t&&c(e)}}}function In(t){let e,n,r,s,a,m;return a=new vr({props:{line:t[11]}}),{c(){e=o("p"),n=o("b"),r=i("Saving Throws"),s=P(),v(a.$$.fragment),this.h()},l(t){e=u(t,"P",{class:!0});var l=$(e);n=u(l,"B",{});var o=$(n);r=f(o,"Saving Throws"),o.forEach(c),s=N(l),y(a.$$.fragment,l),l.forEach(c),this.h()},h(){h(e,"class","svelte-2a4qkh")},m(t,c){l(t,e,c),p(e,n),p(n,r),p(e,s),E(a,e,null),m=!0},p(t,e){const n={};2048&e[0]&&(n.line=t[11]),a.$set(n)},i(t){m||(x(a.$$.fragment,t),m=!0)},o(t){b(a.$$.fragment,t),m=!1},d(t){t&&c(e),k(a)}}}function qn(t){let e,n,r,s,a,m;return a=new vr({props:{line:t[12]}}),{c(){e=o("p"),n=o("b"),r=i("Skills"),s=P(),v(a.$$.fragment),this.h()},l(t){e=u(t,"P",{class:!0});var l=$(e);n=u(l,"B",{});var o=$(n);r=f(o,"Skills"),o.forEach(c),s=N(l),y(a.$$.fragment,l),l.forEach(c),this.h()},h(){h(e,"class","svelte-2a4qkh")},m(t,c){l(t,e,c),p(e,n),p(n,r),p(e,s),E(a,e,null),m=!0},p(t,e){const n={};4096&e[0]&&(n.line=t[12]),a.$set(n)},i(t){m||(x(a.$$.fragment,t),m=!0)},o(t){b(a.$$.fragment,t),m=!1},d(t){t&&c(e),k(a)}}}function Cn(t){let e,n,r,s,a,m;return a=new vr({props:{line:t[20]}}),{c(){e=o("p"),n=o("b"),r=i("Damage Resistances"),s=P(),v(a.$$.fragment),this.h()},l(t){e=u(t,"P",{class:!0});var l=$(e);n=u(l,"B",{});var o=$(n);r=f(o,"Damage Resistances"),o.forEach(c),s=N(l),y(a.$$.fragment,l),l.forEach(c),this.h()},h(){h(e,"class","svelte-2a4qkh")},m(t,c){l(t,e,c),p(e,n),p(n,r),p(e,s),E(a,e,null),m=!0},p(t,e){const n={};1048576&e[0]&&(n.line=t[20]),a.$set(n)},i(t){m||(x(a.$$.fragment,t),m=!0)},o(t){b(a.$$.fragment,t),m=!1},d(t){t&&c(e),k(a)}}}function Tn(t){let e,n,r,s,a,d=t[0].conditionImmune.join(", ")+"";return{c(){e=o("p"),n=o("b"),r=i("Condition Immunities"),s=P(),a=i(d),this.h()},l(t){e=u(t,"P",{class:!0});var l=$(e);n=u(l,"B",{});var o=$(n);r=f(o,"Condition Immunities"),o.forEach(c),s=N(l),a=f(l,d),l.forEach(c),this.h()},h(){h(e,"class","svelte-2a4qkh")},m(t,c){l(t,e,c),p(e,n),p(n,r),p(e,s),p(e,a)},p(t,e){1&e[0]&&d!==(d=t[0].conditionImmune.join(", ")+"")&&m(a,d)},d(t){t&&c(e)}}}function Ln(t){let e,n,r,s,a;return{c(){e=o("p"),n=o("b"),r=i("Senses"),s=P(),a=i(t[1]),this.h()},l(l){e=u(l,"P",{class:!0});var o=$(e);n=u(o,"B",{});var i=$(n);r=f(i,"Senses"),i.forEach(c),s=N(o),a=f(o,t[1]),o.forEach(c),this.h()},h(){h(e,"class","svelte-2a4qkh")},m(t,c){l(t,e,c),p(e,n),p(n,r),p(e,s),p(e,a)},p(t,e){2&e[0]&&m(a,t[1])},d(t){t&&c(e)}}}function Dn(t){let e;return{c(){e=i("—")},l(t){e=f(t,"—")},m(t,n){l(t,e,n)},p:a,d(t){t&&c(e)}}}function Bn(t){let e,n=t[0].languages.join(", ")+"";return{c(){e=i(n)},l(t){e=f(t,n)},m(t,n){l(t,e,n)},p(t,r){1&r[0]&&n!==(n=t[0].languages.join(", ")+"")&&m(e,n)},d(t){t&&c(e)}}}function Hn(t){let e,n,s,a,i=t[0].trait,$=[];for(let r=0;r<i.length;r+=1)$[r]=jn(xn(t,i,r));const f=t=>b($[t],1,1,(()=>{$[t]=null}));return{c(){e=o("hr"),n=P();for(let t=0;t<$.length;t+=1)$[t].c();s=r(),this.h()},l(t){e=u(t,"HR",{class:!0}),n=N(t);for(let e=0;e<$.length;e+=1)$[e].l(t);s=r(),this.h()},h(){h(e,"class","svelte-2a4qkh")},m(t,r){l(t,e,r),l(t,n,r);for(let e=0;e<$.length;e+=1)$[e].m(t,r);l(t,s,r),a=!0},p(t,e){if(1&e[0]){let n;for(i=t[0].trait,n=0;n<i.length;n+=1){const r=xn(t,i,n);$[n]?($[n].p(r,e),x($[n],1)):($[n]=jn(r),$[n].c(),x($[n],1),$[n].m(s.parentNode,s))}for(w(),n=i.length;n<$.length;n+=1)f(n);S()}},i(t){if(!a){for(let t=0;t<i.length;t+=1)x($[t]);a=!0}},o(t){$=$.filter(Boolean);for(let e=0;e<$.length;e+=1)b($[e]);a=!1},d(t){t&&c(e),t&&c(n),j($,t),t&&c(s)}}}function An(t){let e,n;return e=new vr({props:{line:t[38]}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){E(e,t,r),n=!0},p(t,n){const r={};1&n[0]&&(r.line=t[38]),e.$set(r)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function jn(t){let e,n,r,s,a,d,g,v,y=t[35].name+"",E=t[35].entries,k=[];for(let l=0;l<E.length;l+=1)k[l]=An(bn(t,E,l));const I=t=>b(k[t],1,1,(()=>{k[t]=null}));return{c(){e=o("p"),n=o("i"),r=o("b"),s=i(y),a=i("."),d=P();for(let t=0;t<k.length;t+=1)k[t].c();g=P(),this.h()},l(t){e=u(t,"P",{class:!0});var l=$(e);n=u(l,"I",{});var o=$(n);r=u(o,"B",{});var i=$(r);s=f(i,y),a=f(i,"."),i.forEach(c),o.forEach(c),d=N(l);for(let e=0;e<k.length;e+=1)k[e].l(l);g=N(l),l.forEach(c),this.h()},h(){h(e,"class","svelte-2a4qkh")},m(t,c){l(t,e,c),p(e,n),p(n,r),p(r,s),p(r,a),p(e,d);for(let n=0;n<k.length;n+=1)k[n].m(e,null);p(e,g),v=!0},p(t,n){if((!v||1&n[0])&&y!==(y=t[35].name+"")&&m(s,y),1&n[0]){let r;for(E=t[35].entries,r=0;r<E.length;r+=1){const s=bn(t,E,r);k[r]?(k[r].p(s,n),x(k[r],1)):(k[r]=An(s),k[r].c(),x(k[r],1),k[r].m(e,g))}for(w(),r=E.length;r<k.length;r+=1)I(r);S()}},i(t){if(!v){for(let t=0;t<E.length;t+=1)x(k[t]);v=!0}},o(t){k=k.filter(Boolean);for(let e=0;e<k.length;e+=1)b(k[e]);v=!1},d(t){t&&c(e),j(k,t)}}}function Vn(t){let e,n,s,a,m,d=t[0].spellcasting,g=[];for(let r=0;r<d.length;r+=1)g[r]=_n(yn(t,d,r));const v=t=>b(g[t],1,1,(()=>{g[t]=null}));return{c(){e=o("h3"),n=i("Spellcasting"),s=P();for(let t=0;t<g.length;t+=1)g[t].c();a=r(),this.h()},l(t){e=u(t,"H3",{class:!0});var l=$(e);n=f(l,"Spellcasting"),l.forEach(c),s=N(t);for(let e=0;e<g.length;e+=1)g[e].l(t);a=r(),this.h()},h(){h(e,"class","svelte-2a4qkh")},m(t,r){l(t,e,r),p(e,n),l(t,s,r);for(let e=0;e<g.length;e+=1)g[e].m(t,r);l(t,a,r),m=!0},p(t,e){if(1&e[0]){let n;for(d=t[0].spellcasting,n=0;n<d.length;n+=1){const r=yn(t,d,n);g[n]?(g[n].p(r,e),x(g[n],1)):(g[n]=_n(r),g[n].c(),x(g[n],1),g[n].m(a.parentNode,a))}for(w(),n=d.length;n<g.length;n+=1)v(n);S()}},i(t){if(!m){for(let t=0;t<d.length;t+=1)x(g[t]);m=!0}},o(t){g=g.filter(Boolean);for(let e=0;e<g.length;e+=1)b(g[e]);m=!1},d(t){t&&c(e),t&&c(s),j(g,t),t&&c(a)}}}function Mn(t){let e,n,r;return n=new vr({props:{line:Yn(t[29].daily)}}),{c(){e=o("p"),v(n.$$.fragment),this.h()},l(t){e=u(t,"P",{class:!0});var r=$(e);y(n.$$.fragment,r),r.forEach(c),this.h()},h(){h(e,"class","svelte-2a4qkh")},m(t,s){l(t,e,s),E(n,e,null),r=!0},p(t,e){const r={};1&e[0]&&(r.line=Yn(t[29].daily)),n.$set(r)},i(t){r||(x(n.$$.fragment,t),r=!0)},o(t){b(n.$$.fragment,t),r=!1},d(t){t&&c(e),k(n)}}}function Rn(t){let e,n,s=Jn(t[29].spells),a=[];for(let r=0;r<s.length;r+=1)a[r]=On(En(t,s,r));const o=t=>b(a[t],1,1,(()=>{a[t]=null}));return{c(){for(let t=0;t<a.length;t+=1)a[t].c();e=r()},l(t){for(let e=0;e<a.length;e+=1)a[e].l(t);e=r()},m(t,r){for(let e=0;e<a.length;e+=1)a[e].m(t,r);l(t,e,r),n=!0},p(t,n){if(1&n[0]){let r;for(s=Jn(t[29].spells),r=0;r<s.length;r+=1){const l=En(t,s,r);a[r]?(a[r].p(l,n),x(a[r],1)):(a[r]=On(l),a[r].c(),x(a[r],1),a[r].m(e.parentNode,e))}for(w(),r=s.length;r<a.length;r+=1)o(r);S()}},i(t){if(!n){for(let t=0;t<s.length;t+=1)x(a[t]);n=!0}},o(t){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)b(a[e]);n=!1},d(t){j(a,t),t&&c(e)}}}function On(t){let e,n,r,s,a,d,g,w,S=Kn(t[32].spellLevel)+"",I=t[32].slots+"";return d=new vr({props:{line:t[32].spells.join(", ")}}),{c(){e=o("p"),n=i(S),r=i(" level ("),s=i(I),a=i(" slots):\n                            "),v(d.$$.fragment),g=P(),this.h()},l(t){e=u(t,"P",{class:!0});var l=$(e);n=f(l,S),r=f(l," level ("),s=f(l,I),a=f(l," slots):\n                            "),y(d.$$.fragment,l),g=N(l),l.forEach(c),this.h()},h(){h(e,"class","svelte-2a4qkh")},m(t,c){l(t,e,c),p(e,n),p(e,r),p(e,s),p(e,a),E(d,e,null),p(e,g),w=!0},p(t,e){(!w||1&e[0])&&S!==(S=Kn(t[32].spellLevel)+"")&&m(n,S),(!w||1&e[0])&&I!==(I=t[32].slots+"")&&m(s,I);const r={};1&e[0]&&(r.line=t[32].spells.join(", ")),d.$set(r)},i(t){w||(x(d.$$.fragment,t),w=!0)},o(t){b(d.$$.fragment,t),w=!1},d(t){t&&c(e),k(d)}}}function _n(t){let e,n,r,s,a,i;n=new Ns({props:{entries:t[29].headerEntries,preHTML:`<i><b>${t[29].name}</b></i>`}});let f=void 0!==t[29].daily&&Mn(t),m=void 0!==t[29].spells&&Rn(t);return{c(){e=o("p"),v(n.$$.fragment),r=P(),f&&f.c(),s=P(),m&&m.c(),a=P(),this.h()},l(t){e=u(t,"P",{class:!0});var l=$(e);y(n.$$.fragment,l),r=N(l),f&&f.l(l),s=N(l),m&&m.l(l),a=N(l),l.forEach(c),this.h()},h(){h(e,"class","svelte-2a4qkh")},m(t,c){l(t,e,c),E(n,e,null),p(e,r),f&&f.m(e,null),p(e,s),m&&m.m(e,null),p(e,a),i=!0},p(t,r){const l={};1&r[0]&&(l.entries=t[29].headerEntries),1&r[0]&&(l.preHTML=`<i><b>${t[29].name}</b></i>`),n.$set(l),void 0!==t[29].daily?f?(f.p(t,r),1&r[0]&&x(f,1)):(f=Mn(t),f.c(),x(f,1),f.m(e,s)):f&&(w(),b(f,1,1,(()=>{f=null})),S()),void 0!==t[29].spells?m?(m.p(t,r),1&r[0]&&x(m,1)):(m=Rn(t),m.c(),x(m,1),m.m(e,a)):m&&(w(),b(m,1,1,(()=>{m=null})),S())},i(t){i||(x(n.$$.fragment,t),x(f),x(m),i=!0)},o(t){b(n.$$.fragment,t),b(f),b(m),i=!1},d(t){t&&c(e),k(n),f&&f.d(),m&&m.d()}}}function Fn(t){let e,n;return e=new Ns({props:{preHTML:`<b><i>${t[24].name}</i></b>`,entries:t[24].entries}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){E(e,t,r),n=!0},p(t,n){const r={};1&n[0]&&(r.preHTML=`<b><i>${t[24].name}</i></b>`),1&n[0]&&(r.entries=t[24].entries),e.$set(r)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function Wn(t){let e,n,s,a,m,d,g,v;const y=[zn,Un],E=[];function k(t,e){return void 0!==t[0].legendaryHeader?0:1}a=k(t),m=E[a]=y[a](t);let I=t[0].legendary,q=[];for(let r=0;r<I.length;r+=1)q[r]=Xn(gn(t,I,r));const C=t=>b(q[t],1,1,(()=>{q[t]=null}));return{c(){e=o("h3"),n=i("Legendary Actions"),s=P(),m.c(),d=P();for(let t=0;t<q.length;t+=1)q[t].c();g=r(),this.h()},l(t){e=u(t,"H3",{class:!0});var l=$(e);n=f(l,"Legendary Actions"),l.forEach(c),s=N(t),m.l(t),d=N(t);for(let e=0;e<q.length;e+=1)q[e].l(t);g=r(),this.h()},h(){h(e,"class","svelte-2a4qkh")},m(t,r){l(t,e,r),p(e,n),l(t,s,r),E[a].m(t,r),l(t,d,r);for(let e=0;e<q.length;e+=1)q[e].m(t,r);l(t,g,r),v=!0},p(t,e){let n=a;if(a=k(t),a===n?E[a].p(t,e):(w(),b(E[n],1,1,(()=>{E[n]=null})),S(),m=E[a],m?m.p(t,e):(m=E[a]=y[a](t),m.c()),x(m,1),m.m(d.parentNode,d)),1&e[0]){let n;for(I=t[0].legendary,n=0;n<I.length;n+=1){const r=gn(t,I,n);q[n]?(q[n].p(r,e),x(q[n],1)):(q[n]=Xn(r),q[n].c(),x(q[n],1),q[n].m(g.parentNode,g))}for(w(),n=I.length;n<q.length;n+=1)C(n);S()}},i(t){if(!v){x(m);for(let t=0;t<I.length;t+=1)x(q[t]);v=!0}},o(t){b(m),q=q.filter(Boolean);for(let e=0;e<q.length;e+=1)b(q[e]);v=!1},d(t){t&&c(e),t&&c(s),E[a].d(t),t&&c(d),j(q,t),t&&c(g)}}}function Un(t){let e,n,r,s,o,u=t[0].name+"",$=t[0].name+"";return{c(){e=i("The "),n=i(u),r=i(" can take 3 legendary actions, choosing from the options below. Only one legendary action can be used at a time and only at the end of another creature's turn. The "),s=i($),o=i(" regains spend legendary actions at the start of its turn.")},l(t){e=f(t,"The "),n=f(t,u),r=f(t," can take 3 legendary actions, choosing from the options below. Only one legendary action can be used at a time and only at the end of another creature's turn. The "),s=f(t,$),o=f(t," regains spend legendary actions at the start of its turn.")},m(t,a){l(t,e,a),l(t,n,a),l(t,r,a),l(t,s,a),l(t,o,a)},p(t,e){1&e[0]&&u!==(u=t[0].name+"")&&m(n,u),1&e[0]&&$!==($=t[0].name+"")&&m(s,$)},i:a,o:a,d(t){t&&c(e),t&&c(n),t&&c(r),t&&c(s),t&&c(o)}}}function zn(t){let e,n;return e=new Ns({props:{entries:t[0].legendaryHeader}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){E(e,t,r),n=!0},p(t,n){const r={};1&n[0]&&(r.entries=t[0].legendaryHeader),e.$set(r)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function Xn(t){let e,n;return e=new Ns({props:{preHTML:`<b><i>${t[24].name}</i></b>`,entries:t[24].entries}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){E(e,t,r),n=!0},p(t,n){const r={};1&n[0]&&(r.preHTML=`<b><i>${t[24].name}</i></b>`),1&n[0]&&(r.entries=t[24].entries),e.$set(r)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function Gn(t){let e,n,r,s,a,g,I,q,C,T,L,D,B,H,A,V,M,R,O,_,F,W,U,X,G,Y,J,K,Q,Z,tt,et,nt,rt,st,lt,at,ct,ot,it,ut,$t,ft,pt,mt,ht,dt,vt,yt,Et,xt,bt,kt,wt,St,Pt,Nt,It,qt,Ct,Tt,Lt,Dt,Bt,Ht,At,jt,Vt,Mt,Rt,Ot,_t,Ft,Wt,Ut,zt,Xt,Gt,Yt,Jt,Kt,Qt,Zt,te,ee,ne,re,se,le,ae,ce,oe,ie,ue,$e,fe,pe,me,he,de,ge,ve,ye,Ee,xe,be,ke,we,Se,Pe,Ne,Ie,qe,Ce,Te,Le,De,Be,He,Ae,je,Ve,Me,Re,Oe,_e,Fe,We,Ue,ze,Xe,Ge,Ye,Je=t[0].hp.average+"",Ke=t[0].str+"",Qe=t[0].dex+"",Ze=t[0].con+"",tn=t[0].int+"",en=t[0].wis+"",nn=t[0].cha+"",rn=t[0].hasFluff&&kn(t);F=new vr({props:{line:t[9]}}),Q=new gt({props:{text:t[0].hp.formula,expression:t[0].hp.formula}}),yt=new gt({props:{text:t[14],expression:"1d20"+t[14]}}),Ct=new gt({props:{text:t[15],expression:"1d20"+t[15]}}),Ot=new gt({props:{text:t[16],expression:"1d20"+t[16]}}),Qt=new gt({props:{text:t[17],expression:"1d20"+t[17]}}),ie=new gt({props:{text:t[18],expression:"1d20"+t[18]}}),Ee=new gt({props:{text:t[19],expression:"1d20"+t[19]}});let sn=void 0!==t[0].save&&In(t),ln=void 0!==t[0].skill&&qn(t),an=null!==t[20]&&Cn(t),cn=void 0!==t[0].conditionImmune&&Tn(t),on=""!==t[1]&&Ln(t);function un(t,e){return void 0!==t[0].languages?Bn:Dn}let $n=un(t),fn=$n(t),pn=void 0!==t[0].trait&&Hn(t),mn=void 0!==t[0].spellcasting&&Vn(t),hn=t[0].action,dn=[];for(let l=0;l<hn.length;l+=1)dn[l]=Fn(vn(t,hn,l));const gn=t=>b(dn[t],1,1,(()=>{dn[t]=null}));let yn=void 0!==t[0].legendary&&Wn(t);return{c(){e=o("div"),n=o("header"),r=o("img"),g=P(),rn&&rn.c(),I=P(),q=o("h2"),C=i(t[6]),T=P(),L=i(t[7]),D=i(",\n        "),B=i(t[8]),H=P(),A=o("hr"),V=P(),M=o("p"),R=o("b"),O=i("Armor Class"),_=P(),v(F.$$.fragment),W=P(),U=o("p"),X=o("b"),G=i("Hit Points"),Y=P(),J=i(Je),K=i(" ("),v(Q.$$.fragment),Z=i(")"),tt=P(),et=o("p"),nt=o("b"),rt=i("Speed"),st=P(),lt=i(t[10]),at=P(),ct=o("hr"),ot=P(),it=o("div"),ut=o("div"),$t=o("p"),ft=o("b"),pt=i("Str"),mt=P(),ht=o("p"),dt=i(Ke),vt=i(" ("),v(yt.$$.fragment),Et=i(")"),xt=P(),bt=o("div"),kt=o("p"),wt=o("b"),St=i("Dex"),Pt=P(),Nt=o("p"),It=i(Qe),qt=i(" ("),v(Ct.$$.fragment),Tt=i(")"),Lt=P(),Dt=o("div"),Bt=o("p"),Ht=o("b"),At=i("Con"),jt=P(),Vt=o("p"),Mt=i(Ze),Rt=i(" ("),v(Ot.$$.fragment),_t=i(")"),Ft=P(),Wt=o("div"),Ut=o("p"),zt=o("b"),Xt=i("Int"),Gt=P(),Yt=o("p"),Jt=i(tn),Kt=i(" ("),v(Qt.$$.fragment),Zt=i(")"),te=P(),ee=o("div"),ne=o("p"),re=o("b"),se=i("Wis"),le=P(),ae=o("p"),ce=i(en),oe=i(" ("),v(ie.$$.fragment),ue=i(")"),$e=P(),fe=o("div"),pe=o("p"),me=o("b"),he=i("Cha"),de=P(),ge=o("p"),ve=i(nn),ye=i(" ("),v(Ee.$$.fragment),xe=i(")"),be=P(),ke=o("hr"),we=P(),sn&&sn.c(),Se=P(),ln&&ln.c(),Pe=P(),an&&an.c(),Ne=P(),cn&&cn.c(),Ie=P(),on&&on.c(),qe=P(),Ce=o("p"),Te=o("b"),Le=i("Languages"),De=P(),fn.c(),Be=P(),He=o("p"),Ae=o("b"),je=i("Challenge"),Ve=P(),Me=i(t[13]),Re=P(),pn&&pn.c(),Oe=P(),mn&&mn.c(),_e=P(),Fe=o("h3"),We=i("Actions"),Ue=P();for(let t=0;t<dn.length;t+=1)dn[t].c();ze=P(),yn&&yn.c(),this.h()},l(s){e=u(s,"DIV",{class:!0});var l=$(e);n=u(l,"HEADER",{class:!0});var a=$(n);r=u(a,"IMG",{src:!0,alt:!0,class:!0}),a.forEach(c),g=N(l),rn&&rn.l(l),I=N(l),q=u(l,"H2",{class:!0});var o=$(q);C=f(o,t[6]),T=N(o),L=f(o,t[7]),D=f(o,",\n        "),B=f(o,t[8]),o.forEach(c),H=N(l),A=u(l,"HR",{class:!0}),V=N(l),M=u(l,"P",{class:!0});var i=$(M);R=u(i,"B",{});var p=$(R);O=f(p,"Armor Class"),p.forEach(c),_=N(i),y(F.$$.fragment,i),i.forEach(c),W=N(l),U=u(l,"P",{class:!0});var m=$(U);X=u(m,"B",{});var h=$(X);G=f(h,"Hit Points"),h.forEach(c),Y=N(m),J=f(m,Je),K=f(m," ("),y(Q.$$.fragment,m),Z=f(m,")"),m.forEach(c),tt=N(l),et=u(l,"P",{class:!0});var d=$(et);nt=u(d,"B",{});var v=$(nt);rt=f(v,"Speed"),v.forEach(c),st=N(d),lt=f(d,t[10]),d.forEach(c),at=N(l),ct=u(l,"HR",{class:!0}),ot=N(l),it=u(l,"DIV",{class:!0});var E=$(it);ut=u(E,"DIV",{class:!0});var x=$(ut);$t=u(x,"P",{class:!0});var b=$($t);ft=u(b,"B",{});var k=$(ft);pt=f(k,"Str"),k.forEach(c),b.forEach(c),mt=N(x),ht=u(x,"P",{class:!0});var w=$(ht);dt=f(w,Ke),vt=f(w," ("),y(yt.$$.fragment,w),Et=f(w,")"),w.forEach(c),x.forEach(c),xt=N(E),bt=u(E,"DIV",{class:!0});var S=$(bt);kt=u(S,"P",{class:!0});var P=$(kt);wt=u(P,"B",{});var j=$(wt);St=f(j,"Dex"),j.forEach(c),P.forEach(c),Pt=N(S),Nt=u(S,"P",{class:!0});var z=$(Nt);It=f(z,Qe),qt=f(z," ("),y(Ct.$$.fragment,z),Tt=f(z,")"),z.forEach(c),S.forEach(c),Lt=N(E),Dt=u(E,"DIV",{class:!0});var gt=$(Dt);Bt=u(gt,"P",{class:!0});var Xe=$(Bt);Ht=u(Xe,"B",{});var Ge=$(Ht);At=f(Ge,"Con"),Ge.forEach(c),Xe.forEach(c),jt=N(gt),Vt=u(gt,"P",{class:!0});var Ye=$(Vt);Mt=f(Ye,Ze),Rt=f(Ye," ("),y(Ot.$$.fragment,Ye),_t=f(Ye,")"),Ye.forEach(c),gt.forEach(c),Ft=N(E),Wt=u(E,"DIV",{class:!0});var un=$(Wt);Ut=u(un,"P",{class:!0});var $n=$(Ut);zt=u($n,"B",{});var hn=$(zt);Xt=f(hn,"Int"),hn.forEach(c),$n.forEach(c),Gt=N(un),Yt=u(un,"P",{class:!0});var gn=$(Yt);Jt=f(gn,tn),Kt=f(gn," ("),y(Qt.$$.fragment,gn),Zt=f(gn,")"),gn.forEach(c),un.forEach(c),te=N(E),ee=u(E,"DIV",{class:!0});var vn=$(ee);ne=u(vn,"P",{class:!0});var En=$(ne);re=u(En,"B",{});var xn=$(re);se=f(xn,"Wis"),xn.forEach(c),En.forEach(c),le=N(vn),ae=u(vn,"P",{class:!0});var bn=$(ae);ce=f(bn,en),oe=f(bn," ("),y(ie.$$.fragment,bn),ue=f(bn,")"),bn.forEach(c),vn.forEach(c),$e=N(E),fe=u(E,"DIV",{class:!0});var kn=$(fe);pe=u(kn,"P",{class:!0});var wn=$(pe);me=u(wn,"B",{});var Sn=$(me);he=f(Sn,"Cha"),Sn.forEach(c),wn.forEach(c),de=N(kn),ge=u(kn,"P",{class:!0});var Pn=$(ge);ve=f(Pn,nn),ye=f(Pn," ("),y(Ee.$$.fragment,Pn),xe=f(Pn,")"),Pn.forEach(c),kn.forEach(c),E.forEach(c),be=N(l),ke=u(l,"HR",{class:!0}),we=N(l),sn&&sn.l(l),Se=N(l),ln&&ln.l(l),Pe=N(l),an&&an.l(l),Ne=N(l),cn&&cn.l(l),Ie=N(l),on&&on.l(l),qe=N(l),Ce=u(l,"P",{class:!0});var Nn=$(Ce);Te=u(Nn,"B",{});var In=$(Te);Le=f(In,"Languages"),In.forEach(c),De=N(Nn),fn.l(Nn),Nn.forEach(c),Be=N(l),He=u(l,"P",{class:!0});var qn=$(He);Ae=u(qn,"B",{});var Cn=$(Ae);je=f(Cn,"Challenge"),Cn.forEach(c),Ve=N(qn),Me=f(qn,t[13]),qn.forEach(c),Re=N(l),pn&&pn.l(l),Oe=N(l),mn&&mn.l(l),_e=N(l),Fe=u(l,"H3",{class:!0});var Tn=$(Fe);We=f(Tn,"Actions"),Tn.forEach(c),Ue=N(l);for(let t=0;t<dn.length;t+=1)dn[t].l(l);ze=N(l),yn&&yn.l(l),l.forEach(c),this.h()},h(){r.src!==(s=t[4])&&h(r,"src",s),h(r,"alt",""),h(r,"class","svelte-2a4qkh"),h(n,"class",a=z(!t[2]&&"hidden")+" svelte-2a4qkh"),h(q,"class","svelte-2a4qkh"),h(A,"class","svelte-2a4qkh"),h(M,"class","svelte-2a4qkh"),h(U,"class","svelte-2a4qkh"),h(et,"class","svelte-2a4qkh"),h(ct,"class","svelte-2a4qkh"),h($t,"class","svelte-2a4qkh"),h(ht,"class","svelte-2a4qkh"),h(ut,"class","stat svelte-2a4qkh"),h(kt,"class","svelte-2a4qkh"),h(Nt,"class","svelte-2a4qkh"),h(bt,"class","stat svelte-2a4qkh"),h(Bt,"class","svelte-2a4qkh"),h(Vt,"class","svelte-2a4qkh"),h(Dt,"class","stat svelte-2a4qkh"),h(Ut,"class","svelte-2a4qkh"),h(Yt,"class","svelte-2a4qkh"),h(Wt,"class","stat svelte-2a4qkh"),h(ne,"class","svelte-2a4qkh"),h(ae,"class","svelte-2a4qkh"),h(ee,"class","stat svelte-2a4qkh"),h(pe,"class","svelte-2a4qkh"),h(ge,"class","svelte-2a4qkh"),h(fe,"class","stat svelte-2a4qkh"),h(it,"class","stats svelte-2a4qkh"),h(ke,"class","svelte-2a4qkh"),h(Ce,"class","svelte-2a4qkh"),h(He,"class","svelte-2a4qkh"),h(Fe,"class","svelte-2a4qkh"),h(e,"class","monsterView svelte-2a4qkh")},m(s,a){l(s,e,a),p(e,n),p(n,r),p(e,g),rn&&rn.m(e,null),p(e,I),p(e,q),p(q,C),p(q,T),p(q,L),p(q,D),p(q,B),p(e,H),p(e,A),p(e,V),p(e,M),p(M,R),p(R,O),p(M,_),E(F,M,null),p(e,W),p(e,U),p(U,X),p(X,G),p(U,Y),p(U,J),p(U,K),E(Q,U,null),p(U,Z),p(e,tt),p(e,et),p(et,nt),p(nt,rt),p(et,st),p(et,lt),p(e,at),p(e,ct),p(e,ot),p(e,it),p(it,ut),p(ut,$t),p($t,ft),p(ft,pt),p(ut,mt),p(ut,ht),p(ht,dt),p(ht,vt),E(yt,ht,null),p(ht,Et),p(it,xt),p(it,bt),p(bt,kt),p(kt,wt),p(wt,St),p(bt,Pt),p(bt,Nt),p(Nt,It),p(Nt,qt),E(Ct,Nt,null),p(Nt,Tt),p(it,Lt),p(it,Dt),p(Dt,Bt),p(Bt,Ht),p(Ht,At),p(Dt,jt),p(Dt,Vt),p(Vt,Mt),p(Vt,Rt),E(Ot,Vt,null),p(Vt,_t),p(it,Ft),p(it,Wt),p(Wt,Ut),p(Ut,zt),p(zt,Xt),p(Wt,Gt),p(Wt,Yt),p(Yt,Jt),p(Yt,Kt),E(Qt,Yt,null),p(Yt,Zt),p(it,te),p(it,ee),p(ee,ne),p(ne,re),p(re,se),p(ee,le),p(ee,ae),p(ae,ce),p(ae,oe),E(ie,ae,null),p(ae,ue),p(it,$e),p(it,fe),p(fe,pe),p(pe,me),p(me,he),p(fe,de),p(fe,ge),p(ge,ve),p(ge,ye),E(Ee,ge,null),p(ge,xe),p(e,be),p(e,ke),p(e,we),sn&&sn.m(e,null),p(e,Se),ln&&ln.m(e,null),p(e,Pe),an&&an.m(e,null),p(e,Ne),cn&&cn.m(e,null),p(e,Ie),on&&on.m(e,null),p(e,qe),p(e,Ce),p(Ce,Te),p(Te,Le),p(Ce,De),fn.m(Ce,null),p(e,Be),p(e,He),p(He,Ae),p(Ae,je),p(He,Ve),p(He,Me),p(e,Re),pn&&pn.m(e,null),p(e,Oe),mn&&mn.m(e,null),p(e,_e),p(e,Fe),p(Fe,We),p(e,Ue);for(let t=0;t<dn.length;t+=1)dn[t].m(e,null);p(e,ze),yn&&yn.m(e,null),Xe=!0,Ge||(Ye=d(r,"load",t[22]),Ge=!0)},p(t,l){(!Xe||16&l[0]&&r.src!==(s=t[4]))&&h(r,"src",s),(!Xe||4&l[0]&&a!==(a=z(!t[2]&&"hidden")+" svelte-2a4qkh"))&&h(n,"class",a),t[0].hasFluff?rn?(rn.p(t,l),1&l[0]&&x(rn,1)):(rn=kn(t),rn.c(),x(rn,1),rn.m(e,I)):rn&&(w(),b(rn,1,1,(()=>{rn=null})),S()),(!Xe||64&l[0])&&m(C,t[6]),(!Xe||128&l[0])&&m(L,t[7]),(!Xe||256&l[0])&&m(B,t[8]);const c={};512&l[0]&&(c.line=t[9]),F.$set(c),(!Xe||1&l[0])&&Je!==(Je=t[0].hp.average+"")&&m(J,Je);const o={};1&l[0]&&(o.text=t[0].hp.formula),1&l[0]&&(o.expression=t[0].hp.formula),Q.$set(o),(!Xe||1024&l[0])&&m(lt,t[10]),(!Xe||1&l[0])&&Ke!==(Ke=t[0].str+"")&&m(dt,Ke);const i={};16384&l[0]&&(i.text=t[14]),16384&l[0]&&(i.expression="1d20"+t[14]),yt.$set(i),(!Xe||1&l[0])&&Qe!==(Qe=t[0].dex+"")&&m(It,Qe);const u={};32768&l[0]&&(u.text=t[15]),32768&l[0]&&(u.expression="1d20"+t[15]),Ct.$set(u),(!Xe||1&l[0])&&Ze!==(Ze=t[0].con+"")&&m(Mt,Ze);const $={};65536&l[0]&&($.text=t[16]),65536&l[0]&&($.expression="1d20"+t[16]),Ot.$set($),(!Xe||1&l[0])&&tn!==(tn=t[0].int+"")&&m(Jt,tn);const f={};131072&l[0]&&(f.text=t[17]),131072&l[0]&&(f.expression="1d20"+t[17]),Qt.$set(f),(!Xe||1&l[0])&&en!==(en=t[0].wis+"")&&m(ce,en);const p={};262144&l[0]&&(p.text=t[18]),262144&l[0]&&(p.expression="1d20"+t[18]),ie.$set(p),(!Xe||1&l[0])&&nn!==(nn=t[0].cha+"")&&m(ve,nn);const d={};if(524288&l[0]&&(d.text=t[19]),524288&l[0]&&(d.expression="1d20"+t[19]),Ee.$set(d),void 0!==t[0].save?sn?(sn.p(t,l),1&l[0]&&x(sn,1)):(sn=In(t),sn.c(),x(sn,1),sn.m(e,Se)):sn&&(w(),b(sn,1,1,(()=>{sn=null})),S()),void 0!==t[0].skill?ln?(ln.p(t,l),1&l[0]&&x(ln,1)):(ln=qn(t),ln.c(),x(ln,1),ln.m(e,Pe)):ln&&(w(),b(ln,1,1,(()=>{ln=null})),S()),null!==t[20]?an?(an.p(t,l),1048576&l[0]&&x(an,1)):(an=Cn(t),an.c(),x(an,1),an.m(e,Ne)):an&&(w(),b(an,1,1,(()=>{an=null})),S()),void 0!==t[0].conditionImmune?cn?cn.p(t,l):(cn=Tn(t),cn.c(),cn.m(e,Ie)):cn&&(cn.d(1),cn=null),""!==t[1]?on?on.p(t,l):(on=Ln(t),on.c(),on.m(e,qe)):on&&(on.d(1),on=null),$n===($n=un(t))&&fn?fn.p(t,l):(fn.d(1),fn=$n(t),fn&&(fn.c(),fn.m(Ce,null))),(!Xe||8192&l[0])&&m(Me,t[13]),void 0!==t[0].trait?pn?(pn.p(t,l),1&l[0]&&x(pn,1)):(pn=Hn(t),pn.c(),x(pn,1),pn.m(e,Oe)):pn&&(w(),b(pn,1,1,(()=>{pn=null})),S()),void 0!==t[0].spellcasting?mn?(mn.p(t,l),1&l[0]&&x(mn,1)):(mn=Vn(t),mn.c(),x(mn,1),mn.m(e,_e)):mn&&(w(),b(mn,1,1,(()=>{mn=null})),S()),1&l[0]){let n;for(hn=t[0].action,n=0;n<hn.length;n+=1){const r=vn(t,hn,n);dn[n]?(dn[n].p(r,l),x(dn[n],1)):(dn[n]=Fn(r),dn[n].c(),x(dn[n],1),dn[n].m(e,ze))}for(w(),n=hn.length;n<dn.length;n+=1)gn(n);S()}void 0!==t[0].legendary?yn?(yn.p(t,l),1&l[0]&&x(yn,1)):(yn=Wn(t),yn.c(),x(yn,1),yn.m(e,null)):yn&&(w(),b(yn,1,1,(()=>{yn=null})),S())},i(t){if(!Xe){x(rn),x(F.$$.fragment,t),x(Q.$$.fragment,t),x(yt.$$.fragment,t),x(Ct.$$.fragment,t),x(Ot.$$.fragment,t),x(Qt.$$.fragment,t),x(ie.$$.fragment,t),x(Ee.$$.fragment,t),x(sn),x(ln),x(an),x(pn),x(mn);for(let t=0;t<hn.length;t+=1)x(dn[t]);x(yn),Xe=!0}},o(t){b(rn),b(F.$$.fragment,t),b(Q.$$.fragment,t),b(yt.$$.fragment,t),b(Ct.$$.fragment,t),b(Ot.$$.fragment,t),b(Qt.$$.fragment,t),b(ie.$$.fragment,t),b(Ee.$$.fragment,t),b(sn),b(ln),b(an),b(pn),b(mn),dn=dn.filter(Boolean);for(let e=0;e<dn.length;e+=1)b(dn[e]);b(yn),Xe=!1},d(t){t&&c(e),rn&&rn.d(),k(F),k(Q),k(yt),k(Ct),k(Ot),k(Qt),k(ie),k(Ee),sn&&sn.d(),ln&&ln.d(),an&&an.d(),cn&&cn.d(),on&&on.d(),fn.d(),pn&&pn.d(),mn&&mn.d(),j(dn,t),yn&&yn.d(),Ge=!1,Ye()}}}function Yn(t){const e={e:"each"};let n="",r=Object.entries(t);for(let[s,l]of r){let[t,r]=s.split("");n+=`${Number(t)}/day`,n+=void 0!==r?` ${e[r]}: `:": ",n+=l.join(", ")}return n}function Jn(t){return Object.entries(t).map((([t,e])=>Object.assign(Object.assign({},e),{spellLevel:Number(t)})))}function Kn(t){return 1===t?"1st":2===t?"2nd":3===t?"3rd":`${t}th`}function Qn(t,e,n){let r,s,l,a,c,o,i,u,$,f,p,m,h,d,g,v,y,E;var{data:x}=e;console.log(x);var b="",k=!1,w=!1;return t.$$set=t=>{"data"in t&&n(0,x=t.data)},t.$$.update=()=>{if(1&t.$$.dirty[0]&&n(4,r=`./f/monsterImage?monster=${x.name}`),1&t.$$.dirty[0]&&n(5,s=x.hasFluff?rt()[x.name].entries:[]),1&t.$$.dirty[0]&&n(21,l=x.getModifiers()),1&t.$$.dirty[0]&&n(6,a=x.getSizeString()),1&t.$$.dirty[0]&&n(7,c=x.getTypeString()),1&t.$$.dirty[0]&&n(8,o=x.getAlignmentString(x.alignment)),1&t.$$.dirty[0]&&n(9,i=x.getACString()),1&t.$$.dirty[0]&&n(10,u=x.getSpeedString()),1&t.$$.dirty[0]&&n(11,$=x.getSavesString()),1&t.$$.dirty[0]&&n(12,f=x.getSkillsString(x.skill)),1&t.$$.dirty[0]&&n(13,p=x.getCRString()),2097152&t.$$.dirty[0]&&n(14,m=st(l.str)),2097152&t.$$.dirty[0]&&n(15,h=st(l.dex)),2097152&t.$$.dirty[0]&&n(16,d=st(l.con)),2097152&t.$$.dirty[0]&&n(17,g=st(l.int)),2097152&t.$$.dirty[0]&&n(18,v=st(l.wis)),2097152&t.$$.dirty[0]&&n(19,y=st(l.cha)),1&t.$$.dirty[0]&&n(20,E=x.getDamageResistancesString()),1&t.$$.dirty[0]){let t=[];void 0!==x.senses&&(t=[...t,...x.senses]),void 0!==x.passive&&(t=[...t,`Passive Perception ${x.passive}`]),n(1,b=t.join(", "))}},[x,b,k,w,r,s,a,c,o,i,u,$,f,p,m,h,d,g,v,y,E,l,()=>n(2,k=!0),()=>n(3,w=!w)]}class Zn extends t{constructor(t){super(),e(this,t,Qn,Gn,n,{data:0},[-1,-1])}}function tr(t){let e,n,r,s;return e=new dn({props:{text:t[1].name,subtitle:t[1].getSourceString(),background:"./img/header/limbo.jpg"}}),e.$on("subtitleClick",t[2]),r=new Zn({props:{data:t[1]}}),{c(){v(e.$$.fragment),n=P(),v(r.$$.fragment)},l(t){y(e.$$.fragment,t),n=N(t),y(r.$$.fragment,t)},m(t,a){E(e,t,a),l(t,n,a),E(r,t,a),s=!0},p(t,n){const s={};2&n&&(s.text=t[1].name),2&n&&(s.subtitle=t[1].getSourceString()),e.$set(s);const l={};2&n&&(l.data=t[1]),r.$set(l)},i(t){s||(x(e.$$.fragment,t),x(r.$$.fragment,t),s=!0)},o(t){b(e.$$.fragment,t),b(r.$$.fragment,t),s=!1},d(t){k(e,t),t&&c(n),k(r,t)}}}function er(t){let e,n,r;function s(e){t[4](e)}let l={$$slots:{default:[tr]},$$scope:{ctx:t}};return void 0!==t[0]&&(l.open=t[0]),e=new pn({props:l}),O.push((()=>_(e,"open",s))),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,n){E(e,t,n),r=!0},p(t,[r]){const s={};34&r&&(s.$$scope={dirty:r,ctx:t}),!n&&1&r&&(n=!0,s.open=t[0],F((()=>n=!1))),e.$set(s)},i(t){r||(x(e.$$.fragment,t),r=!0)},o(t){b(e.$$.fragment,t),r=!1},d(t){k(e,t)}}}function nr(t,e,n){var{open:r=!1}=e,{campaign:s=null}=e,{entry:l}=e;return t.$$set=t=>{"open"in t&&n(0,r=t.open),"campaign"in t&&n(3,s=t.campaign),"entry"in t&&n(1,l=t.entry)},[r,l,function(){s.mainManager.showSourcePage(l.source,l.page)},s,function(t){n(0,r=t)}]}class rr extends t{constructor(t){super(),e(this,t,nr,er,n,{open:0,campaign:3,entry:1})}}function sr(t){let e,n,r,s,a,g,w,S;function I(e){t[5](e)}let q={entry:t[2]};return void 0!==t[1]&&(q.open=t[1]),s=new rr({props:q}),O.push((()=>_(s,"open",I))),{c(){e=o("a"),n=i(t[0]),r=P(),v(s.$$.fragment),this.h()},l(l){e=u(l,"A",{class:!0});var a=$(e);n=f(a,t[0]),a.forEach(c),r=N(l),y(s.$$.fragment,l),this.h()},h(){h(e,"class","svelte-2qa68i")},m(a,c){l(a,e,c),p(e,n),l(a,r,c),E(s,a,c),g=!0,w||(S=d(e,"click",t[3]),w=!0)},p(t,[e]){(!g||1&e)&&m(n,t[0]);const r={};4&e&&(r.entry=t[2]),!a&&2&e&&(a=!0,r.open=t[1],F((()=>a=!1))),s.$set(r)},i(t){g||(x(s.$$.fragment,t),g=!0)},o(t){b(s.$$.fragment,t),g=!1},d(t){t&&c(e),t&&c(r),k(s,t),w=!1,S()}}}function lr(t,e,n){var r,{input:s}=e,l="",a="",c="",o=!1;return function(){n(4,s=s.replace("{@creature ","")),n(4,s=s.replace("}",""));let t=s.split("|");a=t[0],c=t[1],n(0,l=t[2]),void 0===l&&n(0,l=a)}(),t.$$set=t=>{"input"in t&&n(4,s=t.input)},[l,o,r,function(){n(2,r=getMonsterByNameAndSource(a,c)),n(1,o=!0)},s,function(t){n(1,o=t)}]}class ar extends t{constructor(t){super(),e(this,t,lr,sr,n,{input:4})}}function cr(t){let e,n;return{c(){e=i("DC "),n=i(t[0])},l(r){e=f(r,"DC "),n=f(r,t[0])},m(t,r){l(t,e,r),l(t,n,r)},p(t,[e]){1&e&&m(n,t[0])},i:a,o:a,d(t){t&&c(e),t&&c(n)}}}function or(t,e,n){let r;var{input:s}=e;return t.$$set=t=>{"input"in t&&n(1,s=t.input)},t.$$.update=()=>{2&t.$$.dirty&&n(0,r=function(t){return(t=t.replace("{@dc ","")).replace("}","")}(s))},[r,s]}class ir extends t{constructor(t){super(),e(this,t,or,cr,n,{input:1})}}function ur(t){let e,n;return{c(){e=o("i"),n=i(t[0]),this.h()},l(r){e=u(r,"I",{class:!0});var s=$(e);n=f(s,t[0]),s.forEach(c),this.h()},h(){h(e,"class","svelte-dpt811")},m(t,r){l(t,e,r),p(e,n)},p(t,[e]){1&e&&m(n,t[0])},i:a,o:a,d(t){t&&c(e)}}}function $r(t,e,n){let r;var{input:s}=e;return t.$$set=t=>{"input"in t&&n(1,s=t.input)},t.$$.update=()=>{2&t.$$.dirty&&n(0,r=function(t){return(t=t.replace("{@note ","")).replace("}","")}(s))},[r,s]}class fr extends t{constructor(t){super(),e(this,t,$r,ur,n,{input:1})}}function pr(t){var e=$t;const n=(n,r)=>{t.includes(`{@${n}`)&&(e=r)};return n("note",fr),n("b",Ft),n("i",zt),n("h",Rt),n("atk",mt),n("hit",xt),n("check",xt),n("dice",je),n("damage",wt),n("condition",Ht),n("item",Be),n("filter",Vt),n("spell",on),n("creature",ar),n("dc",ir),e}function mr(t,e,n){const r=t.slice();return r[2]=e[n],r}function hr(t){let e,n,s;var a=t[2].component;function o(t){return{props:{input:t[2].input}}}return a&&(e=new a(o(t))),{c(){e&&v(e.$$.fragment),n=r()},l(t){e&&y(e.$$.fragment,t),n=r()},m(t,r){e&&E(e,t,r),l(t,n,r),s=!0},p(t,r){const s={};if(1&r&&(s.input=t[2].input),a!==(a=t[2].component)){if(e){w();const t=e;b(t.$$.fragment,1,0,(()=>{k(t,1)})),S()}a?(e=new a(o(t)),v(e.$$.fragment),x(e.$$.fragment,1),E(e,n.parentNode,n)):e=null}else a&&e.$set(s)},i(t){s||(e&&x(e.$$.fragment,t),s=!0)},o(t){e&&b(e.$$.fragment,t),s=!1},d(t){t&&c(n),e&&k(e,t)}}}function dr(t){let e,n,s=t[0],a=[];for(let r=0;r<s.length;r+=1)a[r]=hr(mr(t,s,r));const o=t=>b(a[t],1,1,(()=>{a[t]=null}));return{c(){for(let t=0;t<a.length;t+=1)a[t].c();e=r()},l(t){for(let e=0;e<a.length;e+=1)a[e].l(t);e=r()},m(t,r){for(let e=0;e<a.length;e+=1)a[e].m(t,r);l(t,e,r),n=!0},p(t,[n]){if(1&n){let r;for(s=t[0],r=0;r<s.length;r+=1){const l=mr(t,s,r);a[r]?(a[r].p(l,n),x(a[r],1)):(a[r]=hr(l),a[r].c(),x(a[r],1),a[r].m(e.parentNode,e))}for(w(),r=s.length;r<a.length;r+=1)o(r);S()}},i(t){if(!n){for(let t=0;t<s.length;t+=1)x(a[t]);n=!0}},o(t){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)b(a[e]);n=!1},d(t){j(a,t),t&&c(e)}}}function gr(t,e,n){let r;var{line:s=""}=e;return t.$$set=t=>{"line"in t&&n(1,s=t.line)},t.$$.update=()=>{2&t.$$.dirty&&n(0,r=function(t){var e=[];if("string"==typeof t){var n=X(/{@[^}]+\}/gm,t);if(t=t.replace("{@h}","{@h} "),0===n.length)e.push({component:$t,input:t});else for(var r=0;r<n.length;r++){var s=n[r],l=t.indexOf(s.match),a=t.substring(0,l),c=t.substring(l+s.match.length);t=c,e.push({component:$t,input:a}),e.push({component:pr(s.match),input:s.match}),r===n.length-1&&e.push({component:$t,input:c})}}else if("object"==typeof t){var{type:o}=t;"list"===o&&e.push({component:_e,input:t.items})}else e.push({component:$t,input:t});return e}(s))},[r,s]}class vr extends t{constructor(t){super(),e(this,t,gr,dr,n,{line:1})}}function yr(t,e,n){const r=t.slice();return r[2]=e[n],r}function Er(t,e,n){const r=t.slice();return r[5]=e[n],r}function xr(t,e,n){const r=t.slice();return r[8]=e[n],r}function br(t){let e,n,r=t[0].caption+"";return{c(){e=o("caption"),n=i(r)},l(t){e=u(t,"CAPTION",{});var s=$(e);n=f(s,r),s.forEach(c)},m(t,r){l(t,e,r),p(e,n)},p(t,e){1&e&&r!==(r=t[0].caption+"")&&m(n,r)},d(t){t&&c(e)}}}function kr(t){let e,n,r=t[1].labels,s=[];for(let l=0;l<r.length;l+=1)s[l]=wr(xr(t,r,l));const a=t=>b(s[t],1,1,(()=>{s[t]=null}));return{c(){e=o("tr");for(let t=0;t<s.length;t+=1)s[t].c()},l(t){e=u(t,"TR",{});var n=$(e);for(let e=0;e<s.length;e+=1)s[e].l(n);n.forEach(c)},m(t,r){l(t,e,r);for(let n=0;n<s.length;n+=1)s[n].m(e,null);n=!0},p(t,n){if(2&n){let l;for(r=t[1].labels,l=0;l<r.length;l+=1){const a=xr(t,r,l);s[l]?(s[l].p(a,n),x(s[l],1)):(s[l]=wr(a),s[l].c(),x(s[l],1),s[l].m(e,null))}for(w(),l=r.length;l<s.length;l+=1)a(l);S()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)x(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)b(s[e]);n=!1},d(t){t&&c(e),j(s,t)}}}function wr(t){let e,n,r,s,a;return n=new vr({props:{line:t[8].text}}),{c(){e=o("th"),v(n.$$.fragment),r=P(),this.h()},l(t){e=u(t,"TH",{class:!0});var s=$(e);y(n.$$.fragment,s),r=N(s),s.forEach(c),this.h()},h(){h(e,"class",s=z(t[8].style)+" svelte-1bk16n1")},m(t,s){l(t,e,s),E(n,e,null),p(e,r),a=!0},p(t,r){const l={};2&r&&(l.line=t[8].text),n.$set(l),(!a||2&r&&s!==(s=z(t[8].style)+" svelte-1bk16n1"))&&h(e,"class",s)},i(t){a||(x(n.$$.fragment,t),a=!0)},o(t){b(n.$$.fragment,t),a=!1},d(t){t&&c(e),k(n)}}}function Sr(t){let e,n,r,s;return n=new vr({props:{line:t[5].content}}),{c(){e=o("td"),v(n.$$.fragment),this.h()},l(t){e=u(t,"TD",{class:!0});var r=$(e);y(n.$$.fragment,r),r.forEach(c),this.h()},h(){h(e,"class",r="cell "+t[5].style+" "+t[5].additionalStyling+" svelte-1bk16n1")},m(t,r){l(t,e,r),E(n,e,null),s=!0},p(t,l){const a={};2&l&&(a.line=t[5].content),n.$set(a),(!s||2&l&&r!==(r="cell "+t[5].style+" "+t[5].additionalStyling+" svelte-1bk16n1"))&&h(e,"class",r)},i(t){s||(x(n.$$.fragment,t),s=!0)},o(t){b(n.$$.fragment,t),s=!1},d(t){t&&c(e),k(n)}}}function Pr(t){let e,n,r,s=t[2].columns,a=[];for(let l=0;l<s.length;l+=1)a[l]=Sr(Er(t,s,l));const i=t=>b(a[t],1,1,(()=>{a[t]=null}));return{c(){e=o("tr");for(let t=0;t<a.length;t+=1)a[t].c();n=P()},l(t){e=u(t,"TR",{});var r=$(e);for(let e=0;e<a.length;e+=1)a[e].l(r);n=N(r),r.forEach(c)},m(t,s){l(t,e,s);for(let n=0;n<a.length;n+=1)a[n].m(e,null);p(e,n),r=!0},p(t,r){if(2&r){let l;for(s=t[2].columns,l=0;l<s.length;l+=1){const c=Er(t,s,l);a[l]?(a[l].p(c,r),x(a[l],1)):(a[l]=Sr(c),a[l].c(),x(a[l],1),a[l].m(e,n))}for(w(),l=s.length;l<a.length;l+=1)i(l);S()}},i(t){if(!r){for(let t=0;t<s.length;t+=1)x(a[t]);r=!0}},o(t){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)b(a[e]);r=!1},d(t){t&&c(e),j(a,t)}}}function Nr(t){let e,n,r,s,a=t[0].caption&&br(t),i=void 0!==t[1].labels&&kr(t),f=t[1].rows,m=[];for(let l=0;l<f.length;l+=1)m[l]=Pr(yr(t,f,l));const d=t=>b(m[t],1,1,(()=>{m[t]=null}));return{c(){e=o("table"),a&&a.c(),n=P(),i&&i.c(),r=P();for(let t=0;t<m.length;t+=1)m[t].c();this.h()},l(t){e=u(t,"TABLE",{class:!0});var s=$(e);a&&a.l(s),n=N(s),i&&i.l(s),r=N(s);for(let e=0;e<m.length;e+=1)m[e].l(s);s.forEach(c),this.h()},h(){h(e,"class","svelte-1bk16n1")},m(t,c){l(t,e,c),a&&a.m(e,null),p(e,n),i&&i.m(e,null),p(e,r);for(let n=0;n<m.length;n+=1)m[n].m(e,null);s=!0},p(t,[s]){if(t[0].caption?a?a.p(t,s):(a=br(t),a.c(),a.m(e,n)):a&&(a.d(1),a=null),void 0!==t[1].labels?i?(i.p(t,s),2&s&&x(i,1)):(i=kr(t),i.c(),x(i,1),i.m(e,r)):i&&(w(),b(i,1,1,(()=>{i=null})),S()),2&s){let n;for(f=t[1].rows,n=0;n<f.length;n+=1){const r=yr(t,f,n);m[n]?(m[n].p(r,s),x(m[n],1)):(m[n]=Pr(r),m[n].c(),x(m[n],1),m[n].m(e,null))}for(w(),n=f.length;n<m.length;n+=1)d(n);S()}},i(t){if(!s){x(i);for(let t=0;t<f.length;t+=1)x(m[t]);s=!0}},o(t){b(i),m=m.filter(Boolean);for(let e=0;e<m.length;e+=1)b(m[e]);s=!1},d(t){t&&c(e),a&&a.d(),i&&i.d(),j(m,t)}}}function Ir(t,e,n){let r;var{input:s}=e;return console.log(s),t.$$set=t=>{"input"in t&&n(0,s=t.input)},t.$$.update=()=>{1&t.$$.dirty&&n(1,r=function(t){var e;return{labels:null==(e=t.colLabels)?void 0:e.map(((e,n)=>({text:e,style:t.colStyles[n]}))),rows:t.rows.map((e=>{let n=Array.isArray(e)?e:e.row;return n=n.map(((n,r)=>{let s=[];return e.style&&s.push(e.style),s=s.join(" "),{content:n,style:t.colStyles[r],additionalStyling:s}})),{columns:n}}))}}(s))},[s,r]}class qr extends t{constructor(t){super(),e(this,t,Ir,Nr,n,{input:0})}}function Cr(t){let e,n,r;return n=new Ns({props:{entries:t[0].entries}}),{c(){e=o("div"),v(n.$$.fragment),this.h()},l(t){e=u(t,"DIV",{class:!0});var r=$(e);y(n.$$.fragment,r),r.forEach(c),this.h()},h(){h(e,"class","inset svelte-10k44wf")},m(t,s){l(t,e,s),E(n,e,null),r=!0},p(t,[e]){const r={};1&e&&(r.entries=t[0].entries),n.$set(r)},i(t){r||(x(n.$$.fragment,t),r=!0)},o(t){b(n.$$.fragment,t),r=!1},d(t){t&&c(e),k(n)}}}function Tr(t,e,n){var{input:r}=e;return t.$$set=t=>{"input"in t&&n(0,r=t.input)},[r]}class Lr extends t{constructor(t){super(),e(this,t,Tr,Cr,n,{input:0})}}class Dr{constructor(t,e){this.change=e,this.source=t}}function Br(t,e){let n,r=t=>{t.preventDefault(),e(new Dr("wheel",t.deltaY))},s=()=>{n=void 0},l=t=>{let r=Array.from(t.touches);if(t.preventDefault(),2===r.length){let[t,s]=r,l=Math.abs(t.clientX-s.clientX),a=Math.abs(t.clientY-s.clientY),c=Math.sqrt(l**2+a**2);if(n){let t=c-n;Math.abs(t)>2&&(t*=10,e(new Dr("touch",-t)))}n=c}};return t.addEventListener("wheel",r),t.addEventListener("touchstart",s),t.addEventListener("touchmove",l),{destroy(){t.removeEventListener("wheel",r),t.removeEventListener("touchstart",s),t.removeEventListener("touchmove",l)}}}class Hr{constructor(t,e){this.x=t,this.y=e}}function Ar(t,e){let n=!1;const r=t=>{n=!0},s=t=>{n=!1},l=t=>{n&&(t.preventDefault(),e(new Hr(t.movementX,t.movementY)))};let a,c;const o=()=>{a=void 0,c=void 0},i=t=>{let n=Array.from(t.touches);if(t.preventDefault(),1===n.length){let[t]=n,r=t.clientX,s=t.clientY;if(a&&c){e(new Hr(r-a,s-c))}a=r,c=s}};return t.addEventListener("mousedown",r),t.addEventListener("mouseup",s),t.addEventListener("mousemove",l),t.addEventListener("touchstart",o),t.addEventListener("touchmove",i),{destroy(){t.removeEventListener("mousedown",r),t.removeEventListener("mouseup",s),t.removeEventListener("mousemove",l),t.removeEventListener("touchstart",o),t.removeEventListener("touchmove",i)}}}function jr(t){let e,n,r,s,a,i,f,m;return{c(){e=o("div"),n=o("img"),this.h()},l(t){e=u(t,"DIV",{class:!0});var r=$(e);n=u(r,"IMG",{src:!0,alt:!0,style:!0,class:!0}),r.forEach(c),this.h()},h(){n.src!==(r=t[5])&&h(n,"src",r),h(n,"alt",s=t[0].title),W(n,"transform","scale("+t[2]+") translate("+t[3]+"px, "+t[4]+"px)"),h(n,"class","svelte-kduvi0"),h(e,"class","scim svelte-kduvi0")},m(r,s){l(r,e,s),p(e,n),f||(m=[d(e,"click",I(t[9])),T(a=Br.call(null,e,t[6])),T(i=Ar.call(null,e,t[7]))],f=!0)},p(t,e){32&e&&n.src!==(r=t[5])&&h(n,"src",r),1&e&&s!==(s=t[0].title)&&h(n,"alt",s),28&e&&W(n,"transform","scale("+t[2]+") translate("+t[3]+"px, "+t[4]+"px)")},d(t){t&&c(e),f=!1,V(m)}}}function Vr(t){let e,n,s,i,$,f,p,m=t[1]&&jr(t);return{c(){e=o("img"),i=P(),m&&m.c(),$=r(),this.h()},l(t){e=u(t,"IMG",{class:!0,src:!0,alt:!0}),i=N(t),m&&m.l(t),$=r(),this.h()},h(){h(e,"class","inlineImage svelte-kduvi0"),e.src!==(n=t[5])&&h(e,"src",n),h(e,"alt",s=t[0].title)},m(n,r){l(n,e,r),l(n,i,r),m&&m.m(n,r),l(n,$,r),f||(p=d(e,"click",t[8]),f=!0)},p(t,[r]){32&r&&e.src!==(n=t[5])&&h(e,"src",n),1&r&&s!==(s=t[0].title)&&h(e,"alt",s),t[1]?m?m.p(t,r):(m=jr(t),m.c(),m.m($.parentNode,$)):m&&(m.d(1),m=null)},i:a,o:a,d(t){t&&c(e),t&&c(i),m&&m.d(t),t&&c($),f=!1,p()}}}function Mr(t,e,n){let r;var{input:s}=e,l=!1,a=1,c=0,o=0;return t.$$set=t=>{"input"in t&&n(0,s=t.input)},t.$$.update=()=>{1&t.$$.dirty&&n(5,r=`https://5e.tools/img/${s.href.path}?v=1.117.4`)},[s,l,a,c,o,r,function(t){let e=t.change/3e3;e*=1.1*a,n(2,a-=e),a<.2&&n(2,a=.2)},function(t){let e=1/a;n(3,c+=t.x*e),n(4,o+=t.y*e)},()=>n(1,l=!0),()=>n(1,l=!1)]}class Rr extends t{constructor(t){super(),e(this,t,Mr,Vr,n,{input:0})}}function Or(t){let e,n;return e=new Ns({props:{entries:t[0].entries,character:t[1]}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){E(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.entries=t[0].entries),2&n&&(r.character=t[1]),e.$set(r)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function _r(t,e,n){var{input:r}=e,{character:s=null}=e;return t.$$set=t=>{"input"in t&&n(0,r=t.input),"character"in t&&n(1,s=t.character)},[r,s]}class Fr extends t{constructor(t){super(),e(this,t,_r,Or,n,{input:0,character:1})}}function Wr(t){let e;return{c(){e=o("span"),this.h()},l(t){e=u(t,"SPAN",{class:!0}),$(e).forEach(c),this.h()},h(){h(e,"class","mdi mdi-pin")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function Ur(t){let e,n;return e=new G({props:{$$slots:{default:[Gr]},$$scope:{ctx:t}}}),e.$on("click",t[5]),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){E(e,t,r),n=!0},p(t,n){const r={};264&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function zr(t){let e;return{c(){e=i("Pinned")},l(t){e=f(t,"Pinned")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function Xr(t){let e;return{c(){e=i("Pin")},l(t){e=f(t,"Pin")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function Gr(t){let e;function n(t,e){return t[3]?zr:Xr}let s=n(t),a=s(t);return{c(){a.c(),e=r()},l(t){a.l(t),e=r()},m(t,n){a.m(t,n),l(t,e,n)},p(t,r){s!==(s=n(t))&&(a.d(1),a=s(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){a.d(t),t&&c(e)}}}function Yr(t){let e,n,r,s,a,h,d,g=t[2].name+"",I=t[0]&&t[3]&&Wr(),q=t[0]&&Ur(t);return h=new Ns({props:{entries:t[2].entries,character:t[4]}}),{c(){e=o("h4"),I&&I.c(),n=P(),r=i(g),s=P(),q&&q.c(),a=P(),v(h.$$.fragment)},l(t){e=u(t,"H4",{});var l=$(e);I&&I.l(l),n=N(l),r=f(l,g),l.forEach(c),s=N(t),q&&q.l(t),a=N(t),y(h.$$.fragment,t)},m(t,c){l(t,e,c),I&&I.m(e,null),p(e,n),p(e,r),l(t,s,c),q&&q.m(t,c),l(t,a,c),E(h,t,c),d=!0},p(t,[s]){t[0]&&t[3]?I||(I=Wr(),I.c(),I.m(e,n)):I&&(I.d(1),I=null),(!d||4&s)&&g!==(g=t[2].name+"")&&m(r,g),t[0]?q?(q.p(t,s),1&s&&x(q,1)):(q=Ur(t),q.c(),x(q,1),q.m(a.parentNode,a)):q&&(w(),b(q,1,1,(()=>{q=null})),S());const l={};4&s&&(l.entries=t[2].entries),h.$set(l)},i(t){d||(x(q),x(h.$$.fragment,t),d=!0)},o(t){b(q),b(h.$$.fragment,t),d=!1},d(t){t&&c(e),I&&I.d(),t&&c(s),q&&q.d(t),t&&c(a),k(h,t)}}}function Jr(t,e,n){let r,s,l,c,o,i=a;t.$$.on_destroy.push((()=>i()));var{input:u}=e,$=g("character");return t.$$set=t=>{"input"in t&&n(6,u=t.input)},t.$$.update=()=>{64&t.$$.dirty&&n(2,l=lt.getRefSubclassFeature(u.subclassFeature)),192&t.$$.dirty&&n(3,c=$.features.checkSubFeaturePinned(u.subclassFeature,o))},n(0,r=!!$),n(1,s=$.characterStore),i(),i=R(s,(t=>n(7,o=t))),[r,s,l,c,$,function(){$.features.toggleSubFeaturePinned(u.subclassFeature)},u,o]}class Kr extends t{constructor(t){super(),e(this,t,Jr,Yr,n,{input:6})}}function Qr(t){let e;return{c(){e=o("span"),this.h()},l(t){e=u(t,"SPAN",{class:!0}),$(e).forEach(c),this.h()},h(){h(e,"class","mdi mdi-check svelte-60pqyo")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function Zr(t){let e;return{c(){e=o("span"),this.h()},l(t){e=u(t,"SPAN",{class:!0}),$(e).forEach(c),this.h()},h(){h(e,"class","mdi mdi-pin svelte-60pqyo")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function ts(t){let e,n,r,s;return e=new G({props:{$$slots:{default:[rs]},$$scope:{ctx:t}}}),e.$on("click",t[6]),r=new G({props:{$$slots:{default:[as]},$$scope:{ctx:t}}}),r.$on("click",t[7]),{c(){v(e.$$.fragment),n=P(),v(r.$$.fragment)},l(t){y(e.$$.fragment,t),n=N(t),y(r.$$.fragment,t)},m(t,a){E(e,t,a),l(t,n,a),E(r,t,a),s=!0},p(t,n){const s={};1032&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s);const l={};1040&n&&(l.$$scope={dirty:n,ctx:t}),r.$set(l)},i(t){s||(x(e.$$.fragment,t),x(r.$$.fragment,t),s=!0)},o(t){b(e.$$.fragment,t),b(r.$$.fragment,t),s=!1},d(t){k(e,t),t&&c(n),k(r,t)}}}function es(t){let e;return{c(){e=i("Selected")},l(t){e=f(t,"Selected")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function ns(t){let e;return{c(){e=i("Select")},l(t){e=f(t,"Select")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function rs(t){let e;function n(t,e){return t[3]?es:ns}let s=n(t),a=s(t);return{c(){a.c(),e=r()},l(t){a.l(t),e=r()},m(t,n){a.m(t,n),l(t,e,n)},p(t,r){s!==(s=n(t))&&(a.d(1),a=s(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){a.d(t),t&&c(e)}}}function ss(t){let e;return{c(){e=i("Pinned")},l(t){e=f(t,"Pinned")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function ls(t){let e;return{c(){e=i("Pin")},l(t){e=f(t,"Pin")},m(t,n){l(t,e,n)},d(t){t&&c(e)}}}function as(t){let e;function n(t,e){return t[4]?ss:ls}let s=n(t),a=s(t);return{c(){a.c(),e=r()},l(t){a.l(t),e=r()},m(t,n){a.m(t,n),l(t,e,n)},p(t,r){s!==(s=n(t))&&(a.d(1),a=s(t),a&&(a.c(),a.m(e.parentNode,e)))},d(t){a.d(t),t&&c(e)}}}function cs(t){let e,n,r,s,a,d,g,I,q,C,T=t[2].name+"",L=t[0]&&t[3]&&Qr(),D=t[0]&&t[4]&&Zr(),B=t[0]&&ts(t);return q=new Ns({props:{entries:t[2].entries,character:t[5]}}),{c(){e=o("h4"),n=o("span"),L&&L.c(),r=P(),D&&D.c(),s=P(),a=i(T),g=P(),B&&B.c(),I=P(),v(q.$$.fragment),this.h()},l(t){e=u(t,"H4",{class:!0});var l=$(e);n=u(l,"SPAN",{class:!0});var o=$(n);L&&L.l(o),r=N(o),D&&D.l(o),s=N(o),a=f(o,T),o.forEach(c),l.forEach(c),g=N(t),B&&B.l(t),I=N(t),y(q.$$.fragment,t),this.h()},h(){h(n,"class","svelte-60pqyo"),h(e,"class",d=z(t[0]&&t[3]&&"selected")+" svelte-60pqyo")},m(t,c){l(t,e,c),p(e,n),L&&L.m(n,null),p(n,r),D&&D.m(n,null),p(n,s),p(n,a),l(t,g,c),B&&B.m(t,c),l(t,I,c),E(q,t,c),C=!0},p(t,[l]){t[0]&&t[3]?L||(L=Qr(),L.c(),L.m(n,r)):L&&(L.d(1),L=null),t[0]&&t[4]?D||(D=Zr(),D.c(),D.m(n,s)):D&&(D.d(1),D=null),(!C||4&l)&&T!==(T=t[2].name+"")&&m(a,T),(!C||9&l&&d!==(d=z(t[0]&&t[3]&&"selected")+" svelte-60pqyo"))&&h(e,"class",d),t[0]?B?(B.p(t,l),1&l&&x(B,1)):(B=ts(t),B.c(),x(B,1),B.m(I.parentNode,I)):B&&(w(),b(B,1,1,(()=>{B=null})),S());const c={};4&l&&(c.entries=t[2].entries),q.$set(c)},i(t){C||(x(B),x(q.$$.fragment,t),C=!0)},o(t){b(B),b(q.$$.fragment,t),C=!1},d(t){t&&c(e),L&&L.d(),D&&D.d(),t&&c(g),B&&B.d(t),t&&c(I),k(q,t)}}}function os(t,e,n){let r,s,l,c,o,i,u=a;t.$$.on_destroy.push((()=>u()));var{input:$}=e,f=g("character");return console.log(f),t.$$set=t=>{"input"in t&&n(8,$=t.input)},t.$$.update=()=>{1&t.$$.dirty&&(n(1,s=r?f.characterStore:U()),u(),u=R(s,(t=>n(9,i=t)))),256&t.$$.dirty&&n(2,l=lt.getRefOptionalFeature($.optionalfeature)),769&t.$$.dirty&&n(3,c=r&&f.features.checkOptionalFeatureSelected($.optionalfeature,i)),769&t.$$.dirty&&n(4,o=r&&f.features.checkSubFeaturePinned($.optionalfeature,i))},n(0,r=!!f),[r,s,l,c,o,f,function(){f.features.toggleOptionalFeature($.optionalfeature)},function(){f.features.toggleSubFeaturePinned($.optionalfeature)},$,i]}class is extends t{constructor(t){super(),e(this,t,os,cs,n,{input:8})}}function us(t){let e,n;return e=new vr({props:{line:t[0].entry}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){E(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.line=t[0].entry),e.$set(r)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function $s(t){let e,n;return e=new Ns({props:{entries:t[0].entries}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){E(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.entries=t[0].entries),e.$set(r)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function fs(t){let e,n,r,s,a,h,d,g=t[0].name+"";const v=[$s,us],y=[];function E(t,e){return void 0!==t[0].entries?0:void 0!==t[0].entry?1:-1}return~(a=E(t))&&(h=y[a]=v[a](t)),{c(){e=o("p"),n=o("i"),r=i(g),s=P(),h&&h.c()},l(t){e=u(t,"P",{});var l=$(e);n=u(l,"I",{});var a=$(n);r=f(a,g),a.forEach(c),s=N(l),h&&h.l(l),l.forEach(c)},m(t,c){l(t,e,c),p(e,n),p(n,r),p(e,s),~a&&y[a].m(e,null),d=!0},p(t,[n]){(!d||1&n)&&g!==(g=t[0].name+"")&&m(r,g);let s=a;a=E(t),a===s?~a&&y[a].p(t,n):(h&&(w(),b(y[s],1,1,(()=>{y[s]=null})),S()),~a?(h=y[a],h?h.p(t,n):(h=y[a]=v[a](t),h.c()),x(h,1),h.m(e,null)):h=null)},i(t){d||(x(h),d=!0)},o(t){b(h),d=!1},d(t){t&&c(e),~a&&y[a].d()}}}function ps(t,e,n){var{input:r}=e;return t.$$set=t=>{"input"in t&&n(0,r=t.input)},[r]}class ms extends t{constructor(t){super(),e(this,t,ps,fs,n,{input:0})}}function hs(t){let e,n,r,s,a,d=t[0].name+"";return s=new Ns({props:{entries:t[0].entries}}),{c(){e=o("h2"),n=i(d),r=P(),v(s.$$.fragment),this.h()},l(t){e=u(t,"H2",{id:!0,class:!0});var l=$(e);n=f(l,d),l.forEach(c),r=N(t),y(s.$$.fragment,t),this.h()},h(){h(e,"id",t[1]),h(e,"class","svelte-18x0e9t")},m(t,c){l(t,e,c),p(e,n),l(t,r,c),E(s,t,c),a=!0},p(t,[r]){(!a||1&r)&&d!==(d=t[0].name+"")&&m(n,d),(!a||2&r)&&h(e,"id",t[1]);const l={};1&r&&(l.entries=t[0].entries),s.$set(l)},i(t){a||(x(s.$$.fragment,t),a=!0)},o(t){b(s.$$.fragment,t),a=!1},d(t){t&&c(e),t&&c(r),k(s,t)}}}function ds(t,e,n){let r;var{input:s}=e;return t.$$set=t=>{"input"in t&&n(0,s=t.input)},t.$$.update=()=>{1&t.$$.dirty&&n(1,r=at(s.name," ","-").toLowerCase())},[s,r]}class gs extends t{constructor(t){super(),e(this,t,ds,hs,n,{input:0})}}function vs(t,e,n){const r=t.slice();return r[6]=e[n],r[8]=n,r}function ys(t){let e,n,s,a;const o=[bs,xs],i=[];function u(t,e){return"entries"===t[6].type?0:1}return e=u(t),n=i[e]=o[e](t),{c(){n.c(),s=r()},l(t){n.l(t),s=r()},m(t,n){i[e].m(t,n),l(t,s,n),a=!0},p(t,r){let l=e;e=u(t),e===l?i[e].p(t,r):(w(),b(i[l],1,1,(()=>{i[l]=null})),S(),n=i[e],n?n.p(t,r):(n=i[e]=o[e](t),n.c()),x(n,1),n.m(s.parentNode,s))},i(t){a||(x(n),a=!0)},o(t){b(n),a=!1},d(t){i[e].d(t),t&&c(s)}}}function Es(t){let e,n,a,i,f,m=0===t[8]&&function(t){let e,n;return{c(){n=r(),this.h()},l(t){n=r(),this.h()},h(){e=new s(n)},m(r,s){e.m(t[1],r,s),l(r,n,s)},p(t,n){2&n&&e.p(t[1])},d(t){t&&c(n),t&&e.d()}}}(t);return a=new vr({props:{line:t[6]}}),{c(){e=o("p"),m&&m.c(),n=P(),v(a.$$.fragment),i=P()},l(t){e=u(t,"P",{});var r=$(e);m&&m.l(r),n=N(r),y(a.$$.fragment,r),i=N(r),r.forEach(c)},m(t,r){l(t,e,r),m&&m.m(e,null),p(e,n),E(a,e,null),p(e,i),f=!0},p(t,e){0===t[8]&&m.p(t,e);const n={};1&e&&(n.line=t[6]),a.$set(n)},i(t){f||(x(a.$$.fragment,t),f=!0)},o(t){b(a.$$.fragment,t),f=!1},d(t){t&&c(e),m&&m.d(),k(a)}}}function xs(t){let e,n,s;var a=t[2](t[6].type);function o(t){return{props:{input:t[6]}}}return a&&(e=new a(o(t))),{c(){e&&v(e.$$.fragment),n=r()},l(t){e&&y(e.$$.fragment,t),n=r()},m(t,r){e&&E(e,t,r),l(t,n,r),s=!0},p(t,r){const s={};if(1&r&&(s.input=t[6]),a!==(a=t[2](t[6].type))){if(e){w();const t=e;b(t.$$.fragment,1,0,(()=>{k(t,1)})),S()}a?(e=new a(o(t)),v(e.$$.fragment),x(e.$$.fragment,1),E(e,n.parentNode,n)):e=null}else a&&e.$set(s)},i(t){s||(e&&x(e.$$.fragment,t),s=!0)},o(t){e&&b(e.$$.fragment,t),s=!1},d(t){t&&c(n),e&&k(e,t)}}}function bs(t){let e,n,r,s=void 0!==t[6].name&&ks(t);return n=new Ns({props:{entries:t[6].entries}}),{c(){s&&s.c(),e=P(),v(n.$$.fragment)},l(t){s&&s.l(t),e=N(t),y(n.$$.fragment,t)},m(t,a){s&&s.m(t,a),l(t,e,a),E(n,t,a),r=!0},p(t,r){void 0!==t[6].name?s?s.p(t,r):(s=ks(t),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null);const l={};1&r&&(l.entries=t[6].entries),n.$set(l)},i(t){r||(x(n.$$.fragment,t),r=!0)},o(t){b(n.$$.fragment,t),r=!1},d(t){s&&s.d(t),t&&c(e),k(n,t)}}}function ks(t){let e,n,r,s=t[6].name+"";return{c(){e=o("h3"),n=i(s),this.h()},l(t){e=u(t,"H3",{id:!0});var r=$(e);n=f(r,s),r.forEach(c),this.h()},h(){h(e,"id",r=t[6].id)},m(t,r){l(t,e,r),p(e,n)},p(t,l){1&l&&s!==(s=t[6].name+"")&&m(n,s),1&l&&r!==(r=t[6].id)&&h(e,"id",r)},d(t){t&&c(e)}}}function ws(t){let e,n,s,a,o;const i=[Es,ys],u=[];function $(t,n){return"string"==typeof t[6]?0:(1&n&&(e=!!t[3](t[6].type)),e?1:-1)}return~(n=$(t,-1))&&(s=u[n]=i[n](t)),{c(){s&&s.c(),a=r()},l(t){s&&s.l(t),a=r()},m(t,e){~n&&u[n].m(t,e),l(t,a,e),o=!0},p(t,e){let r=n;n=$(t,e),n===r?~n&&u[n].p(t,e):(s&&(w(),b(u[r],1,1,(()=>{u[r]=null})),S()),~n?(s=u[n],s?s.p(t,e):(s=u[n]=i[n](t),s.c()),x(s,1),s.m(a.parentNode,a)):s=null)},i(t){o||(x(s),o=!0)},o(t){b(s),o=!1},d(t){~n&&u[n].d(t),t&&c(a)}}}function Ss(t){let e,n,s=t[0],a=[];for(let r=0;r<s.length;r+=1)a[r]=ws(vs(t,s,r));const o=t=>b(a[t],1,1,(()=>{a[t]=null}));return{c(){for(let t=0;t<a.length;t+=1)a[t].c();e=r()},l(t){for(let e=0;e<a.length;e+=1)a[e].l(t);e=r()},m(t,r){for(let e=0;e<a.length;e+=1)a[e].m(t,r);l(t,e,r),n=!0},p(t,[n]){if(15&n){let r;for(s=t[0],r=0;r<s.length;r+=1){const l=vs(t,s,r);a[r]?(a[r].p(l,n),x(a[r],1)):(a[r]=ws(l),a[r].c(),x(a[r],1),a[r].m(e.parentNode,e))}for(w(),r=s.length;r<a.length;r+=1)o(r);S()}},i(t){if(!n){for(let t=0;t<s.length;t+=1)x(a[t]);n=!0}},o(t){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)b(a[e]);n=!1},d(t){j(a,t),t&&c(e)}}}function Ps(t,e,n){var{entries:r}=e,{preHTML:s=""}=e,{character:l=null}=e;const a={list:_e,table:qr,entries:Ns,insetReadaloud:Lr,image:Rr,options:Fr,refSubclassFeature:Kr,refOptionalfeature:is,item:ms,section:gs};return t.$$set=t=>{"entries"in t&&n(0,r=t.entries),"preHTML"in t&&n(1,s=t.preHTML),"character"in t&&n(4,l=t.character)},[r,s,function(t){return a[t]},function(t){return t in a},l]}class Ns extends t{constructor(t){super(),e(this,t,Ps,Ss,n,{entries:0,preHTML:1,character:4})}}function Is(t){let e,n;return e=new Y({props:{items:t[0],headers:t[1]}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){E(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.items=t[0]),e.$set(r)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function qs(t,e,n){let r;var{data:s}=e;const l=[{type:J.TEXT,text:t=>t.level}];return t.$$set=t=>{"data"in t&&n(2,s=t.data)},n(0,r=Array(20).map(((t,e)=>({level:e+1})))),[r,l,s]}class Cs extends t{constructor(t){super(),e(this,t,qs,Is,n,{data:2})}}function Ts(t){let e,n;return e=new Cs({props:{data:t[0]}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){E(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.data=t[0]),e.$set(r)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function Ls(t,e,n){var{data:r}=e;return console.log(r),t.$$set=t=>{"data"in t&&n(0,r=t.data)},[r]}class Ds extends t{constructor(t){super(),e(this,t,Ls,Ts,n,{data:0})}}function Bs(t){let e,n,r,s;return e=new dn({props:{text:t[1].name,subtitle:t[1].getSourceString(),background:"./img/header/limbo.jpg"}}),r=new Ds({props:{data:t[1]}}),{c(){v(e.$$.fragment),n=P(),v(r.$$.fragment)},l(t){y(e.$$.fragment,t),n=N(t),y(r.$$.fragment,t)},m(t,a){E(e,t,a),l(t,n,a),E(r,t,a),s=!0},p(t,n){const s={};2&n&&(s.text=t[1].name),2&n&&(s.subtitle=t[1].getSourceString()),e.$set(s);const l={};2&n&&(l.data=t[1]),r.$set(l)},i(t){s||(x(e.$$.fragment,t),x(r.$$.fragment,t),s=!0)},o(t){b(e.$$.fragment,t),b(r.$$.fragment,t),s=!1},d(t){k(e,t),t&&c(n),k(r,t)}}}function Hs(t){let e,n,r;function s(e){t[2](e)}let l={$$slots:{default:[Bs]},$$scope:{ctx:t}};return void 0!==t[0]&&(l.open=t[0]),e=new pn({props:l}),O.push((()=>_(e,"open",s))),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,n){E(e,t,n),r=!0},p(t,[r]){const s={};10&r&&(s.$$scope={dirty:r,ctx:t}),!n&&1&r&&(n=!0,s.open=t[0],F((()=>n=!1))),e.$set(s)},i(t){r||(x(e.$$.fragment,t),r=!0)},o(t){b(e.$$.fragment,t),r=!1},d(t){k(e,t)}}}function As(t,e,n){var{open:r=!1}=e,{entry:s}=e;return t.$$set=t=>{"open"in t&&n(0,r=t.open),"entry"in t&&n(1,s=t.entry)},[r,s,function(t){n(0,r=t)}]}class js extends t{constructor(t){super(),e(this,t,As,Hs,n,{open:0,entry:1})}}function Vs(t){let e,n,r;e=new dn({props:{text:t[1].name,subtitle:t[1].getSourceString(),background:"./img/header/planet.jpg"}});const s=t[2].default,a=C(s,t,t[4],null),o=a||function(t){let e,n;return e=new Ie({props:{data:t[1]}}),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){E(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.data=t[1]),e.$set(r)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}(t);return{c(){v(e.$$.fragment),n=P(),o&&o.c()},l(t){y(e.$$.fragment,t),n=N(t),o&&o.l(t)},m(t,s){E(e,t,s),l(t,n,s),o&&o.m(t,s),r=!0},p(t,n){const l={};2&n&&(l.text=t[1].name),2&n&&(l.subtitle=t[1].getSourceString()),e.$set(l),a?a.p&&(!r||16&n)&&L(a,s,t,t[4],n,null,null):o&&o.p&&2&n&&o.p(t,n)},i(t){r||(x(e.$$.fragment,t),x(o,t),r=!0)},o(t){b(e.$$.fragment,t),b(o,t),r=!1},d(t){k(e,t),t&&c(n),o&&o.d(t)}}}function Ms(t){let e,n,r;function s(e){t[3](e)}let l={$$slots:{default:[Vs]},$$scope:{ctx:t}};return void 0!==t[0]&&(l.open=t[0]),e=new pn({props:l}),O.push((()=>_(e,"open",s))),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,n){E(e,t,n),r=!0},p(t,[r]){const s={};18&r&&(s.$$scope={dirty:r,ctx:t}),!n&&1&r&&(n=!0,s.open=t[0],F((()=>n=!1))),e.$set(s)},i(t){r||(x(e.$$.fragment,t),r=!0)},o(t){b(e.$$.fragment,t),r=!1},d(t){k(e,t)}}}function Rs(t,e,n){let{$$slots:r={},$$scope:s}=e;var{open:l=!1}=e,{entry:a}=e;return t.$$set=t=>{"open"in t&&n(0,l=t.open),"entry"in t&&n(1,a=t.entry),"$$scope"in t&&n(4,s=t.$$scope)},[l,a,r,function(t){n(0,l=t)},s]}class Os extends t{constructor(t){super(),e(this,t,Rs,Ms,n,{open:0,entry:1})}}function _s(t){let e,n,r,s;return e=new dn({props:{text:t[1].name,subtitle:t[1].getSourceString(),background:"./img/header/moon.jpg"}}),r=new nn({props:{data:t[1]}}),{c(){v(e.$$.fragment),n=P(),v(r.$$.fragment)},l(t){y(e.$$.fragment,t),n=N(t),y(r.$$.fragment,t)},m(t,a){E(e,t,a),l(t,n,a),E(r,t,a),s=!0},p(t,n){const s={};2&n&&(s.text=t[1].name),2&n&&(s.subtitle=t[1].getSourceString()),e.$set(s);const l={};2&n&&(l.data=t[1]),r.$set(l)},i(t){s||(x(e.$$.fragment,t),x(r.$$.fragment,t),s=!0)},o(t){b(e.$$.fragment,t),b(r.$$.fragment,t),s=!1},d(t){k(e,t),t&&c(n),k(r,t)}}}function Fs(t){let e,n,r;function s(e){t[2](e)}let l={$$slots:{default:[_s]},$$scope:{ctx:t}};return void 0!==t[0]&&(l.open=t[0]),e=new pn({props:l}),O.push((()=>_(e,"open",s))),{c(){v(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,n){E(e,t,n),r=!0},p(t,[r]){const s={};10&r&&(s.$$scope={dirty:r,ctx:t}),!n&&1&r&&(n=!0,s.open=t[0],F((()=>n=!1))),e.$set(s)},i(t){r||(x(e.$$.fragment,t),r=!0)},o(t){b(e.$$.fragment,t),r=!1},d(t){k(e,t)}}}function Ws(t,e,n){var{open:r=!1}=e,{entry:s}=e;return t.$$set=t=>{"open"in t&&n(0,r=t.open),"entry"in t&&n(1,s=t.entry)},[r,s,function(t){n(0,r=t)}]}class Us extends t{constructor(t){super(),e(this,t,Ws,Fs,n,{open:0,entry:1})}}export{Ds as C,Ns as E,Ie as I,Zn as M,pn as P,nn as S,vr as a,rr as b,dn as c,St as d,js as e,Os as f,ot as g,Us as h,Xt as m,ct as s};
