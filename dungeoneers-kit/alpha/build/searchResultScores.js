var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r;import{S as i,i as p,s as c,L as $,M as u,N as l,H as f,I as m,O as g,J as d,j as y,C as b,G as v,f as w,Y as h,a1 as S,a2 as j,a4 as O,a as x,g as P,a5 as L}from"./vendor.js";import{E as C,P as N,c as D,e as E,f as I,b as k,h as G}from"./SpellPopup.js";function H(e){let t,n;return t=new C({props:{entries:e[0].entries}}),{c(){$(t.$$.fragment)},l(e){u(t.$$.fragment,e)},m(e,r){l(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.entries=e[0].entries),t.$set(r)},i(e){n||(f(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){g(t,e)}}}function J(e){let t,n,r=void 0!==e[0].entries&&H(e);return{c(){r&&r.c(),t=d()},l(e){r&&r.l(e),t=d()},m(e,a){r&&r.m(e,a),y(e,t,a),n=!0},p(e,[n]){void 0!==e[0].entries?r?(r.p(e,n),1&n&&f(r,1)):(r=H(e),r.c(),f(r,1),r.m(t.parentNode,t)):r&&(b(),m(r,1,1,(()=>{r=null})),v())},i(e){n||(f(r),n=!0)},o(e){m(r),n=!1},d(e){r&&r.d(e),e&&w(t)}}}function M(e,t,n){var{data:r}=t;return console.log(r),e.$$set=e=>{"data"in e&&n(0,r=e.data)},[r]}class T extends i{constructor(e){super(),p(this,e,M,J,c,{data:0})}}function Y(e){let t,n,r;t=new D({props:{text:e[1].name,subtitle:e[1].getSourceString(),background:"./img/header/tree.jpg"}});const a=e[2].default,s=O(a,e,e[4],null),o=s||function(e){let t,n;return t=new T({props:{data:e[1]}}),{c(){$(t.$$.fragment)},l(e){u(t.$$.fragment,e)},m(e,r){l(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.data=e[1]),t.$set(r)},i(e){n||(f(t.$$.fragment,e),n=!0)},o(e){m(t.$$.fragment,e),n=!1},d(e){g(t,e)}}}(e);return{c(){$(t.$$.fragment),n=x(),o&&o.c()},l(e){u(t.$$.fragment,e),n=P(e),o&&o.l(e)},m(e,a){l(t,e,a),y(e,n,a),o&&o.m(e,a),r=!0},p(e,n){const i={};2&n&&(i.text=e[1].name),2&n&&(i.subtitle=e[1].getSourceString()),t.$set(i),s?s.p&&(!r||16&n)&&L(s,a,e,e[4],n,null,null):o&&o.p&&2&n&&o.p(e,n)},i(e){r||(f(t.$$.fragment,e),f(o,e),r=!0)},o(e){m(t.$$.fragment,e),m(o,e),r=!1},d(e){g(t,e),e&&w(n),o&&o.d(e)}}}function q(e){let t,n,r;function a(t){e[3](t)}let s={$$slots:{default:[Y]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.open=e[0]),t=new N({props:s}),h.push((()=>S(t,"open",a))),{c(){$(t.$$.fragment)},l(e){u(t.$$.fragment,e)},m(e,n){l(t,e,n),r=!0},p(e,[r]){const a={};18&r&&(a.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,a.open=e[0],j((()=>n=!1))),t.$set(a)},i(e){r||(f(t.$$.fragment,e),r=!0)},o(e){m(t.$$.fragment,e),r=!1},d(e){g(t,e)}}}function z(e,t,n){let{$$slots:r={},$$scope:a}=t;var{open:s=!1}=t,{entry:o}=t;return e.$$set=e=>{"open"in e&&n(0,s=e.open),"entry"in e&&n(1,o=e.entry),"$$scope"in e&&n(4,a=e.$$scope)},[s,o,r,function(e){n(0,s=e)},a]}class A extends i{constructor(e){super(),p(this,e,z,q,c,{open:0,entry:1})}}function B(e){let t,n,r,a;function s(t){e[4](t)}var o=e[3];function i(e){let t={subtitle:e[2].getSourceString(),entry:e[2],campaign:e[1]};return void 0!==e[0]&&(t.open=e[0]),{props:t}}return o&&(t=new o(i(e)),h.push((()=>S(t,"open",s)))),{c(){t&&$(t.$$.fragment),r=d()},l(e){t&&u(t.$$.fragment,e),r=d()},m(e,n){t&&l(t,e,n),y(e,r,n),a=!0},p(e,[a]){const p={};if(4&a&&(p.subtitle=e[2].getSourceString()),4&a&&(p.entry=e[2]),2&a&&(p.campaign=e[1]),!n&&1&a&&(n=!0,p.open=e[0],j((()=>n=!1))),o!==(o=e[3])){if(t){b();const e=t;m(e.$$.fragment,1,0,(()=>{g(e,1)})),v()}o?(t=new o(i(e)),h.push((()=>S(t,"open",s))),$(t.$$.fragment),f(t.$$.fragment,1),l(t,r.parentNode,r)):t=null}else o&&t.$set(p)},i(e){a||(t&&f(t.$$.fragment,e),a=!0)},o(e){t&&m(t.$$.fragment,e),a=!1},d(e){e&&w(r),t&&g(t,e)}}}function F(e,t,n){let r;var{open:a=!1}=t,{campaign:s=null}=t,{entry:o}=t;const i={class:E,item:I,monster:k,spell:G,language:A};return e.$$set=e=>{"open"in e&&n(0,a=e.open),"campaign"in e&&n(1,s=e.campaign),"entry"in e&&n(2,o=e.entry)},e.$$.update=()=>{4&e.$$.dirty&&n(3,r=i[o.dataType])},[a,s,o,r,function(e){n(0,a=e)}]}class K extends i{constructor(e){super(),p(this,e,F,B,c,{open:0,campaign:1,entry:2})}}function Q(e,i){return e=e.map((e=>{var p,c=function(e,t){var n=0,{name:r}=e;if(void 0===r)return 0;if((r=r.toLowerCase())===(t=t.toLowerCase())?n+=100:r.includes(t)&&(n+=50),n>0){var a=10;n+=(a-=r.length-t.length)>0?a:0}return n}(e,i);return p=((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&o(e,n,t[n]);if(r)for(var n of r(t))s.call(t,n)&&o(e,n,t[n]);return e})({},e),t(p,n({score:c}))}))}export{K as D,T as L,Q as s};
