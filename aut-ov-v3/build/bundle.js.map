{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../node_modules/svelte/store/index.mjs","../../src/js/storeUtils.js","../../src/js/dataUtils.js","../../src/components/HeaderButton.svelte","../../node_modules/svelte-spa-router/Router.svelte","../../node_modules/regexparam/dist/regexparam.mjs","../../src/components/MenuButton.svelte","../../src/components/Header.svelte","../../node_modules/decode-google-map-polyline/index.js","../../src/components/RouteStep/Walking.svelte","../../src/js/timeUtils.js","../../src/js/locationUtils.js","../../src/js/trainUtils.js","../../src/js/observable.js","../../src/components/HeadSign.svelte","../../node_modules/svelte/easing/index.mjs","../../node_modules/svelte/transition/index.mjs","../../src/js/defaultTransitions.js","../../src/components/DropDown.svelte","../../src/components/RouteStep/Train.svelte","../../src/js/busUtils.js","../../src/components/RouteStep/Stop.svelte","../../src/components/RouteStep/BusStop.svelte","../../src/components/RouteStep/Bus.svelte","../../src/components/RouteStep/PlatformChange.svelte","../../src/js/stepUtils.js","../../node_modules/quick-hash/lib/index.js","../../src/js/routeUtils.js","../../src/components/Step.svelte","../../src/components/ButtonContainer.svelte","../../src/components/Button.svelte","../../src/components/RouteGuide.svelte","../../src/js/addressUtils.js","../../src/js/tripUtils.js","../../src/components/TripOverviewBar.svelte","../../src/components/SoftButton.svelte","../../src/components/StepSmall.svelte","../../src/components/Trip.svelte","../../src/components/AddressRouteHeader.svelte","../../src/components/AddressRouteOption.svelte","../../src/components/LabelDivider.svelte","../../src/components/SmallDropDown.svelte","../../src/components/TripComposer.svelte","../../src/components/TripList.svelte","../../src/views/DashboardView.svelte","../../node_modules/svelte-outside-click/index.js","../../src/components/AddressSearchBar.svelte","../../src/components/AddressEditor.svelte","../../src/components/Address.svelte","../../src/views/AddressView.svelte","../../src/routes.js","../../src/App.svelte","../../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value' || descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group) {\n    const value = [];\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.push(group[i].__value);\n    }\n    return value;\n}\nfunction to_number(value) {\n    return value === '' ? undefined : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            let j = 0;\n            while (j < node.attributes.length) {\n                const attribute = node.attributes[j];\n                if (attributes[attribute.name]) {\n                    j++;\n                }\n                else {\n                    node.removeAttribute(attribute.name);\n                }\n            }\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.data !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    if (value != null || input.value) {\n        input.value = value;\n    }\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\nfunction add_resize_listener(element, fn) {\n    if (getComputedStyle(element).position === 'static') {\n        element.style.position = 'relative';\n    }\n    const object = document.createElement('object');\n    object.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\n    object.setAttribute('aria-hidden', 'true');\n    object.type = 'text/html';\n    object.tabIndex = -1;\n    let win;\n    object.onload = () => {\n        win = object.contentDocument.defaultView;\n        win.addEventListener('resize', fn);\n    };\n    if (/Trident/.test(navigator.userAgent)) {\n        element.appendChild(object);\n        object.data = 'about:blank';\n    }\n    else {\n        object.data = 'about:blank';\n        element.appendChild(object);\n    }\n    return {\n        cancel: () => {\n            win && win.removeEventListener && win.removeEventListener('resize', fn);\n            element.removeChild(object);\n        }\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(html, anchor = null) {\n        this.e = element('div');\n        this.a = anchor;\n        this.u(html);\n    }\n    m(target, anchor = null) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(target, this.n[i], anchor);\n        }\n        this.t = target;\n    }\n    u(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    p(html) {\n        this.d();\n        this.u(html);\n        this.m(this.t, this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\n\nlet stylesheet;\nlet active = 0;\nlet current_rules = {};\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    if (!current_rules[name]) {\n        if (!stylesheet) {\n            const style = element('style');\n            document.head.appendChild(style);\n            stylesheet = style.sheet;\n        }\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ``}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    node.style.animation = (node.style.animation || '')\n        .split(', ')\n        .filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    )\n        .join(', ');\n    if (name && !--active)\n        clear_rules();\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        let i = stylesheet.cssRules.length;\n        while (i--)\n            stylesheet.deleteRule(i);\n        current_rules = {};\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error(`Function called outside component initialization`);\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            info.blocks[i] = null;\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\n\nconst globals = (typeof window !== 'undefined' ? window : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error(`Cannot have duplicate keys in a keyed each`);\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += \" \" + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += \" \" + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${String(value).replace(/\"/g, '&#34;').replace(/'/g, '&#39;')}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : ``;\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const prop_values = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, prop_values, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if ($$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(children(options.target));\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set() {\n            // overridden by instance, if it has props\n        }\n    };\n}\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set() {\n        // overridden by instance, if it has props\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.19.2' }, detail)));\n}\nfunction append_dev(target, node) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev(\"SvelteDOMRemove\", { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? [\"capture\"] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev(\"SvelteDOMAddEventListener\", { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev(\"SvelteDOMRemoveEventListener\", { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev(\"SvelteDOMRemoveAttribute\", { node, attribute });\n    else\n        dispatch_dev(\"SvelteDOMSetAttribute\", { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev(\"SvelteDOMSetProperty\", { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev(\"SvelteDOMSetDataset\", { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.data === data)\n        return;\n    dispatch_dev(\"SvelteDOMSetData\", { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(`'target' is a required option`);\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn(`Component was already destroyed`); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error(`Infinite loop detected`);\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal';\nexport { get_store_value as get } from '../internal';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe,\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = [];\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (let i = 0; i < subscribers.length; i += 1) {\n                    const s = subscribers[i];\n                    s[1]();\n                    subscriber_queue.push(s, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.push(subscriber);\n        if (subscribers.length === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            const index = subscribers.indexOf(subscriber);\n            if (index !== -1) {\n                subscribers.splice(index, 1);\n            }\n            if (subscribers.length === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","import { writable as storeWritable } from \"svelte/store\";\r\n\r\nexport function prepareStore(store) {\r\n    store.get = () => {\r\n        var resultValue = {};\r\n        var unsubscribe = store.subscribe(data => {\r\n            resultValue = data;\r\n        });\r\n\r\n        unsubscribe();\r\n        return resultValue;\r\n    }\r\n\r\n    store.getList = () => Object.values(store.get());\r\n    store.set = value => store.update(_ => value);\r\n    store.arrayPush = item => {\r\n        var items = store.get();\r\n        items.push(item);\r\n\r\n        store.set(items);\r\n    }\r\n\r\n    store.arrayRemove = item => {\r\n        var items = store.get();\r\n        var index = items.indexOf(item);\r\n\r\n        items.splice(index, 1);\r\n        store.set(items);\r\n    }\r\n}\r\n\r\nexport function linkStore(store, storeLocation) {\r\n    store.subscribe(data => {\r\n        if (data !== undefined) {\r\n            if (typeof data === \"object\") {\r\n                data = JSON.stringify(data);\r\n            }\r\n\r\n            localStorage.setItem(storeLocation, data);\r\n        }\r\n    });\r\n}\r\n\r\nexport function prepareStoreLinked(store, storeLocation, defaultData = null) {\r\n    prepareStore(store);\r\n\r\n    var storeData = store.get();\r\n    if (storeData) {\r\n        defaultData = storeData;\r\n    }\r\n\r\n    var localData = localStorage.getItem(storeLocation);\r\n\r\n    if (localData) {\r\n        if (typeof defaultData === \"object\") {\r\n            store.set(JSON.parse(localData));\r\n        } else {\r\n            store.set(localData);\r\n        }\r\n    } else {\r\n        store.set(defaultData);\r\n    }\r\n\r\n    linkStore(store, storeLocation);\r\n\r\n    return store;\r\n}\r\n\r\nexport function writable(data) {\r\n    var store = storeWritable(data);\r\n    prepareStore(store);\r\n\r\n    return store;\r\n}\r\n\r\nexport function writableLinked(location, data) {\r\n    var store = storeWritable(data);\r\n    prepareStoreLinked(store, location);\r\n\r\n    return store;\r\n}","import { writable } from \"@/js/storeUtils.js\";\r\n\r\nconst baseURL = \"https://aut-ns-backend.rster2002.vercel.app\";\r\n// const baseURL = \"http://localhost:5000\";\r\nconst ignoreCache = false;\r\n\r\nexport const stationCodes = writable({});\r\nexport const stationCodesSearchable = writable({});\r\nexport const stationLocations = writable({});\r\nexport const stationsFullDetails = writable({});\r\n\r\nexport async function preloadAssets() {\r\n    return Promise.all([\r\n        preloadUrl(stationCodes, \"./json/stationCodes.json\"),\r\n        preloadUrl(stationCodesSearchable, \"./json/stationCodesSearchable.json\"),\r\n        preloadUrl(stationLocations, \"./json/stationLocations.json\"),\r\n        preloadUrl(stationsFullDetails, \"./json/stationsFullDetails.json\"),\r\n    ]);\r\n}\r\n\r\nfunction preloadUrl(store, url) {\r\n    return new Promise((res, rej) => {\r\n        fetch(url).then(r => r.json())\r\n            .then(data => {\r\n                store.set(data);\r\n                res(data);\r\n            })\r\n            .catch(err => rej(err));\r\n    });\r\n}\r\n\r\nexport function cleanupCache() {\r\n    var now = Date.now();\r\n    var keys = Object.keys(localStorage);\r\n\r\n    for (var key of keys) {\r\n        try {\r\n            var data = JSON.parse(localStorage.getItem(key));\r\n\r\n            if (data.maxAge !== undefined && data.timestamp !== undefined) {\r\n                if (now - data.timestamp > data.maxAge) {\r\n                    localStorage.removeItem(key);\r\n                }\r\n            }\r\n        } catch(e) {}\r\n    }\r\n}\r\n\r\nexport async function serverRequest(endpoint, maxAge = 60000) {\r\n    var now = Date.now();\r\n    cleanupCache();\r\n\r\n    var local = localStorage.getItem(endpoint);\r\n\r\n    if (local !== null && !ignoreCache) {\r\n        let localData = JSON.parse(local);\r\n\r\n        if (now - localData.timestamp < maxAge) {\r\n            return localData;\r\n        }\r\n    }\r\n\r\n    var data = await fetch(baseURL + endpoint)\r\n        .then(r => r.json());\r\n\r\n    localStorage.setItem(endpoint, JSON.stringify({\r\n        ...data,\r\n        timestamp: now,\r\n        maxAge,\r\n    }));\r\n\r\n    return data;\r\n}","<button class=\"headerButton\" on:click={onClick}>\r\n    <span class=\"mdi mdi-{icon}\"></span>\r\n</button>\r\n\r\n<script>\r\nimport { createEventDispatcher } from \"svelte\";\r\nconst dispatch = createEventDispatcher();\r\n\r\n// Props\r\nexport var icon;\r\n\r\n// Functions\r\nfunction onClick() {\r\n    dispatch(\"click\");\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n$size: 48px;\r\n\r\n.headerButton {\r\n    height: $size;\r\n    width: $size;\r\n\r\n    background-color: transparent;\r\n    border: 0;\r\n\r\n    font-size: 24px;\r\n}\r\n\r\n</style>","<script context=\"module\">\n// Something's wrong with eslint on this file\n/* eslint-disable no-multiple-empty-lines */\n\nimport {readable, derived} from 'svelte/store'\n\n/**\n * Wraps a route to add route pre-conditions.\n * \n * @param {SvelteComponent} route - Svelte component for the route\n * @param {Object} [userData] - Optional object that will be passed to each `conditionsFailed` event\n * @param {...Function} conditions - Route pre-conditions to add, which will be executed in order\n * @returns {Object} Wrapped route\n */\nexport function wrap(route, userData, ...conditions) {\n    // Check if we don't have userData\n    if (userData && typeof userData == 'function') {\n        conditions = (conditions && conditions.length) ? conditions : []\n        conditions.unshift(userData)\n        userData = undefined\n    }\n\n    // Parameter route and each item of conditions must be functions\n    if (!route || typeof route != 'function') {\n        throw Error('Invalid parameter route')\n    }\n    if (conditions && conditions.length) {\n        for (let i = 0; i < conditions.length; i++) {\n            if (!conditions[i] || typeof conditions[i] != 'function') {\n                throw Error('Invalid parameter conditions[' + i + ']')\n            }\n        }\n    }\n\n    // Returns an object that contains all the functions to execute too\n    const obj = {route, userData}\n    if (conditions && conditions.length) {\n        obj.conditions = conditions\n    }\n\n    // The _sveltesparouter flag is to confirm the object was created by this router\n    Object.defineProperty(obj, '_sveltesparouter', {\n        value: true\n    })\n\n    return obj\n}\n\n/**\n * @typedef {Object} Location\n * @property {string} location - Location (page/view), for example `/book`\n * @property {string} [querystring] - Querystring from the hash, as a string not parsed\n */\n/**\n * Returns the current location from the hash.\n *\n * @returns {Location} Location object\n * @private\n */\nfunction getLocation() {\n    const hashPosition = window.location.href.indexOf('#/')\n    let location = (hashPosition > -1) ? window.location.href.substr(hashPosition + 1) : '/'\n\n    // Check if there's a querystring\n    const qsPosition = location.indexOf('?')\n    let querystring = ''\n    if (qsPosition > -1) {\n        querystring = location.substr(qsPosition + 1)\n        location = location.substr(0, qsPosition)\n    }\n\n    return {location, querystring}\n}\n\n/**\n * Readable store that returns the current full location (incl. querystring)\n */\nexport const loc = readable(\n    getLocation(),\n    // eslint-disable-next-line prefer-arrow-callback\n    function start(set) {\n        const update = () => {\n            set(getLocation())\n        }\n        window.addEventListener('hashchange', update, false)\n\n        return function stop() {\n            window.removeEventListener('hashchange', update, false)\n        }\n    }\n)\n\n/**\n * Readable store that returns the current location\n */\nexport const location = derived(\n    loc,\n    ($loc) => $loc.location\n)\n\n/**\n * Readable store that returns the current querystring\n */\nexport const querystring = derived(\n    loc,\n    ($loc) => $loc.querystring\n)\n\n/**\n * Navigates to a new page programmatically.\n *\n * @param {string} location - Path to navigate to (must start with `/` or '#/')\n */\nexport function push(location) {\n    if (!location || location.length < 1 || (location.charAt(0) != '/' && location.indexOf('#/') !== 0)) {\n        throw Error('Invalid parameter location')\n    }\n\n    // Execute this code when the current call stack is complete\n    setTimeout(() => {\n        window.location.hash = (location.charAt(0) == '#' ? '' : '#') + location\n    }, 0)\n}\n\n/**\n * Navigates back in history (equivalent to pressing the browser's back button).\n */\nexport function pop() {\n    // Execute this code when the current call stack is complete\n    setTimeout(() => {\n        window.history.back()\n    }, 0)\n}\n\n/**\n * Replaces the current page but without modifying the history stack.\n *\n * @param {string} location - Path to navigate to (must start with `/` or '#/')\n */\nexport function replace(location) {\n    if (!location || location.length < 1 || (location.charAt(0) != '/' && location.indexOf('#/') !== 0)) {\n        throw Error('Invalid parameter location')\n    }\n\n    // Execute this code when the current call stack is complete\n    setTimeout(() => {\n        const dest = (location.charAt(0) == '#' ? '' : '#') + location\n        history.replaceState(undefined, undefined, dest)\n\n        // The method above doesn't trigger the hashchange event, so let's do that manually\n        window.dispatchEvent(new Event('hashchange'))\n    }, 0)\n}\n\n/**\n * Svelte Action that enables a link element (`<a>`) to use our history management.\n *\n * For example:\n *\n * ````html\n * <a href=\"/books\" use:link>View books</a>\n * ````\n *\n * @param {HTMLElement} node - The target node (automatically set by Svelte). Must be an anchor tag (`<a>`) with a href attribute starting in `/`\n */\nexport function link(node) {\n    // Only apply to <a> tags\n    if (!node || !node.tagName || node.tagName.toLowerCase() != 'a') {\n        throw Error('Action \"link\" can only be used with <a> tags')\n    }\n\n    // Destination must start with '/'\n    const href = node.getAttribute('href')\n    if (!href || href.length < 1 || href.charAt(0) != '/') {\n        throw Error('Invalid value for \"href\" attribute')\n    }\n\n    // Add # to every href attribute\n    node.setAttribute('href', '#' + href)\n}\n</script>\n\n{#if componentParams}\n  <svelte:component this=\"{component}\" params=\"{componentParams}\" />\n{:else}\n  <svelte:component this=\"{component}\" />\n{/if}\n\n<script>\nimport {createEventDispatcher} from 'svelte'\nimport regexparam from 'regexparam'\n\n/**\n * Dictionary of all routes, in the format `'/path': component`.\n *\n * For example:\n * ````js\n * import HomeRoute from './routes/HomeRoute.svelte'\n * import BooksRoute from './routes/BooksRoute.svelte'\n * import NotFoundRoute from './routes/NotFoundRoute.svelte'\n * routes = {\n *     '/': HomeRoute,\n *     '/books': BooksRoute,\n *     '*': NotFoundRoute\n * }\n * ````\n */\nexport let routes = {}\n\n/**\n * Optional prefix for the routes in this router. This is useful for example in the case of nested routers.\n */\nexport let prefix = ''\n\n/**\n * Container for a route: path, component\n */\nclass RouteItem {\n    /**\n     * Initializes the object and creates a regular expression from the path, using regexparam.\n     *\n     * @param {string} path - Path to the route (must start with '/' or '*')\n     * @param {SvelteComponent} component - Svelte component for the route\n     */\n    constructor(path, component) {\n        if (!component || (typeof component != 'function' && (typeof component != 'object' || component._sveltesparouter !== true))) {\n            throw Error('Invalid component object')\n        }\n\n        // Path must be a regular or expression, or a string starting with '/' or '*'\n        if (!path || \n            (typeof path == 'string' && (path.length < 1 || (path.charAt(0) != '/' && path.charAt(0) != '*'))) ||\n            (typeof path == 'object' && !(path instanceof RegExp))\n        ) {\n            throw Error('Invalid value for \"path\" argument')\n        }\n\n        const {pattern, keys} = regexparam(path)\n\n        this.path = path\n\n        // Check if the component is wrapped and we have conditions\n        if (typeof component == 'object' && component._sveltesparouter === true) {\n            this.component = component.route\n            this.conditions = component.conditions || []\n            this.userData = component.userData\n        }\n        else {\n            this.component = component\n            this.conditions = []\n            this.userData = undefined\n        }\n\n        this._pattern = pattern\n        this._keys = keys\n    }\n\n    /**\n     * Checks if `path` matches the current route.\n     * If there's a match, will return the list of parameters from the URL (if any).\n     * In case of no match, the method will return `null`.\n     *\n     * @param {string} path - Path to test\n     * @returns {null|Object.<string, string>} List of paramters from the URL if there's a match, or `null` otherwise.\n     */\n    match(path) {\n        // If there's a prefix, remove it before we run the matching\n        if (prefix && path.startsWith(prefix)) {\n            path = path.substr(prefix.length) || '/'\n        }\n\n        // Check if the pattern matches\n        const matches = this._pattern.exec(path)\n        if (matches === null) {\n            return null\n        }\n\n        // If the input was a regular expression, this._keys would be false, so return matches as is\n        if (this._keys === false) {\n            return matches\n        }\n\n        const out = {}\n        let i = 0\n        while (i < this._keys.length) {\n            out[this._keys[i]] = matches[++i] || null\n        }\n        return out\n    }\n\n    /**\n     * Dictionary with route details passed to the pre-conditions functions, as well as the `routeLoaded` and `conditionsFailed` events\n     * @typedef {Object} RouteDetail\n     * @property {SvelteComponent} component - Svelte component\n     * @property {string} name - Name of the Svelte component\n     * @property {string} location - Location path\n     * @property {string} querystring - Querystring from the hash\n     * @property {Object} [userData] - Custom data passed by the user\n     */\n\n    /**\n     * Executes all conditions (if any) to control whether the route can be shown. Conditions are executed in the order they are defined, and if a condition fails, the following ones aren't executed.\n     * \n     * @param {RouteDetail} detail - Route detail\n     * @returns {bool} Returns true if all the conditions succeeded\n     */\n    checkConditions(detail) {\n        for (let i = 0; i < this.conditions.length; i++) {\n            if (!this.conditions[i](detail)) {\n                return false\n            }\n        }\n\n        return true\n    }\n}\n\n// Set up all routes\nconst routesList = []\nif (routes instanceof Map) {\n    // If it's a map, iterate on it right away\n    routes.forEach((route, path) => {\n        routesList.push(new RouteItem(path, route))\n    })\n}\nelse {\n    // We have an object, so iterate on its own properties\n    Object.keys(routes).forEach((path) => {\n        routesList.push(new RouteItem(path, routes[path]))\n    })\n}\n\n// Props for the component to render\nlet component = null\nlet componentParams = null\n\n// Event dispatcher from Svelte\nconst dispatch = createEventDispatcher()\n\n// Just like dispatch, but executes on the next iteration of the event loop\nconst dispatchNextTick = (name, detail) => {\n    // Execute this code when the current call stack is complete\n    setTimeout(() => {\n        dispatch(name, detail)\n    }, 0)\n}\n\n// Handle hash change events\n// Listen to changes in the $loc store and update the page\n$: {\n    // Find a route matching the location\n    component = null\n    let i = 0\n    while (!component && i < routesList.length) {\n        const match = routesList[i].match($loc.location)\n        if (match) {\n            const detail = {\n                component: routesList[i].component,\n                name: routesList[i].component.name,\n                location: $loc.location,\n                querystring: $loc.querystring,\n                userData: routesList[i].userData\n            }\n\n            // Check if the route can be loaded - if all conditions succeed\n            if (!routesList[i].checkConditions(detail)) {\n                // Trigger an event to notify the user\n                dispatchNextTick('conditionsFailed', detail)\n                break\n            }\n            component = routesList[i].component\n            // Set componentParams onloy if we have a match, to avoid a warning similar to `<Component> was created with unknown prop 'params'`\n            // Of course, this assumes that developers always add a \"params\" prop when they are expecting parameters\n            if (match && typeof match == 'object' && Object.keys(match).length) {\n                componentParams = match\n            }\n            else {\n                componentParams = null\n            }\n\n            dispatchNextTick('routeLoaded', detail)\n        }\n        i++\n    }\n}\n</script>\n","export default function (str, loose) {\n\tif (str instanceof RegExp) return { keys:false, pattern:str };\n\tvar c, o, tmp, ext, keys=[], pattern='', arr = str.split('/');\n\tarr[0] || arr.shift();\n\n\twhile (tmp = arr.shift()) {\n\t\tc = tmp[0];\n\t\tif (c === '*') {\n\t\t\tkeys.push('wild');\n\t\t\tpattern += '/(.*)';\n\t\t} else if (c === ':') {\n\t\t\to = tmp.indexOf('?', 1);\n\t\t\text = tmp.indexOf('.', 1);\n\t\t\tkeys.push( tmp.substring(1, !!~o ? o : !!~ext ? ext : tmp.length) );\n\t\t\tpattern += !!~o && !~ext ? '(?:/([^/]+?))?' : '/([^/]+?)';\n\t\t\tif (!!~ext) pattern += (!!~o ? '?' : '') + '\\\\' + tmp.substring(ext);\n\t\t} else {\n\t\t\tpattern += '/' + tmp;\n\t\t}\n\t}\n\n\treturn {\n\t\tkeys: keys,\n\t\tpattern: new RegExp('^' + pattern + (loose ? '(?=$|\\/)' : '\\/?$'), 'i')\n\t};\n}\n","<button class=\"{isCurrentPage ? \"current\" : \"\"}\" on:click={onClick}>\r\n    <span class=\"mdi mdi-{icon}\"></span>\r\n    <slot />\r\n</button>\r\n\r\n<script>\r\nimport { location, push as pushRoute } from \"svelte-spa-router\";\r\nimport { createEventDispatcher } from \"svelte\";\r\nconst dispatch = createEventDispatcher();\r\n\r\n// Props\r\nexport var icon;\r\nexport var path = \"/\";\r\n\r\n// Computed\r\n$: isCurrentPage = path === $location;\r\n\r\n// Functions\r\nfunction onClick() {\r\n    dispatch(\"click\");\r\n    pushRoute(path);\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\nbutton {\r\n    height: 48px;\r\n    width: 100%;\r\n\r\n    margin: 0;\r\n\r\n    background-color: transparent;\r\n    border: 0;\r\n    font-size: 20px;\r\n\r\n    span {\r\n        margin-right: 10px;\r\n    }\r\n\r\n    &.current {\r\n        color: var(--accentColor);\r\n    }\r\n}\r\n\r\n</style>","<header class=\"{menuOpen ? \"open\" : \"\"}\">\r\n    <img src=\"./img/header-image.png\" alt=\"\">\r\n    <div class=\"leftButtons\">\r\n        <HeaderButton icon={\"menu\"} on:click={toggleMenuOpen} />\r\n    </div>\r\n    <div class=\"rightButtons\">\r\n        <HeaderButton icon={\"magnify\"} />\r\n    </div>\r\n    <div class=\"menuContent\">\r\n        <MenuButton icon=\"compass-outline\" on:click={closeMenu} path=\"/\">Navigatie</MenuButton>\r\n        <MenuButton icon=\"bookmark-multiple-outline\" on:click={closeMenu} path=\"/addressbook\">Address boek</MenuButton>\r\n    </div>\r\n</header>\r\n<div class=\"menuScim {menuOpen ? \"open\" : \"\"}\" on:click|self={closeMenu}></div>\r\n\r\n<script>\r\n// Components\r\nimport HeaderButton from \"@/components/HeaderButton.svelte\";\r\nimport MenuButton from \"@/components/MenuButton.svelte\";\r\n\r\n// Data\r\nvar menuOpen = false;\r\n\r\n// Functions\r\nfunction toggleMenuOpen() {\r\n    menuOpen = !menuOpen;\r\n}\r\n\r\nfunction closeMenu() {\r\n    menuOpen = false;\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n$height: 64px;\r\n\r\nheader {\r\n    min-height: 48px;\r\n    width: 100%;\r\n\r\n    position: relative;\r\n    z-index: 6;\r\n    // display: inline-block;\r\n\r\n    background-color: var(--backgroundColor);\r\n\r\n    img {\r\n        height: $height * .6;\r\n\r\n        position: relative;\r\n        top: 14px;\r\n        left: 50%;\r\n        transform: translateX(-50%);\r\n    }\r\n\r\n    .rightButtons {\r\n        position: absolute;\r\n        top: 8px;\r\n        right: 8px;\r\n    }\r\n\r\n    .leftButtons {\r\n        position: absolute;\r\n        top: 8px;\r\n        left: 8px;\r\n    }\r\n\r\n    &.open .menuContent {\r\n        max-height: 900px;\r\n    }\r\n\r\n    .menuContent {\r\n        max-height: 0;\r\n\r\n        margin-top: 16px;\r\n        padding-bottom: 10px;\r\n\r\n        overflow: hidden;\r\n        transition: 250ms cubic-bezier(0.26, 0, 0, 0.99) max-height;\r\n    }\r\n}\r\n\r\n.menuScim {\r\n    height: 100%;\r\n    width: 100%;\r\n\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: -1;\r\n\r\n    background-color: var(--scimColor);\r\n    opacity: 0;\r\n    transition: 200ms cubic-bezier(0.4, 0.0, 0.2, 1) opacity;\r\n\r\n    &.open {\r\n        z-index: 2;\r\n\r\n        opacity: 1;\r\n    }\r\n}\r\n\r\n</style>","function decodePolyline(polyline) {\n\n  var _ = {};\n\n  _.Ya = function(a, b, c) {\n    null != b && (a = Math.max(a, b));\n    null != c && (a = Math.min(a, c));\n    return a\n  };\n  _.Za = function(a, b, c) { c -= b; return ((a - b) % c + c) % c + b };\n  _.w = function(a) { return a ? a.length : 0 };\n\n  _.E = function(a, b, c) {\n    a -= 0;\n    b -= 0;\n    c || (a = _.Ya(a, -90, 90), 180 != b && (b = _.Za(b, -180, 180)));\n    this.lat = function() { return a };\n    this.lng = function() { return b }\n  };\n\n  function decodePath(a) {\n    for (var b = _.w(a), c = Array(Math.floor(a.length / 2)), d = 0, e = 0, f = 0, g = 0; d < b; ++g) {\n      var h = 1,\n        l = 0,\n        n;\n      do n = a.charCodeAt(d++) - 63 - 1, h += n << l, l += 5; while (31 <= n);\n      e += h & 1 ? ~(h >> 1) : h >> 1;\n      h = 1;\n      l = 0;\n      do n = a.charCodeAt(d++) - 63 - 1, h += n << l, l += 5; while (31 <= n);\n      f += h & 1 ? ~(h >> 1) : h >> 1;\n      c[g] = new _.E(1E-5 * e, 1E-5 * f, !0)\n    }\n    c.length = g;\n    return c\n  }\n\n  var result = decodePath(polyline).map(function(el) {\n      return {lat:Number(el.lat().toFixed(5)),lng:Number(el.lng().toFixed(5))};\n  });\n\n  return result;\n\n}\n\nmodule.exports=decodePolyline;\n","<span class=\"mdi mdi-walk\"></span> {durationInMinutes} {minuteText}\r\n\r\n<script>\r\n// Props\r\nexport var step;\r\n\r\n// Computed\r\n$: durationInMinutes = Math.round(step.duration.value / 60);\r\n$: minuteText = durationInMinutes > 1 ? \"minuten\" : \"minuut\";\r\n</script>","export function toTimeString(timestamp) {\r\n    timestamp = standardizeTimestamp(timestamp);\r\n\r\n    var d = new Date(timestamp);\r\n    var hours = toFixedLength(d.getHours());\r\n    var minutes = toFixedLength(d.getMinutes());\r\n\r\n    return `${hours}:${minutes}`;\r\n}\r\n\r\nexport function standardizeTimestamp(timestamp) {\r\n    var isISO = timestamp > 2000000000;\r\n\r\n    if (isISO) {\r\n        return timestamp;\r\n    } else {\r\n        return timestamp * 1000;\r\n    }\r\n}\r\n\r\nexport function toFixedLength(value) {\r\n    if (value < 10) {\r\n        return \"0\" + value;\r\n    } else {\r\n        return String(value);\r\n    }\r\n}","import { writable } from \"svelte/store\";\r\nimport { prepareStore } from \"@/js/storeUtils\";\r\n\r\nexport const locationStore = writable({\r\n    lat: 0,\r\n    long: 0,\r\n});\r\n\r\nprepareStore(locationStore);\r\nvar locationWatcher;\r\n\r\nexport function readToLocation(geolocation) {\r\n    return {\r\n        lat: geolocation.coords.latitude,\r\n        long: geolocation.coords.longitude,\r\n    }\r\n}\r\n\r\nexport function locationIsValid() {\r\n    var location = locationStore.get();\r\n    return location.lat !== 0 && location.long !== 0;\r\n}\r\n\r\nexport function startLocation() {\r\n    if (locationWatcher !== undefined) return;\r\n\r\n    if (navigator !== undefined && navigator.geolocation !== undefined) {\r\n        locationWatcher = navigator.geolocation.watchPosition(position => {\r\n            locationStore.set(readToLocation(position));\r\n        });\r\n    }\r\n}\r\n\r\nexport function stopLocation() {\r\n    if (locationWatcher === undefined) return;\r\n\r\n    if (locationWatcher) {\r\n        navigator.geolocation.clearWatch(locationWatcher);\r\n    }\r\n}\r\n\r\nexport function isValidPosition(position) {\r\n    var { lat, long } = position;\r\n\r\n    if (lat === 0 && long === 0) return false;\r\n    else return true;\r\n}\r\n\r\nexport function getDirectDistance(positionA, positionB) {\r\n    var positionAValid = isValidPosition(positionA);\r\n    var positionBValid = isValidPosition(positionB);\r\n\r\n    if (!positionAValid || !positionBValid) return Infinity;\r\n\r\n    var differenceLat = Math.abs(positionA.lat - positionB.lat);\r\n    var differenceLong = Math.abs(positionA.long - positionB.long);\r\n\r\n    var directDistance = Math.sqrt(differenceLat ** 2 + differenceLong ** 2);\r\n\r\n    return directDistance;\r\n}","import { stationLocations, stationsFullDetails } from \"@/js/dataUtils.js\";\r\nimport { locationStore, getDirectDistance } from \"@/js/locationUtils.js\";\r\nimport { serverRequest } from \"@/js/dataUtils.js\";\r\nimport { Observable } from \"@/js/observable.js\";\r\n\r\nconst facilityIconMap = {\r\n    WIFI: \"wifi-strength-4\",\r\n    TOILET: \"human-male-female\",\r\n    STILTE: \"volume-mute\",\r\n    FIETS: \"bicycle\",\r\n    STROOM: \"power-socket-eu\",\r\n}\r\n\r\nexport function getFacilityIcon(facility) {\r\n    return facilityIconMap[facility];\r\n}\r\n\r\nexport function getFullDetailsByCode(code) {\r\n    var stations = [...stationsFullDetails.get()];\r\n\r\n    stations = stations.filter(station => station.code === code);\r\n\r\n    if (stations.length === 0) return null;\r\n    else return stations[0];\r\n}\r\n\r\nexport function getFullDetailsByLocation(lat, long) {\r\n    var station = getStationCodeByLocation(lat, long);\r\n    var code = station.stationCode;\r\n    var directDistance = station.directDistance;\r\n\r\n    return {\r\n        ...getFullDetailsByCode(code),\r\n        directDistance,\r\n    }\r\n}\r\n\r\nexport function getStationCodeByLocation(lat, long) {\r\n    var stations = [...stationLocations.get()];   \r\n\r\n    stations = stations.map(station => {\r\n        var directDistance = getDirectDistance(station, {\r\n            lat,\r\n            long,\r\n        });\r\n\r\n        return {\r\n            ...station,\r\n            directDistance,\r\n        }\r\n    })\r\n    .sort((a, b) => a.directDistance - b.directDistance);\r\n\r\n    return stations[0];\r\n}\r\n\r\nexport async function getTrainTrip(step) {\r\n    var tripNumber = step.transit_details.trip_short_name;\r\n    var startLocation = step.start_location;\r\n    var endLocation = step.end_location;\r\n\r\n    var startStation = getStationCodeByLocation(startLocation.lat, startLocation.lng).stationCode;\r\n    var endStation = getStationCodeByLocation(endLocation.lat, endLocation.lng).stationCode;\r\n\r\n    var { trips } = await serverRequest(`/trainTrip/${startStation}/${endStation}`);\r\n    trips = trips.filter(trip => {\r\n        return trip.legs.some(leg => leg.name.includes(tripNumber))\r\n    });\r\n\r\n    return trips;\r\n}\r\n\r\nexport async function refreshTrainTrip(uid) {\r\n    var trip = await serverRequest(`/refreshTrainTrip?refreshToken=${uid}`);\r\n    return trip;\r\n}\r\n\r\nexport class LiveTrainLocation extends Observable {\r\n    constructor(tripNumber) {\r\n        super();\r\n\r\n        this.tripNumber = tripNumber;\r\n        this.timer = null;\r\n        this.refreshInterval = 60 * 1000; // 60 seconds\r\n    }\r\n\r\n    destroy() {\r\n        this.clearTimer();\r\n    }\r\n\r\n    clearTimer() {\r\n        if (this.timer) clearInterval(this.timer);\r\n    }\r\n\r\n    start() {\r\n        this.clearTimer();\r\n        this.timer = setInterval(() => this.tick(), this.refreshInterval);\r\n        this.tick();\r\n    }\r\n\r\n    async tick() {\r\n        var { lat, long } = locationStore.get();\r\n        var response = await serverRequest(`/trainLocations?location=${lat},${long}&tripNumber=${this.tripNumber}`, this.refreshInterval - 1000);\r\n\r\n        console.log(response, this.tripNumber);\r\n\r\n        if (response.locations.length > 0) {\r\n            var trainLocation = response.locations[0];\r\n\r\n            var response = {\r\n                ...trainLocation,\r\n                closestStation: getFullDetailsByLocation(trainLocation.lat, trainLocation.lng),\r\n            }\r\n\r\n            console.log(response);\r\n\r\n            this.update(response);\r\n        } else {\r\n            this.update(null);\r\n        }\r\n    }\r\n}\r\n\r\nexport class LiveTrainInfo extends Observable {\r\n    constructor(uid) {\r\n        super();\r\n\r\n        this.refreshToken = uid;\r\n        this.timer = null;\r\n        this.refreshInterval = 60 * 1000; // 60 seconds\r\n    }\r\n\r\n    destroy() {\r\n        this.clearTimer();\r\n    }\r\n\r\n    clearTimer() {\r\n        if (this.timer) clearInterval(this.timer);\r\n    }\r\n\r\n    start() {\r\n        this.clearTimer();\r\n        this.timer = setInterval(() => this.tick(), this.refreshInterval);\r\n        this.tick();\r\n    }\r\n\r\n    async tick() {\r\n        var response = refreshTrainTrip(this.uid);\r\n        this.update(response);\r\n    }\r\n}","export class Observable {\r\n    constructor() {\r\n        this.observers = [];\r\n    }\r\n\r\n    subscribe(fn) {\r\n        if (typeof fn !== \"function\") throw new Error(\"You have to provide a function\");\r\n        this.observers.push(fn);\r\n    }\r\n\r\n    remove(fn) {\r\n        var index = this.observers.indexOf(fn);\r\n        this.observers.splice(index, 1);\r\n    }\r\n\r\n    update(value) {\r\n        this.observers.forEach(observer => observer(value));\r\n    }\r\n}","<span class=\"headSign\" style=\"background-color: {backgroundColor}; color: {textColor};\">\r\n    <span class=\"mdi mdi-{icon}\"></span>\r\n    <slot />\r\n</span>\r\n\r\n<script>\r\n// Props\r\nexport var icon;\r\nexport var backgroundColor = \"#000000\";\r\nexport var textColor = \"#ffffff\";\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n.headSign {\r\n    padding: 2px 8px;\r\n    border-radius: 5px;\r\n}\r\n\r\n</style>","export { identity as linear } from '../internal';\n\n/*\nAdapted from https://github.com/mattdesl\nDistributed under MIT License https://github.com/mattdesl/eases/blob/master/LICENSE.md\n*/\nfunction backInOut(t) {\n    const s = 1.70158 * 1.525;\n    if ((t *= 2) < 1)\n        return 0.5 * (t * t * ((s + 1) * t - s));\n    return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n}\nfunction backIn(t) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n}\nfunction backOut(t) {\n    const s = 1.70158;\n    return --t * t * ((s + 1) * t + s) + 1;\n}\nfunction bounceOut(t) {\n    const a = 4.0 / 11.0;\n    const b = 8.0 / 11.0;\n    const c = 9.0 / 10.0;\n    const ca = 4356.0 / 361.0;\n    const cb = 35442.0 / 1805.0;\n    const cc = 16061.0 / 1805.0;\n    const t2 = t * t;\n    return t < a\n        ? 7.5625 * t2\n        : t < b\n            ? 9.075 * t2 - 9.9 * t + 3.4\n            : t < c\n                ? ca * t2 - cb * t + cc\n                : 10.8 * t * t - 20.52 * t + 10.72;\n}\nfunction bounceInOut(t) {\n    return t < 0.5\n        ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0))\n        : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n}\nfunction bounceIn(t) {\n    return 1.0 - bounceOut(1.0 - t);\n}\nfunction circInOut(t) {\n    if ((t *= 2) < 1)\n        return -0.5 * (Math.sqrt(1 - t * t) - 1);\n    return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n}\nfunction circIn(t) {\n    return 1.0 - Math.sqrt(1.0 - t * t);\n}\nfunction circOut(t) {\n    return Math.sqrt(1 - --t * t);\n}\nfunction cubicInOut(t) {\n    return t < 0.5 ? 4.0 * t * t * t : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\nfunction cubicIn(t) {\n    return t * t * t;\n}\nfunction cubicOut(t) {\n    const f = t - 1.0;\n    return f * f * f + 1.0;\n}\nfunction elasticInOut(t) {\n    return t < 0.5\n        ? 0.5 *\n            Math.sin(((+13.0 * Math.PI) / 2) * 2.0 * t) *\n            Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n        : 0.5 *\n            Math.sin(((-13.0 * Math.PI) / 2) * (2.0 * t - 1.0 + 1.0)) *\n            Math.pow(2.0, -10.0 * (2.0 * t - 1.0)) +\n            1.0;\n}\nfunction elasticIn(t) {\n    return Math.sin((13.0 * t * Math.PI) / 2) * Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction elasticOut(t) {\n    return (Math.sin((-13.0 * (t + 1.0) * Math.PI) / 2) * Math.pow(2.0, -10.0 * t) + 1.0);\n}\nfunction expoInOut(t) {\n    return t === 0.0 || t === 1.0\n        ? t\n        : t < 0.5\n            ? +0.5 * Math.pow(2.0, 20.0 * t - 10.0)\n            : -0.5 * Math.pow(2.0, 10.0 - t * 20.0) + 1.0;\n}\nfunction expoIn(t) {\n    return t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction expoOut(t) {\n    return t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);\n}\nfunction quadInOut(t) {\n    t /= 0.5;\n    if (t < 1)\n        return 0.5 * t * t;\n    t--;\n    return -0.5 * (t * (t - 2) - 1);\n}\nfunction quadIn(t) {\n    return t * t;\n}\nfunction quadOut(t) {\n    return -t * (t - 2.0);\n}\nfunction quartInOut(t) {\n    return t < 0.5\n        ? +8.0 * Math.pow(t, 4.0)\n        : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;\n}\nfunction quartIn(t) {\n    return Math.pow(t, 4.0);\n}\nfunction quartOut(t) {\n    return Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n}\nfunction quintInOut(t) {\n    if ((t *= 2) < 1)\n        return 0.5 * t * t * t * t * t;\n    return 0.5 * ((t -= 2) * t * t * t * t + 2);\n}\nfunction quintIn(t) {\n    return t * t * t * t * t;\n}\nfunction quintOut(t) {\n    return --t * t * t * t * t + 1;\n}\nfunction sineInOut(t) {\n    return -0.5 * (Math.cos(Math.PI * t) - 1);\n}\nfunction sineIn(t) {\n    const v = Math.cos(t * Math.PI * 0.5);\n    if (Math.abs(v) < 1e-14)\n        return 1;\n    else\n        return 1 - v;\n}\nfunction sineOut(t) {\n    return Math.sin((t * Math.PI) / 2);\n}\n\nexport { backIn, backInOut, backOut, bounceIn, bounceInOut, bounceOut, circIn, circInOut, circOut, cubicIn, cubicInOut, cubicOut, elasticIn, elasticInOut, elasticOut, expoIn, expoInOut, expoOut, quadIn, quadInOut, quadOut, quartIn, quartInOut, quartOut, quintIn, quintInOut, quintOut, sineIn, sineInOut, sineOut };\n","import { cubicInOut, linear, cubicOut } from '../easing';\nimport { is_function, assign } from '../internal';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\nfunction blur(node, { delay = 0, duration = 400, easing = cubicInOut, amount = 5, opacity = 0 }) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const f = style.filter === 'none' ? '' : style.filter;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `opacity: ${target_opacity - (od * u)}; filter: ${f} blur(${u * amount}px);`\n    };\n}\nfunction fade(node, { delay = 0, duration = 400, easing = linear }) {\n    const o = +getComputedStyle(node).opacity;\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => `opacity: ${t * o}`\n    };\n}\nfunction fly(node, { delay = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 }) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * x}px, ${(1 - t) * y}px);\n\t\t\topacity: ${target_opacity - (od * u)}`\n    };\n}\nfunction slide(node, { delay = 0, duration = 400, easing = cubicOut }) {\n    const style = getComputedStyle(node);\n    const opacity = +style.opacity;\n    const height = parseFloat(style.height);\n    const padding_top = parseFloat(style.paddingTop);\n    const padding_bottom = parseFloat(style.paddingBottom);\n    const margin_top = parseFloat(style.marginTop);\n    const margin_bottom = parseFloat(style.marginBottom);\n    const border_top_width = parseFloat(style.borderTopWidth);\n    const border_bottom_width = parseFloat(style.borderBottomWidth);\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => `overflow: hidden;` +\n            `opacity: ${Math.min(t * 20, 1) * opacity};` +\n            `height: ${t * height}px;` +\n            `padding-top: ${t * padding_top}px;` +\n            `padding-bottom: ${t * padding_bottom}px;` +\n            `margin-top: ${t * margin_top}px;` +\n            `margin-bottom: ${t * margin_bottom}px;` +\n            `border-top-width: ${t * border_top_width}px;` +\n            `border-bottom-width: ${t * border_bottom_width}px;`\n    };\n}\nfunction scale(node, { delay = 0, duration = 400, easing = cubicOut, start = 0, opacity = 0 }) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const sd = 1 - start;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `\n\t\t\ttransform: ${transform} scale(${1 - (sd * u)});\n\t\t\topacity: ${target_opacity - (od * u)}\n\t\t`\n    };\n}\nfunction draw(node, { delay = 0, speed, duration, easing = cubicInOut }) {\n    const len = node.getTotalLength();\n    if (duration === undefined) {\n        if (speed === undefined) {\n            duration = 800;\n        }\n        else {\n            duration = len / speed;\n        }\n    }\n    else if (typeof duration === 'function') {\n        duration = duration(len);\n    }\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `stroke-dasharray: ${t * len} ${u * len}`\n    };\n}\nfunction crossfade(_a) {\n    var { fallback } = _a, defaults = __rest(_a, [\"fallback\"]);\n    const to_receive = new Map();\n    const to_send = new Map();\n    function crossfade(from, node, params) {\n        const { delay = 0, duration = d => Math.sqrt(d) * 30, easing = cubicOut } = assign(assign({}, defaults), params);\n        const to = node.getBoundingClientRect();\n        const dx = from.left - to.left;\n        const dy = from.top - to.top;\n        const dw = from.width / to.width;\n        const dh = from.height / to.height;\n        const d = Math.sqrt(dx * dx + dy * dy);\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        const opacity = +style.opacity;\n        return {\n            delay,\n            duration: is_function(duration) ? duration(d) : duration,\n            easing,\n            css: (t, u) => `\n\t\t\t\topacity: ${t * opacity};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${transform} translate(${u * dx}px,${u * dy}px) scale(${t + (1 - t) * dw}, ${t + (1 - t) * dh});\n\t\t\t`\n        };\n    }\n    function transition(items, counterparts, intro) {\n        return (node, params) => {\n            items.set(params.key, {\n                rect: node.getBoundingClientRect()\n            });\n            return () => {\n                if (counterparts.has(params.key)) {\n                    const { rect } = counterparts.get(params.key);\n                    counterparts.delete(params.key);\n                    return crossfade(rect, node, params);\n                }\n                // if the node is disappearing altogether\n                // (i.e. wasn't claimed by the other list)\n                // then we need to supply an outro\n                items.delete(params.key);\n                return fallback && fallback(node, params, intro);\n            };\n        };\n    }\n    return [\n        transition(to_send, to_receive, false),\n        transition(to_receive, to_send, true)\n    ];\n}\n\nexport { blur, crossfade, draw, fade, fly, scale, slide };\n","export const flyDown = { y: -16, duration: 150 };\r\nexport const flyUp = { y: 16, duration: 150 };","<p on:click={toggleDropdown}><span class=\"mdi mdi-chevron-down\"></span> {text}</p>\r\n{#if open}\r\n    <div class=\"dropDownContent\" in:fly={flyDown}>\r\n        <slot />\r\n    </div>\r\n{/if}\r\n\r\n<script>\r\n// Imports\r\nimport { fly } from \"svelte/transition\";\r\nimport { flyDown } from \"@/js/defaultTransitions.js\";\r\n\r\n// Props\r\nexport var text = \"Meer Info\";\r\nexport var open = false;\r\n\r\n// Functions\r\nfunction toggleDropdown() {\r\n    open = !open;\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\np {\r\n    width: 100%;\r\n\r\n    margin-bottom: 0;\r\n\r\n    cursor: pointer;\r\n    text-align: center;\r\n}\r\n\r\n.dropDownContent {\r\n    padding-top: 16px;\r\n    // padding-bottom: 16px;\r\n}\r\n\r\n</style>","<InfoRow>\r\n    <span slot=\"left\">{startTimeString}</span>\r\n    <span slot=\"center\">\r\n        <HeadSign icon=\"train\" {backgroundColor} {textColor}>{line.short_name}</HeadSign>\r\n    </span>\r\n    <span slot=\"right\">{endTimeString}</span>\r\n</InfoRow>\r\n{#if cancelled}\r\n    <p class=\"cancelled\">\r\n        <span class=\"mdi mdi-alert\"></span>\r\n        Deze trein is geannuleerd\r\n    </p>\r\n{/if}\r\n<InfoRow>\r\n    <span slot=\"left\"><span class=\"mdi mdi-arrow-expand-right\"></span> {transitDetails.departure_stop.name}</span>\r\n    <span slot=\"right\">spoor {originPlatform}</span>\r\n</InfoRow>\r\n<InfoRow>\r\n    <span slot=\"left\"><span class=\"mdi mdi-arrow-collapse-right\"></span> {transitDetails.arrival_stop.name}</span>\r\n    <span slot=\"right\">spoor {destinationPlatform}</span>\r\n</InfoRow>\r\n<InfoRow>\r\n    <span slot=\"left\">\r\n        <span class=\"mdi mdi-rss {liveDataAvailable ? \"liveDataActive\" : \"\"}\"></span> \r\n        {#if liveDataAvailable}\r\n            {liveMessage}\r\n        {:else}\r\n            Geen live data beschikbaar\r\n        {/if}\r\n    </span>\r\n</InfoRow>\r\n<DropDown>\r\n    {#if trainDataStatus === \"loaded\"}\r\n        <div class=\"trainImages\">\r\n            {#each trainData.materieeldelen as trainPart}\r\n                <img class=\"trainPartImage\" src={trainPart.afbeelding} alt=\"Train part\" />\r\n            {/each}\r\n        </div>\r\n        {#if exitDirection}\r\n            <p class=\"exitDirection\">\r\n                {#if exitDirection === \"LEFT\"}\r\n                    <span class=\"mdi mdi-chevron-triple-left\"></span> Links uitstappen\r\n                {:else}\r\n                    Rechts uitstappen <span class=\"mdi mdi-chevron-triple-right\"></span>\r\n                {/if}\r\n            </p>\r\n        {/if}\r\n        <InfoRow>\r\n            <span slot=\"left\"><span class=\"mdi mdi-routes\"></span> Richting</span>\r\n            <span slot=\"right\">{transitDetails.headsign}</span>\r\n        </InfoRow>\r\n        <InfoRow>\r\n            <span slot=\"left\"><span class=\"mdi mdi-ruler\"></span> Lengte</span>\r\n            <span slot=\"right\"><b>{trainData.lengte}</b> delen</span>\r\n        </InfoRow>\r\n        {#each trainData.materieeldelen as trainPart}\r\n            <InfoRow>\r\n                <span slot=\"left\"><span class=\"mdi mdi-barcode\"></span> Treinstel {trainPart.materieelnummer}</span>\r\n                <span slot=\"right\">\r\n                    {#each trainPart.faciliteiten as facility}\r\n                        <span class=\"facilityIcon mdi mdi-{getFacilityIcon(facility)}\"></span>\r\n                    {/each}\r\n                </span>\r\n            </InfoRow>\r\n        {/each}\r\n    {:else if trainDataStatus === \"error\"}\r\n        <p>Error</p>\r\n    {/if}\r\n</DropDown>\r\n\r\n<script>\r\nimport { onMount, onDestroy } from \"svelte\";\r\nimport { serverRequest } from \"@/js/dataUtils.js\";\r\nimport { getStepColor, getStepTextColor, createStepStore } from \"@/js/stepUtils.js\";\r\nimport { standardizeTimestamp, toTimeString } from \"@/js/timeUtils.js\";\r\nimport { getFacilityIcon, getTrainTrip, refreshTrainTrip, getStationCodeByLocation, getFullDetailsByCode, LiveTrainLocation } from \"@/js/trainUtils.js\";\r\n\r\n// Components\r\nimport InfoRow from \"@/components/InfoRow.svelte\";\r\nimport HeadSign from \"@/components/HeadSign.svelte\";\r\nimport DropDown from \"@/components/DropDown.svelte\";\r\n\r\n// Props\r\nexport var step;\r\n\r\n// Data\r\nconst refreshRate = 60 * 1000; // 60 seconds\r\n\r\nvar stepStore = createStepStore(step.id, {});\r\n$stepStore.maxAge = 60 * 60 * 1000; // 60 minutes;\r\n$stepStore.timestamp = Date.now();\r\n\r\nvar trainDataStatus = \"\";\r\nvar trainData;\r\nvar trainTrip;\r\n\r\nvar liveData;\r\nvar liveMessage;\r\n\r\nvar polyline = [];\r\n\r\n// Computed\r\n$: transitDetails = step.transit_details;\r\n$: tripNumber = transitDetails.trip_short_name;\r\n$: line = transitDetails.line;\r\n$: backgroundColor = getStepColor(\"train\", transitDetails);\r\n$: textColor = getStepTextColor(\"train\", transitDetails);\r\n$: startTimestamp = standardizeTimestamp(transitDetails.departure_time.value);\r\n$: startTimeString = toTimeString(startTimestamp);\r\n$: endTimestamp = standardizeTimestamp(transitDetails.arrival_time.value);\r\n$: endTimeString = toTimeString(endTimestamp);\r\n$: tripRefreshCode = $stepStore.tripRefreshCode;\r\n$: tripLoaded = trainTrip !== undefined && tripRefreshCode !== undefined;\r\n$: trainTripLeg = tripLoaded ? trainTrip.legs[0] : null;\r\n$: originPlatform = tripLoaded ? trainTripLeg.origin.plannedTrack : \"?\";\r\n$: destinationPlatform = tripLoaded ? trainTripLeg.destination.plannedTrack : \"?\";\r\n$: exitDirection = tripLoaded ? trainTripLeg.destination.exitSide : false;\r\n$: cancelled = tripLoaded ? trainTripLeg.cancelled : false;\r\n$: stops = tripLoaded ? trainTripLeg.stops : [];\r\n$: liveDataAvailable = liveMessage;\r\n\r\n// Functions\r\nasync function refreshTrip() {\r\n    if ($stepStore.tripRefreshCode) {\r\n        trainTrip = await refreshTrainTrip($stepStore.tripRefreshCode);\r\n        var stopCodes = getStopCodes(trainTrip.legs[0].stops);\r\n        var { coords } = await serverRequest(`/trainRouteCoords?stations=${stopCodes.join(\",\")}`, 60 * 60 * 1000); // Cached for an hour\r\n        polyline = coords;\r\n    }\r\n}\r\n\r\nfunction getStopCodes(stops) {\r\n    var codes = stops.map(stop => getStationCodeByLocation(stop.lat, stop.lng).stationCode);\r\n    return codes;\r\n}\r\n\r\n// TODO move this into locationUtils.js\r\nfunction findClosestPoint(points, lat, long) {\r\n    points = points.map(point => {\r\n        var differenceLat = Math.abs(point.lat - lat);\r\n        var differenceLong = Math.abs(point.long - long);\r\n\r\n        var directDifference = Math.sqrt(differenceLat ** 2 + differenceLong ** 2);\r\n\r\n        return {\r\n            ...point,\r\n            directDifference,\r\n        }\r\n    })\r\n    .sort((a, b) => a.directDifference - b.directDifference);\r\n\r\n    return points[0];\r\n}\r\n\r\n// On create\r\nconst refreshTimer = setInterval(refreshTrip, refreshRate);\r\nrefreshTrip();\r\n\r\n// On mount\r\nonMount(async () => {\r\n    try {\r\n        liveData = new LiveTrainLocation(tripNumber);\r\n        trainData = await serverRequest(\"/virtualTrain/\" + tripNumber);\r\n\r\n        liveData.subscribe(data => {\r\n            if (!data) {\r\n                liveMessage = null;\r\n                return;\r\n            }\r\n\r\n            var closestPoint = findClosestPoint(polyline, data.lat, data.lng);\r\n\r\n            if (closestPoint) {\r\n                var closestStation = getFullDetailsByCode(closestPoint.code);\r\n\r\n                if (data.snelheid === 0) {\r\n                    liveMessage = `Trein aangekomen op ${closestStation.namen.middel}`;\r\n                } else {\r\n                    liveMessage = `Trein rijd naar ${closestStation.namen.middel}`;\r\n                }\r\n            } else {\r\n                liveMessage = null;\r\n            }\r\n        });\r\n        \r\n        liveData.start();\r\n        trainDataStatus = \"loaded\";\r\n    } catch(error) {\r\n        trainDataStatus = \"error\";\r\n        throw error;\r\n    }\r\n\r\n    if ($stepStore.tripRefreshCode === undefined) {\r\n        var tripData = await getTrainTrip(step);\r\n\r\n        if (tripData.length > 0) {\r\n            trainTrip = tripData[0];\r\n            $stepStore.tripRefreshCode = trainTrip.uid;\r\n            $stepStore = $stepStore;\r\n        }\r\n    }\r\n});\r\n\r\n// On destroy\r\nonDestroy(() => {\r\n    clearInterval(refreshTimer);\r\n    liveData.destroy();\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n.trainImages {\r\n    width: 100%;\r\n\r\n    margin-bottom: 16px;\r\n\r\n    .trainPartImage {\r\n        max-height: 32px;\r\n        width: 100%;\r\n    }\r\n}\r\n\r\n.facilityIcon {\r\n    margin-left: 4px;\r\n}\r\n\r\n.exitDirection {\r\n    text-align: center;\r\n    // font-weight: 700;\r\n}\r\n\r\n.cancelled {\r\n    color: var(--errorColor);\r\n    text-align: center;\r\n    font-weight: 700;\r\n}\r\n\r\n.liveDataActive {\r\n    color: var(--liveDataActive);\r\n}\r\n\r\n</style>","import { serverRequest } from \"@/js/dataUtils.js\";\r\nimport { standardizeTimestamp } from \"@/js/timeUtils.js\";\r\n\r\nexport async function getBusStop(lat, long) {\r\n    var response = await serverRequest(`/busStop?latLong=${lat},${long}`);\r\n    return response.busStops[0];\r\n}\r\n\r\nexport function findDeparture(searchDepartureTime, expectedNumber, passes) {\r\n    searchDepartureTime = standardizeTimestamp(searchDepartureTime);\r\n\r\n    const maxSearchDifference = 5 * 60 * 1000; // 5 minutes\r\n    const maxCurrentDifference = 10 * 60 * 1000; // 10 minutes\r\n\r\n    return Object.entries(passes)\r\n        // Maps in the key so it can be retrieved within the array\r\n        .map(([key, value]) => {\r\n            return {\r\n                ...value,\r\n                key,\r\n            }\r\n        })\r\n\r\n        // Filter out any passes that don't have the correct code\r\n        .filter(pass => {\r\n            var { key } = pass;\r\n            var [agency, localAuthority, linePlanningNumber, journeyNumber, fortifyOrderNumber] = key.split(\"_\");\r\n\r\n            console.log(linePlanningNumber, expectedNumber);\r\n\r\n            return linePlanningNumber.includes(expectedNumber);\r\n        })\r\n\r\n        // Maps in the difference to the search time and the current time\r\n        .map(pass => {\r\n            // Parse the timestamp\r\n            var departureDateTime = new Date(pass.ExpectedArrivalTime);\r\n            var departureTimeStamp = standardizeTimestamp(departureDateTime.getTime());\r\n\r\n            // Compute the differences\r\n            var differenceToExpectedTime = departureTimeStamp - searchDepartureTime; // Difference to the search time\r\n            var differenceToCurrentTime = Date.now() - departureTimeStamp; // Difference to current time\r\n\r\n            return {\r\n                ...pass,\r\n                differenceToExpectedTime,\r\n                differenceToCurrentTime,\r\n            }\r\n        })\r\n\r\n        // Filters out any passes that are not within the set parameters\r\n        .filter(pass => {\r\n            var passedExpectedTimeDifference = pass.differenceToExpectedTime >= -maxSearchDifference && pass.differenceToExpectedTime <= maxSearchDifference;\r\n            var passedCurrentTimeDifference = pass.differenceToCurrentTime <= maxCurrentDifference;\r\n\r\n            return passedExpectedTimeDifference && passedCurrentTimeDifference;\r\n        })\r\n\r\n        // Sort the array asc to show the most likely match first\r\n        .sort((a, b) => a.differenceToExpectedTime - b.differenceToExpectedTime);\r\n}\r\n\r\nexport async function getBusTrip(code) {\r\n    return serverRequest(`/busJourney/${code}`);\r\n}\r\n\r\nexport function getBusStopsFromJourney(journey) {\r\n    if (journey === undefined || journey.Stops === undefined) return [];\r\n    var stops = Object.values(journey.Stops);\r\n    var foundCurrent = false;\r\n\r\n    // Maps in whether or not the stop is the current one\r\n    stops = stops.map(stop => {\r\n        stop.isCurrentStop = false;\r\n\r\n        // Sets the first stop with 'driving' to the current step\r\n        if (stop.TripStopStatus === \"DRIVING\" && !foundCurrent) {\r\n            stop.isCurrentStop = true;\r\n            foundCurrent = true;\r\n        }\r\n\r\n        return stop;\r\n    });\r\n\r\n    return stops;\r\n}\r\n\r\nexport function getCurrentStop(stops) {\r\n    for (var stop of stops) {\r\n        if (stop.isCurrentStop) {\r\n            return stop;\r\n        }\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\n// Returns the last, current and two next stops\r\nexport function getActiveStops(stops) {\r\n    var currentStop = getCurrentStop(stops);\r\n    var index = stops.indexOf(currentStop);\r\n\r\n    if (index === -1) return [];\r\n\r\n    var result = [];\r\n\r\n    var last = stops[index - 1];\r\n    var nextOne = stops[index + 1];\r\n    var nextTwo = stops[index + 2];\r\n\r\n    if (last !== undefined) result.push(last);\r\n\r\n    result.push(currentStop);\r\n\r\n    if (nextOne !== undefined) result.push(nextOne);\r\n    if (nextTwo !== undefined) result.push(nextTwo);\r\n\r\n    return result;\r\n}\r\n\r\nexport class BusSearcher {\r\n    constructor(step) {\r\n        this.step = step;\r\n        this.busStop = null;\r\n    }\r\n\r\n    async startSearch() {\r\n        var { lat, lng } = step.start_location;\r\n        busStop = await getBusStop(lat, lng);\r\n\r\n        var startTimestamp = standardizeTimestamp(this.step.transitDetails.departure_time.value);\r\n    }\r\n}\r\n\r\nexport class BusLiveData {\r\n    constructor(busCode) {\r\n        this.busCode = busCode;\r\n    }\r\n}","<div class=\"busStop {current ? \"current\" : \"\"}\">\r\n    <p>\r\n        <slot />\r\n    </p>\r\n</div>\r\n\r\n<script>\r\n// Props\r\nexport var current = false;\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n.busStop {\r\n    width: calc(90% - 16px);\r\n\r\n    padding: 8px;\r\n    margin: 0 auto;\r\n\r\n    border-left: 2px dashed #cecece;\r\n    color: #cecece;\r\n\r\n    p {\r\n        margin: 0;\r\n    }\r\n    \r\n    &.current {\r\n        width: calc(100% - 16px);\r\n\r\n        border: 0;\r\n        box-shadow: var(--defaultBoxShadow);\r\n        border-radius: 5px;\r\n\r\n        color: #000000;\r\n    }\r\n}\r\n\r\n</style>","<Stop current={stop.isCurrentStop}>\r\n    <span class=\"mdi mdi-{icon}\"></span>\r\n    {stop.TimingPointName}\r\n</Stop>\r\n\r\n<script>\r\n// Components\r\nimport Stop from \"@/components/RouteStep/Stop.svelte\";\r\n\r\n// Props\r\nexport var stop;\r\n\r\n// Computed\r\n$: icon = getIcon(stop);\r\n\r\n// Functions\r\nfunction getIcon(stop) {\r\n    var status = stop.TripStopStatus;\r\n\r\n    if (status === \"PASSED\") return \"check-all\";\r\n    else if (status === \"ARRIVED\") return \"check\";\r\n    else return \"alarm\";\r\n}\r\n</script>","<InfoRow>\r\n    <span slot=\"left\">{startTimeString}</span>\r\n    <span slot=\"center\">\r\n        <HeadSign icon=\"bus\" {backgroundColor} {textColor}>{line.short_name}</HeadSign>\r\n    </span>\r\n    <span slot=\"right\">{endTimeString}</span>\r\n</InfoRow>\r\n<InfoRow>\r\n    <span slot=\"left\"><span class=\"mdi mdi-arrow-expand-right\"></span> {transitDetails.departure_stop.name}</span>\r\n</InfoRow>\r\n<InfoRow>\r\n    <span slot=\"left\"><span class=\"mdi mdi-arrow-collapse-right\"></span> {transitDetails.arrival_stop.name}</span>\r\n</InfoRow>\r\n<InfoRow>\r\n    <span slot=\"left\"><span class=\"mdi mdi-rss\"></span> {currentStopText}</span>\r\n</InfoRow>\r\n<DropDown>\r\n    <InfoRow>\r\n        <span slot=\"left\"><span class=\"mdi mdi-arrow-left-right\"></span> {transitDetails.line.name}</span>\r\n    </InfoRow>\r\n    <!-- <BusTimeline {stops} /> -->\r\n    {#each activeStops as stop}\r\n        <BusStop {stop} />\r\n    {/each}\r\n</DropDown>\r\n\r\n<script>\r\nimport { onMount, onDestroy } from \"svelte\";\r\nimport { getBusStop, findDeparture, getBusStopsFromJourney, getBusTrip, getActiveStops, getCurrentStop } from \"@/js/busUtils.js\";\r\nimport { getStepColor, getStepTextColor, createStepStore } from \"@/js/stepUtils.js\";\r\nimport { standardizeTimestamp, toTimeString } from \"@/js/timeUtils.js\";\r\n\r\n// Components\r\nimport InfoRow from \"@/components/InfoRow.svelte\";\r\nimport HeadSign from \"@/components/HeadSign.svelte\";\r\nimport DropDown from \"@/components/DropDown.svelte\";\r\nimport BusStop from \"@/components/RouteStep/BusStop.svelte\";\r\nimport BusTimeline from \"@/components/RouteStep/BusTimeline.svelte\";\r\n\r\n// Props\r\nexport var step;\r\n\r\n// Data\r\nconst maxTimeAfterStart = 15 * 60 * 1000; // 15 minutes. The time after which the app should stop refreshing the data because it's eather invalid or non existent\r\nconst refreshTime = 15 * 1000; // 30 seconds. The interfal at which the app will ping the server for updates after it found the trip\r\nconst checkInterval = 30 * 1000; // 30 seconds. Delay the checks should wait before trying again.\r\nconst checkStartBuffer = 5 * 60 * 1000; // 5 minutes. How many minutes before the expected departute time it should checking.\r\nconst checkEndBuffer = 5 * 50 * 1000; // 5 minutes. How many minutes it should keep checking after the exptected departure time.\r\n\r\nvar stepStore = createStepStore(step.id, {});\r\n$stepStore.maxAge = 15 * 60 * 1000; // 15 minutes;\r\n$stepStore.timestamp = Date.now();\r\n\r\nvar refreshTripTimer = setInterval(refreshBusJourney, refreshTime);\r\nvar busStop;\r\nvar busJourney;\r\nvar busJourneyFoundTimestamp;\r\n\r\n// Computed\r\n$: transitDetails = step.transit_details;\r\n$: line = transitDetails.line;\r\n$: backgroundColor = getStepColor(\"bus\", transitDetails);\r\n$: textColor = getStepTextColor(\"bus\", transitDetails);\r\n$: startTimestamp = standardizeTimestamp(transitDetails.departure_time.value);\r\n$: startTimeString = toTimeString(startTimestamp);\r\n$: endTimestamp = standardizeTimestamp(transitDetails.arrival_time.value);\r\n$: endTimeString = toTimeString(endTimestamp);\r\n$: busJourneyFound = $stepStore.busJourneyCode !== undefined;\r\n$: stops = getBusStopsFromJourney(busJourney);\r\n$: activeStops = getActiveStops(stops);\r\n$: currentStop = getCurrentStop(stops);\r\n$: currentStopText = getCurrentStopText(currentStop);\r\n$: console.log($stepStore, busJourneyFound);\r\n\r\n// Functions\r\nasync function refreshBusJourney() {\r\n    if (Date.now() - busJourneyFoundTimestamp > maxTimeAfterStart) {\r\n        if (refreshTripTimer) clearInterval(refreshTripTimer);\r\n        return;\r\n    }\r\n\r\n    if (busJourneyFound) {\r\n        busJourney = await getBusTrip($stepStore.busJourneyCode);\r\n    }\r\n}\r\n\r\nfunction getCurrentStopText(currentStop) {\r\n    if (!currentStop) return \"Geen live data\";\r\n\r\n    if (currentStop.TripStopStatus === \"ARRIVED\") {\r\n        return `Aangekomen op ${currentStop.TimingPointName}`;\r\n    } else { // Driving\r\n        return `Rijd naar ${currentStop.TimingPointName}`;\r\n    }\r\n}\r\n\r\n// On create\r\nonMount(async () => {\r\n    // Get the location of the busstop and meta data from server\r\n    var { lat, lng } = step.start_location;\r\n    busStop = await getBusStop(lat, lng);\r\n    \r\n    // Early exit if the journeyCode is found in local storage\r\n    if (busJourneyFound) {\r\n        busJourneyFoundTimestamp = Date.now();\r\n\r\n        // Do an initial check\r\n        refreshBusJourney();\r\n    }\r\n\r\n    // Recursive function for finding the departure\r\n    const checkDeparture = delay => {\r\n        setTimeout(async () => {\r\n            if (Date.now() - startTimestamp > checkEndBuffer) return false;\r\n\r\n            busStop = await getBusStop(lat, lng);\r\n            var departures = findDeparture(step.transit_details.departure_time.value, line.short_name, busStop.Passes);\r\n\r\n            if (departures.length > 0) {\r\n                $stepStore.busJourneyCode = departures[0].key;\r\n                busJourneyFoundTimestamp = Date.now();\r\n                queueMicrotask(refreshBusJourney);\r\n            } else {\r\n                checkDeparture(checkInterval);\r\n            }\r\n        }, delay);\r\n    }\r\n\r\n    var now = Date.now();\r\n    var startCheckAfter = startTimestamp - now - checkStartBuffer;\r\n\r\n    // Do a check now if there is a wait and start the timer\r\n    if (startCheckAfter > 0) checkDeparture(0);\r\n    checkDeparture(startCheckAfter);\r\n});\r\n\r\n// On destroy\r\nonDestroy(() => {\r\n    clearInterval(refreshTripTimer);\r\n});\r\n</script>","<span class=\"mdi mdi-swap-horizontal\"></span> {durationInMinutes} {minuteText}\r\n\r\n<script>\r\n// Props\r\nexport var step;\r\n\r\n// Computed\r\n$: durationInMinutes = Math.round(step.duration.value / 60);\r\n$: minuteText = durationInMinutes > 1 ? \"minuten\" : \"minuut\";\r\n</script>","import Walking from \"@/components/RouteStep/Walking.svelte\";\r\nimport Train from \"@/components/RouteStep/Train.svelte\";\r\nimport Bus from \"@/components/RouteStep/Bus.svelte\";\r\nimport PlatformChange from \"@/components/RouteStep/PlatformChange.svelte\";\r\n\r\nimport { cleanupCache } from \"@/js/dataUtils.js\";\r\nimport { prepareStoreLinked } from \"@/js/storeUtils.js\";\r\nimport { writable } from \"svelte/store\";\r\n\r\nconst stepTypeComponentMap = {\r\n    walking: Walking,\r\n    train: Train,\r\n    bus: Bus,\r\n    platformChange: PlatformChange,\r\n}\r\n\r\nexport function getStepInfoComponent(stepType) {\r\n    return stepTypeComponentMap[stepType];\r\n}\r\n\r\nexport function getStepType(step) {\r\n    if (step.stepType !== undefined) return step.stepType;\r\n\r\n    var travelMode = step.travel_mode.toLowerCase();\r\n\r\n    if (travelMode === \"transit\") {\r\n        var htmlInstructions = step.html_instructions.toLowerCase();\r\n\r\n        if (htmlInstructions.includes(\"bus\")) {\r\n            return \"bus\";\r\n        } else if (htmlInstructions.includes(\"train\")) {\r\n            return \"train\";\r\n        }\r\n    } else {\r\n        return travelMode;\r\n    }\r\n}\r\n\r\nexport function getStepColor(stepType, transitDetails) {\r\n    if (typeof stepType !== \"string\") {\r\n        transitDetails = stepType.transit_details;\r\n        stepType = getStepType(stepType);\r\n    }\r\n\r\n    if (stepType === \"walking\" || stepType === \"platformChange\") return \"var(--stepWalkingColor)\";\r\n\r\n    if (stepType === \"bus\") {\r\n        return transitDetails.line.color;\r\n    }\r\n\r\n    if (stepType === \"train\") {\r\n        var trainType = getTrainType(transitDetails);\r\n\r\n        if (trainType === \"intercity\") {\r\n            return \"var(--stepTrainIntercityColor)\";\r\n        } else {\r\n            return \"var(--stepTrainSprinterColor)\";\r\n        }\r\n    }\r\n}\r\n\r\nexport function getStepTextColor(stepType, transitDetails) {\r\n    if (stepType === \"walking\" || stepType === \"platformChange\") return \"\";\r\n\r\n    if (stepType === \"bus\") {\r\n        return transitDetails.line.text_color;\r\n    }\r\n\r\n    if (stepType === \"train\") {\r\n        var trainType = getTrainType(transitDetails);\r\n\r\n        if (trainType === \"intercity\") {\r\n            return \"var(--stepTrainIntercityTextColor)\";\r\n        } else {\r\n            return \"var(--stepTrainSprinterTextColor)\";\r\n        }\r\n    }\r\n}\r\n\r\nexport function getStepIcon(step) {\r\n    var type = getStepType(step);\r\n\r\n    if (type === \"walking\") return \"walk\";\r\n\r\n    return type.toLowerCase();\r\n}\r\n\r\nexport function getStepBorderStyle(step) {\r\n    var stepType = getStepType(step);\r\n\r\n    if (stepType === \"bus\") return \"dashed\";\r\n    else if (stepType === \"train\") return \"solid\";\r\n    else return \"dotted\";\r\n}\r\n\r\nexport function getStepBorderStyling(step) {\r\n    return `border-style: ${getStepBorderStyle(step)};\r\n    border-color: ${getStepColor(step)};`\r\n}\r\n\r\nexport function getTrainType(transitDetails) {\r\n    return transitDetails.line.short_name.toLowerCase();\r\n}\r\n\r\nexport function createStepStore(storeName, data = {}) {\r\n    var store = writable({\r\n        ...data,\r\n    });\r\n\r\n    prepareStoreLinked(store, \"store_\" + storeName);\r\n\r\n    return store;\r\n}","'use strict'\n\n/**\n * @id quickHash\n * @function quickHash\n * Murmur hash optimized for performance, not collision avoidance.\n * @param {string} key - the string to hash\n * @param {number} seed - a seed for hashing\n * @returns {string} hashOfKey - A string of 5 to 7 alpha-numeric characters\n */\nmodule.exports = function (key, seed) {\n  var remainder, bytes, h1, h1b, c1, c2, k1, i\n  seed = 1\n  remainder = key.length & 3 // key.length % 4\n  bytes = key.length - remainder\n  h1 = seed\n  c1 = 0xcc9e2d51\n  c2 = 0x1b873593\n  i = 0\n\n  while (i < bytes) {\n    k1 =\n      ((key.charCodeAt(i) & 0xff)) |\n      ((key.charCodeAt(++i) & 0xff) << 8) |\n      ((key.charCodeAt(++i) & 0xff) << 16) |\n      ((key.charCodeAt(++i) & 0xff) << 24)\n    ++i\n\n    k1 = ((((k1 & 0xffff) * c1) + ((((k1 >>> 16) * c1) & 0xffff) << 16))) & 0xffffffff\n    k1 = (k1 << 15) | (k1 >>> 17)\n    k1 = ((((k1 & 0xffff) * c2) + ((((k1 >>> 16) * c2) & 0xffff) << 16))) & 0xffffffff\n\n    h1 ^= k1\n    h1 = (h1 << 13) | (h1 >>> 19)\n    h1b = ((((h1 & 0xffff) * 5) + ((((h1 >>> 16) * 5) & 0xffff) << 16))) & 0xffffffff\n    h1 = (((h1b & 0xffff) + 0x6b64) + ((((h1b >>> 16) + 0xe654) & 0xffff) << 16))\n  }\n\n  k1 = 0\n\n  // @todo: replace with if else (faster)\n  switch (remainder) {\n    case 3: k1 ^= (key.charCodeAt(i + 2) & 0xff) << 16 //eslint-disable-line\n    case 2: k1 ^= (key.charCodeAt(i + 1) & 0xff) << 8 //eslint-disable-line\n    case 1: k1 ^= (key.charCodeAt(i) & 0xff) //eslint-disable-line\n      k1 = (((k1 & 0xffff) * c1) + ((((k1 >>> 16) * c1) & 0xffff) << 16)) & 0xffffffff\n      k1 = (k1 << 15) | (k1 >>> 17)\n      k1 = (((k1 & 0xffff) * c2) + ((((k1 >>> 16) * c2) & 0xffff) << 16)) & 0xffffffff\n      h1 ^= k1\n  }\n\n  h1 ^= key.length\n\n  h1 ^= h1 >>> 16\n  h1 = (((h1 & 0xffff) * 0x85ebca6b) + ((((h1 >>> 16) * 0x85ebca6b) & 0xffff) << 16)) & 0xffffffff\n  h1 ^= h1 >>> 13\n  h1 = ((((h1 & 0xffff) * 0xc2b2ae35) + ((((h1 >>> 16) * 0xc2b2ae35) & 0xffff) << 16))) & 0xffffffff\n  h1 ^= h1 >>> 16\n\n  return (h1 >>> 0).toString(36)\n}\n","import decodePolyline from \"decode-google-map-polyline\";\r\nimport { writable } from \"svelte/store\";\r\nimport { prepareStoreLinked } from \"@/js/storeUtils\";\r\nimport { getStepType } from \"@/js/stepUtils\";\r\nimport { locationStore, locationIsValid } from \"@/js/locationUtils.js\";\r\nimport quickHash from \"quick-hash\";\r\n\r\nexport const routeStore = writable({});\r\n\r\nprepareStoreLinked(routeStore, \"currentRoute\");\r\n\r\nexport function getGlobalPolyline() {\r\n    return getSteps()\r\n        .map(step => {\r\n            var points = decodePolyline(step.polyline.points);\r\n\r\n            return points.map(point => {\r\n                return {\r\n                    ...point,\r\n                    step,\r\n                }\r\n            });\r\n        })\r\n        .flat(1);\r\n}\r\n\r\nexport function getSteps() {\r\n    if (Object.keys(routeStore.get()).length === 0) return [];\r\n\r\n    return processSteps(routeStore.get().legs[0].steps);\r\n}\r\n\r\nexport function startRoute(route) {\r\n    endRoute();\r\n\r\n    // Done to make sure svelte re-renders the UI\r\n    queueMicrotask(() => {\r\n        routeStore.set(route);\r\n    });\r\n}\r\n\r\nexport function endRoute() {\r\n    routeStore.set({});\r\n}\r\n\r\nexport function processSteps(steps) {\r\n    // Add step type to every step\r\n    steps = steps.map((step, index) => {\r\n        return {\r\n            ...step,\r\n            index,\r\n            stepType: getStepType(step),\r\n            travelMode: step.travel_mode.toLowerCase(),\r\n            id: quickHash(JSON.stringify(step)),\r\n        }\r\n    });\r\n\r\n    // Filter's out intermediary walking steps\r\n    steps = steps.map((step, index) => {\r\n        var lastStep = null;\r\n        var nextStep = null;\r\n\r\n        if (index > 0) {\r\n            lastStep = steps[index - 1];\r\n        }\r\n\r\n        if (index < steps.length - 1) {\r\n            nextStep = steps[index + 1];\r\n        }\r\n\r\n        // Filters out any walking steps that show 2 minutes\r\n        var shouldFilter = Math.round(step.duration.value / 120) === 1;\r\n\r\n        if (step.stepType === \"walking\" && shouldFilter && lastStep && nextStep) {\r\n            if (lastStep.travelMode === \"transit\" && nextStep.travelMode === \"transit\") {\r\n                return {\r\n                    ...step,\r\n                    stepType: \"platformChange\"\r\n                };\r\n            }\r\n        }\r\n\r\n        return step;\r\n    });\r\n\r\n    return steps;\r\n}\r\n\r\nexport function getCurrentStep() {\r\n    if (getSteps().length === 0 || !locationIsValid()) return 9999999;\r\n\r\n    var { lat, long } = locationStore.get();\r\n    var polyline = getGlobalPolyline();\r\n    \r\n    polyline = polyline.map(location => {\r\n        var locationLat = location.lat;\r\n        var locationLong = location.lng;\r\n\r\n        var differenceLat = lat - locationLat;\r\n        var differenceLong = long - locationLong;\r\n\r\n        var distance = Math.sqrt(differenceLat ** 2 + differenceLong ** 2);\r\n\r\n        return {\r\n            ...location,\r\n            distance,\r\n        }\r\n    })\r\n    .sort((a, b) => a.distance - b.distance);\r\n\r\n    return polyline[0].step;\r\n}","{#if isCurrentStep && firstStep}\r\n    <svelte:component this={LayoutCenter}>\r\n        <div class=\"routeStep firstStep {travelMode} {stepType}\" style=\"border-color: {borderColor};\"></div>\r\n    </svelte:component>\r\n{/if}\r\n<svelte:component this={currentLayout}>\r\n    <div class=\"routeStep {travelMode} {isCurrentStep && \"current\"} {stepType}\" style=\"border-color: {borderColor};\">\r\n        <svelte:component this={stepInfoComponent} {step} />\r\n    </div>\r\n</svelte:component>\r\n{#if isCurrentStep && lastStep}\r\n    <svelte:component this={LayoutCenter}>\r\n        <div class=\"routeStep firstStep {travelMode} {stepType}\" style=\"border-color: {borderColor};\"></div>\r\n    </svelte:component>\r\n{/if}\r\n\r\n<script>\r\nimport { getStepColor, getStepTextColor, getStepType, getStepInfoComponent } from \"@/js/stepUtils.js\";\r\nimport { onMount } from \"svelte\";\r\nimport { locationStore } from \"@/js/locationUtils.js\";\r\nimport { getCurrentStep, routeStore, getSteps } from \"@/js/routeUtils.js\";\r\nimport { toTimeString } from \"@/js/timeUtils.js\";\r\n\r\n// Components\r\nimport LayoutCenter from \"@/components/Layout/LayoutCenter.svelte\";\r\nimport LayoutExpanded from \"@/components/Layout/LayoutExpanded.svelte\";\r\n\r\n// Props\r\nexport var step;\r\n\r\n// Computed\r\n$: travelMode = step.travel_mode.toLowerCase();\r\n$: transitDetails = travelMode === \"transit\" ? step.transit_details : {};\r\n$: stepType = getStepType(step);\r\n$: borderColor = getStepColor(stepType, transitDetails);\r\n$: textColor = getStepTextColor(stepType, transitDetails);\r\n$: stepInfoComponent = getStepInfoComponent(stepType);\r\n$: isCurrentStep = getIsCurrentStep($locationStore);\r\n$: firstStep = step.index === 0;\r\n$: lastStep = step.index === getSteps().length - 1;\r\n$: currentLayout = isCurrentStep ? LayoutExpanded : LayoutCenter;\r\n\r\n// Functions\r\nfunction getIsCurrentStep() {\r\n    var currentStep = getCurrentStep();\r\n    return currentStep.index === step.index;\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n.routeStep {\r\n    min-height: 16px;\r\n    // width: calc(95% - 32px - 62px);\r\n\r\n    padding: 16px 16px;\r\n    margin: 0 auto;\r\n\r\n    border: 0;\r\n    border-left: 2px var(--stepWalkingStyle) var(--stepWalkingColor);\r\n\r\n    &.firstStep {\r\n        min-height: 10px;\r\n        padding: 0px 16px;\r\n    }\r\n\r\n    &.walking {\r\n        border-style: var(--stepWalkingStyle);\r\n    }\r\n\r\n    &.transit {\r\n        &.bus {\r\n            border-style: var(--stepBusStyle);\r\n        }\r\n\r\n        &.train {\r\n            border-style: var(--stepTrainStyle);\r\n        }\r\n    }\r\n\r\n    &.current {\r\n        // width: calc(95% - 32px - 30px);\r\n\r\n        padding: 16px;\r\n        border-radius: 10px;\r\n\r\n        border: 0;\r\n        box-shadow: var(--defaultBoxShadow);\r\n    }\r\n}\r\n\r\n</style>","<div class=\"buttonContainer\" style=\"grid-template-columns: repeat({buttons}, 1fr);\">\r\n    <slot />\r\n</div>\r\n\r\n<script>\r\n// Props\r\nexport var buttons = 1;\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n.buttonContainer {\r\n    width: calc(95% - 62px);\r\n    \r\n    margin: 16px auto;\r\n\r\n    display: grid;\r\n    grid-template-rows: 32px;\r\n    grid-gap: 16px;\r\n}\r\n\r\n</style>","<button on:click={clickEvent}>\r\n    {#if iconPresent}\r\n        <span class=\"mdi mdi-{icon}\"></span>\r\n    {/if}\r\n    <slot />\r\n</button>\r\n\r\n<script>\r\nimport { createEventDispatcher } from \"svelte\";\r\nconst dispatch = createEventDispatcher();\r\n\r\n// Props\r\nexport var icon = null;\r\n\r\n// Computed\r\n$: iconPresent = icon !== null;\r\n\r\n// Function\r\nfunction clickEvent() {\r\n    dispatch(\"click\");\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\nbutton {\r\n    width: 100%;\r\n\r\n    margin: 0;\r\n\r\n    background-color: transparent;\r\n    border: 1px solid var(--foregroundColor);\r\n    border-radius: 5px;\r\n    font-weight: 700;\r\n    color: var(--foregroundColor);\r\n    line-height: 16px;\r\n    box-sizing: border-box;\r\n    cursor: pointer;\r\n\r\n    &:hover {\r\n        background-color: var(--foregroundColor);\r\n        color: var(--backgroundColor);\r\n    }\r\n\r\n    span {\r\n        font-size: 18px;\r\n        line-height: 16px;\r\n    }\r\n}\r\n\r\n</style>","<div class=\"routeGuide\">\r\n    {#if started}\r\n        <div class=\"tripStartInfo\">\r\n            <p><span class=\"mdi mdi-flag\"></span> Vertrek om <b>{departureTime}</b></p>\r\n        </div>\r\n        {#each steps as step}\r\n            <Step {step} />\r\n        {/each}\r\n        <div class=\"tripStartInfo\">\r\n            <p><span class=\"mdi mdi-flag-checkered\"></span> Aankomst om <b>{arrivalTime}</b></p>\r\n        </div>\r\n    {:else}\r\n        <LayoutCenter>\r\n            <EmptyState>Geen route gestart</EmptyState>\r\n        </LayoutCenter>\r\n    {/if}\r\n</div>\r\n<ButtonContainer buttons={1}>\r\n    {#if started}\r\n        <Button on:click={endRoute} icon=\"stop-circle-outline\">Stop route</Button>\r\n    {/if}\r\n</ButtonContainer>\r\n\r\n<script>\r\nimport { startLocation } from \"@/js/locationUtils.js\";\r\nimport { toTimeString } from \"@/js/timeUtils.js\";\r\n\r\n// Components\r\nimport Step from \"@/components/Step.svelte\";\r\nimport ButtonContainer from \"@/components/ButtonContainer.svelte\";\r\nimport Button from \"@/components/Button.svelte\";\r\nimport EmptyState from \"@/components/EmptyState.svelte\";\r\nimport LayoutCenter from \"@/components/Layout/LayoutCenter.svelte\";\r\n\r\n// Stores\r\nimport { routeStore, getSteps, endRoute } from \"@/js/routeUtils.js\";\r\n\r\n// Computed\r\n$: steps = getSteps($routeStore);\r\n$: started = steps.length > 0;\r\n$: leg = started ? $routeStore.legs[0] : {};\r\n$: departureTime = started ? toTimeString(leg.departure_time.value) : \"\";\r\n$: arrivalTime = started ? toTimeString(leg.arrival_time.value) : \"\";\r\n\r\n// On create\r\nstartLocation();\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n.tripStartInfo {\r\n    width: calc(95% - 48px);\r\n    margin: 8px auto;\r\n\r\n    p {\r\n        margin: 0;\r\n\r\n        span {\r\n            font-size: 18px;\r\n            margin-right: 8px;\r\n        }\r\n    }\r\n}\r\n\r\n.routeGuide {\r\n    width: 100%;\r\n\r\n    padding: 16px 0;\r\n    \r\n    & > :global(.emptyState) {\r\n        width: calc(95% - 32px - 30px);\r\n    }\r\n}\r\n\r\n</style>","import { writableLinked } from \"@/js/storeUtils.js\";\r\nimport { locationStore, getDirectDistance } from \"@/js/locationUtils.js\";\r\n\r\nexport const addressStore = writableLinked(\"addresses\", {\r\n    home: {\r\n        name: \"Huis\",\r\n        icon: \"home-outline\",\r\n        canBeDeleted: false,\r\n        address: \"\",\r\n        location: {\r\n            lat: 0,\r\n            long: 0,\r\n        },\r\n    },\r\n    work: {\r\n        name: \"Werk\",\r\n        icon: \"briefcase-outline\",\r\n        canBeDeleted: false,\r\n        address: \"\",\r\n        location: {\r\n            lat: 0,\r\n            long: 0,\r\n        },\r\n    },\r\n});\r\n\r\nconst autoAddress = {\r\n    name: \"Auto\",\r\n    id: \"auto\",\r\n    icon: \"arrow-decision-auto-outline\",\r\n    canBeDeleted: false,\r\n    get address() {\r\n        return getAutoLocation().address + \" (auto)\";\r\n    },\r\n    location: {\r\n        lat: 0,\r\n        long: 0,\r\n    },\r\n}\r\n\r\nconst currentLocationAddress = {\r\n    name: \"Huidige locatie\",\r\n    id: \"currentLocation\",\r\n    icon: \"crosshairs-gps\",\r\n    canBeDeleted: false,\r\n    address: \"Gebruik GPS locatie\",\r\n    location: {\r\n        lat: 0,\r\n        long: 0,\r\n    },\r\n}\r\n\r\nexport function getAddressById(id) {\r\n    if (id === \"auto\") {\r\n        return getAutoLocation();\r\n    } else if (id === \"currentLocation\") {\r\n        let instance = { ...currentLocationAddress };\r\n        instance.location = locationStore.get();\r\n\r\n        return instance;\r\n    } else {\r\n        let addresses = addressStore.get();\r\n        let match = addresses[id];\r\n\r\n        return match;\r\n    }\r\n}\r\n\r\nexport function getAutoLocation() {\r\n    var addresses = addressStore.get();\r\n    var home = addresses.home;\r\n    var work = addresses.work\r\n\r\n    home.id = \"home\";\r\n    work.id = \"work\";\r\n\r\n    var homeLocation = home.location;\r\n    var workLocation = work.location;\r\n    var currentLocation = locationStore.get();\r\n\r\n    var directDistanceHome = getDirectDistance(homeLocation, currentLocation);\r\n    var directDistanceWork = getDirectDistance(workLocation, currentLocation);\r\n\r\n    console.log(directDistanceHome, directDistanceWork);\r\n\r\n    return directDistanceHome < directDistanceWork ? addresses.home : addresses.work;\r\n}\r\n\r\nexport function getAddresses() {\r\n    var addresses = addressStore.get();\r\n\r\n    return Object.entries(addresses)\r\n        .map(([key, value]) => {\r\n            return {\r\n                canBeDeleted: true,\r\n                id: key,\r\n                ...value,\r\n            }\r\n        });\r\n}\r\n\r\nexport function getCompleteAddressMap() {\r\n    return {\r\n        ...addressStore.get(),\r\n        currentLocation: currentLocationAddress,\r\n        auto: autoAddress,\r\n    }\r\n}\r\n\r\nexport function getOriginAddresses() {\r\n    return [\r\n        ...getAddresses(),\r\n        currentLocationAddress,\r\n    ]\r\n}\r\n\r\nexport function getDestinationAddresses() {\r\n    return [\r\n        ...getAddresses(),\r\n        autoAddress,\r\n    ]\r\n}\r\n\r\nexport function matchLocationFromId(id) {\r\n    var address = getAddressById(id);\r\n    if (address) return address.location;\r\n}","import { addressStore, matchLocationFromId, getAutoLocation, getAddressById } from \"@/js/addressUtils.js\";\r\nimport { locationStore, getDirectDistance, isValidPosition } from \"@/js/locationUtils.js\";\r\nimport { writable, writableLinked } from \"@/js/storeUtils.js\";\r\nimport { serverRequest } from \"@/js/dataUtils.js\";\r\n\r\n// Stores\r\nexport const fromIdStore = writableLinked(\"fromId\", \"currentLocation\");\r\nexport const toIdStore = writableLinked(\"toId\", \"auto\");\r\n\r\nexport const availableTripsStore = writable([]);\r\nexport const currentRouteMode = writable({\r\n    address: \"auto\",\r\n});\r\n\r\n// Functions\r\nexport async function getCurrentRouteTrip() {\r\n    var location = locationStore.get();\r\n    var addresses = addressStore.get();\r\n\r\n    var directDistanceHome = getDirectDistance(location, addresses.home.location)\r\n}\r\n\r\nexport async function doSearch(fromId = fromIdStore.get(), toId = toIdStore.get()) {\r\n    console.log(\"a\", { fromId, toId })\r\n    var response = await getTripsFromIds(fromId, toId);\r\n    \r\n    if (response === undefined || response.routes === undefined) return [];\r\n    if (response.status !== \"OK\") return [];\r\n\r\n    try {\r\n        availableTripsStore.set(response.routes);\r\n    } catch(e) {\r\n        return [];\r\n    }\r\n}\r\n\r\nexport async function getTripsFromIds(fromId, toId) {\r\n    if (fromId === toId) return;\r\n\r\n    console.log({ fromId, toId });\r\n\r\n    var fromLocation = matchLocationFromId(fromId);\r\n    var toLocation = matchLocationFromId(toId);\r\n\r\n    return await getTrips(fromLocation, toLocation);\r\n}\r\n\r\nexport function getTrips(startLocation, endLocation) {\r\n    if (!isValidPosition(startLocation)) return;\r\n    if (!isValidPosition(endLocation)) return;\r\n\r\n    return new Promise((res, rej) => {\r\n        serverRequest(`/trips?fromLatLong=${startLocation.lat},${startLocation.long}&toLatLong=${endLocation.lat},${endLocation.long}`)\r\n            .then(trips => {\r\n                res(trips);\r\n            })\r\n            .catch(rej);\r\n    });\r\n}\r\n\r\nvar locationWatcher;\r\nvar firstCorrectLocation = true;\r\nvar currentAutoRoute = null;\r\nexport function startAutoPlanner() {\r\n    locationWatcher = locationStore.subscribe(currentPosition => {\r\n        if (!currentPosition || !isValidPosition(currentPosition)) return;\r\n\r\n        if (toIdStore.get() === \"auto\") {\r\n            let autoRoute = getAutoLocation().id;\r\n            \r\n            if (currentAutoRoute === null || currentAutoRoute !== autoRoute) {\r\n                console.log(\"a\", autoRoute);\r\n                doSearch(fromIdStore.get(), autoRoute);\r\n            }\r\n\r\n            currentAutoRoute = autoRoute;\r\n        } else {\r\n            doSearch();\r\n        }\r\n    });\r\n}\r\n\r\nexport function stopAutoPlanner() {\r\n    locationWatcher();\r\n}\r\n\r\nexport function getTripFromAddress() {\r\n    var id = fromIdStore.get();\r\n    return getAddressById(id);\r\n}\r\n\r\nexport function getTripToAddress() {\r\n    var id = toIdStore.get();\r\n    return getAddressById(id);\r\n}","<div class=\"tripOverviewBar\">\r\n    {#each steps as step}\r\n        <div class=\"tripSection\" style=\"{getStyle(step)}\"></div>\r\n    {/each}\r\n</div>\r\n\r\n<script>\r\nimport { getStepBorderStyle, getStepColor } from \"@/js/stepUtils.js\";\r\n\r\n// Props\r\nexport var steps;\r\nconsole.log(steps);\r\n\r\n// Functions\r\nfunction getStyle(step) {\r\n    return `width: ${getWidth(step)}%;\r\n    border-color: ${getStepColor(step)};\r\n    border-style: ${getStepBorderStyle(step)}`;\r\n}\r\n\r\nfunction getWidth(step) {\r\n    var stepDuration = step.duration.value;\r\n    var totalTime = steps.reduce((acc, step) => acc + step.duration.value, 0);\r\n    \r\n    return (stepDuration / totalTime) * 100;\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n.tripOverviewBar {\r\n    height: 2px;\r\n    width: 100%;\r\n\r\n    .tripSection {\r\n        height: 0px;\r\n\r\n        float: left;\r\n\r\n        border: 0;\r\n        border-top: 2px dotted var(--lowContrastColor);\r\n    }\r\n}\r\n\r\n</style>","<button on:click={clickEvent}>\r\n    <span class=\"mdi mdi-{icon}\"></span>\r\n    <slot />\r\n</button>\r\n\r\n<script>\r\nimport { createEventDispatcher } from \"svelte\";\r\nconst dispatch = createEventDispatcher();\r\n\r\n// Props\r\nexport var icon = \"\";\r\n\r\n// Function\r\nfunction clickEvent() {\r\n    dispatch(\"click\");\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\nbutton {\r\n    margin: 0;\r\n\r\n    background-color: transparent;\r\n    border: 0;\r\n    border-radius: 5px;\r\n    color: var(--foregroundColor);\r\n    line-height: 16px;\r\n\r\n    span {\r\n        font-size: 18px;\r\n        line-height: 16px;\r\n    }\r\n}\r\n\r\n</style>","<div class=\"stepSmall\" style={styling}>\r\n    <p><span class=\"mdi mdi-{icon}\"></span> {step.html_instructions}</p>\r\n</div>\r\n\r\n<script>\r\nimport { getStepBorderStyling, getStepIcon } from \"@/js/stepUtils.js\";\r\n\r\n// Props\r\nexport var step;\r\n\r\n// Computed\r\n$: styling = getStepBorderStyling(step);\r\n$: icon = getStepIcon(step);\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n.stepSmall {\r\n    width: 100%;\r\n\r\n    padding: 8px;\r\n\r\n    border: 0;\r\n    border-left: 2px dotted #ffffff;\r\n\r\n    p {\r\n        margin: 0;\r\n\r\n        font-size: 14px;\r\n    }\r\n}\r\n\r\n</style>","<svelte:component this={currentLayout}>\r\n    <div class=\"trip {openClass}\">\r\n        <InfoRow>\r\n            <span slot=\"left\">{endName}</span>\r\n        </InfoRow>\r\n        <InfoRow>\r\n            <span slot=\"left\">\r\n                {#if hasDepartureTime}\r\n                    {departureTimeString}\r\n                {/if}\r\n            </span>\r\n            <span class=\"tripIcons\" slot=\"center\">\r\n                {#each icons as icon}\r\n                    <span class=\"mdi mdi-{icon}\"></span>\r\n                {/each}\r\n            </span>\r\n            <span slot=\"right\">\r\n                {#if hasArrivalTime}\r\n                    {arrivalTimeString}\r\n                {/if}\r\n            </span>\r\n        </InfoRow>\r\n        <TripOverviewBar {steps} />\r\n        <div class=\"buttons\">\r\n            <SoftButton on:click=\"{() => loadTrip(trip)}\" icon=\"play-circle-outline\">\r\n                Start\r\n            </SoftButton>\r\n            <SoftButton icon={toggleOpenButtonIcon} on:click={toggleOpen}>\r\n                {#if !open}\r\n                    Meer Info\r\n                {:else}\r\n                    Minder Info\r\n                {/if}\r\n            </SoftButton>\r\n        </div>\r\n        {#if open}\r\n            <div class=\"tripSteps\">\r\n                {#each leg.steps as step}\r\n                    <StepSmall {step} />\r\n                {/each}\r\n            </div>\r\n        {/if}\r\n    </div>\r\n</svelte:component>\r\n\r\n<script>\r\nimport { standardizeTimestamp, toTimeString } from \"@/js/timeUtils.js\";\r\nimport { getStepIcon } from \"@/js/stepUtils.js\";\r\nimport { processSteps, startRoute } from \"@/js/routeUtils.js\";\r\n\r\n// Components\r\nimport InfoRow from \"@/components/InfoRow.svelte\";\r\nimport TripOverviewBar from \"@/components/TripOverviewBar.svelte\";\r\nimport SoftButton from \"@/components/SoftButton.svelte\";\r\nimport StepSmall from \"@/components/StepSmall.svelte\";\r\nimport TripStepDetail from \"@/components/TripStepDetail.svelte\";\r\nimport LayoutCenter from \"@/components/Layout/LayoutCenter.svelte\";\r\nimport LayoutExpanded from \"@/components/Layout/LayoutExpanded.svelte\";\r\n\r\n// Props\r\nexport var trip;\r\nconsole.log(trip);\r\n\r\n// Data\r\nvar open = false;\r\n\r\n// Computed\r\n$: leg = trip.legs[0];\r\n$: lastStep = leg.steps[leg.steps.length - 1];\r\n$: endName = getEndName(leg);\r\n$: hasDepartureTime = leg.departure_time !== undefined;\r\n$: hasArrivalTime = leg.arrival_time !== undefined;\r\n$: departureTimetamp = hasDepartureTime ? standardizeTimestamp(leg.departure_time.value) : 0;\r\n$: arrivalTimetamp = hasArrivalTime ? standardizeTimestamp(leg.arrival_time.value) : 0;\r\n$: departureTimeString = toTimeString(departureTimetamp);\r\n$: arrivalTimeString = toTimeString(arrivalTimetamp);\r\n$: steps = processSteps(leg.steps);\r\n$: openClass = open ? \"open\" : \"\";\r\n$: toggleOpenButtonIcon = !open ? \"plus-circle-outline\" : \"minus-circle-outline\"\r\n$: icons = getTripIcons(steps);\r\n$: currentLayout = open ? LayoutExpanded : LayoutCenter;\r\n\r\n// Functions\r\nfunction getEndName(leg) {\r\n    var address = leg.end_address.split(\", \");\r\n    address.pop();\r\n    address.pop();\r\n    return address.join(\", \");\r\n}\r\n\r\nfunction getTripIcons(steps) {\r\n    return steps\r\n        .map(step => getStepIcon(step));\r\n}\r\n\r\nfunction loadTrip(trip) {\r\n    document.querySelector(\"main\").scrollTo(0, 0);\r\n\r\n    startRoute(trip);\r\n}\r\n\r\nfunction toggleOpen() {\r\n    open = !open;\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n.trip {\r\n    padding: 8px 0;\r\n    margin: 8px auto;\r\n    box-sizing: border-box;\r\n\r\n    &.open {\r\n        // width: calc(95% - 32px);\r\n\r\n        padding: 24px 16px;\r\n\r\n        border-radius: 10px;\r\n        box-shadow: var(--defaultBoxShadow);\r\n    }\r\n\r\n    .buttons {\r\n        width: 100%;\r\n\r\n        margin: 8px 0;\r\n\r\n        display: inline-block;\r\n\r\n        & > :global(button) {\r\n            width: 50%;\r\n\r\n            float: left;\r\n        }\r\n    }\r\n\r\n    .tripSteps :global(.routeStep) {\r\n        width: calc(100% - 16px);\r\n    }\r\n}\r\n\r\n.tripIcons {\r\n    font-size: 18px;\r\n}\r\n\r\n</style>","<div class=\"addressRouteHeader\" on:click={onClick}>\r\n    <div class=\"iconWrapper\">\r\n        <span class=\"mdi mdi-{address.icon}\"></span>\r\n    </div>\r\n    <div class=\"textWrapper\">\r\n        <p class=\"name\">{address.name}</p>\r\n        <p class=\"address\">{address.address}</p>\r\n    </div>\r\n</div>\r\n\r\n<script>\r\n// Imports\r\nimport { createEventDispatcher } from \"svelte\";\r\nconst dispatch = createEventDispatcher();\r\n\r\n// Props\r\nexport var address = {};\r\n\r\n// Functions\r\nfunction onClick() {\r\n    dispatch(\"click\");\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n.addressRouteHeader {\r\n    height: 48px;\r\n    width: 100%;\r\n\r\n    display: flex;\r\n    flex-direction: row;\r\n\r\n    .iconWrapper {\r\n        width: 48px;\r\n\r\n        flex-grow: 0;\r\n        flex-shrink: 0;\r\n\r\n        span {\r\n            position: relative;\r\n            display: block;\r\n            top: 50%;\r\n            left: 50%;\r\n            transform: translate(-50%, -50%);\r\n\r\n            text-align: center;\r\n            font-size: 24px;\r\n        }\r\n    }\r\n\r\n    .textWrapper {\r\n        position: relative;\r\n        flex-grow: 1;\r\n        flex-shrink: 1;\r\n\r\n        overflow: hidden;\r\n\r\n        p {\r\n            width: 100%;\r\n\r\n            margin: 0;\r\n\r\n            &.name {\r\n                position: absolute;\r\n                top: 4px;\r\n\r\n                font-weight: 700;\r\n                font-size: 18px;\r\n            }\r\n\r\n            &.address {\r\n                position: absolute;\r\n                bottom: 4px;\r\n\r\n                white-space: nowrap;\r\n                overflow: hidden;\r\n                text-overflow: ellipsis;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n</style>","<div on:click={onClick} class=\"addressRouteOption\">\r\n    <div class=\"iconWrapper\">\r\n        <span class=\"mdi mdi-{address.icon}\"></span>\r\n    </div>\r\n    <div class=\"textWrapper\">\r\n        <h4>{address.address}</h4>\r\n    </div>\r\n</div>\r\n\r\n<script>\r\n// Imports\r\nimport { createEventDispatcher } from \"svelte\";\r\nconst dispatch = createEventDispatcher();\r\n\r\n// Props\r\nexport var address;\r\n\r\n// Functions\r\nfunction onClick() {\r\n    dispatch(\"click\");\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n$height: 40px;\r\n\r\n.addressRouteOption {\r\n    height: $height;\r\n    width: 100%;\r\n\r\n    display: flex;\r\n    flex-direction: row;\r\n\r\n    cursor: pointer;\r\n\r\n    .iconWrapper {\r\n        height: 100%;\r\n        width: $height;\r\n\r\n        flex-grow: 0;\r\n        flex-shrink: 0;\r\n\r\n        span {\r\n            display: block;\r\n            position: relative;\r\n            top: 50%;\r\n            left: 50%;\r\n            transform: translate(-50%, -50%);\r\n\r\n            text-align: center;\r\n            font-size: 22px;\r\n        }\r\n    }\r\n\r\n    .textWrapper {\r\n        height: 100%;\r\n\r\n        flex-grow: 1;\r\n        flex-shrink: 1;\r\n\r\n        h4 {\r\n            display: block;\r\n            margin: 0;\r\n            position: relative;\r\n            top: 50%;\r\n            transform: translateY(-50%);\r\n\r\n            font-size: 14px;\r\n            font-weight: 500;\r\n        }\r\n    }\r\n}\r\n\r\n</style>","<div class=\"divider\"></div>\r\n<h6><span>{text}</span></h6>\r\n\r\n<script>\r\n// Props\r\nexport var text = \"\";\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n.divider {\r\n    width: 100%;\r\n    height: 1px;\r\n\r\n    margin: 8px auto;\r\n\r\n    background-color: var(--foregroundColor);\r\n}\r\n\r\nh6 {\r\n    margin: 0;\r\n    margin-top: -15px;\r\n\r\n    text-align: center;\r\n    font-size: 12px;\r\n\r\n    span {\r\n        display: inline-block;\r\n        padding: 0 8px;\r\n\r\n        background-color: var(--backgroundColor);\r\n    }\r\n}\r\n\r\n</style>","<p on:click={toggleDropdown}><span class=\"mdi mdi-chevron-{open ? \"up\" : \"down\"}\"></span> {text}</p>\r\n{#if open}\r\n    <div class=\"dropDownContent\" in:fly={flyDown}>\r\n        <slot />\r\n    </div>\r\n{/if}\r\n\r\n<script>\r\n// Imports\r\nimport { fly } from \"svelte/transition\";\r\nimport { flyDown } from \"@/js/defaultTransitions.js\";\r\n\r\n// Props\r\nexport var text = \"Meer Info\";\r\nexport var open = false;\r\n\r\n// Functions\r\nfunction toggleDropdown() {\r\n    open = !open;\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\np {\r\n    margin-top: 4px;\r\n    margin-bottom: 20px;\r\n\r\n    text-align: center;\r\n    font-size: 14px;\r\n\r\n    cursor: pointer;\r\n}\r\n\r\n</style>","<section>\r\n    {#if !selectOriginOpen}\r\n        <div in:fly=\"{flyUp}\">\r\n            <AddressRouteHeader address={selectedOrigin} on:click={() => selectOriginOpen = true} />\r\n        </div>\r\n    {/if}\r\n    <SmallDropDown text=\"Selecteer startlocatie\" bind:open={selectOriginOpen}>\r\n        {#each originAddresses as address}\r\n            <AddressRouteOption {address} on:click=\"{() => selectOriginAddress(address.id)}\" />\r\n        {/each}\r\n    </SmallDropDown>\r\n\r\n    <LabelDivider text=\"Naar\" />\r\n\r\n    {#if !selectDestinationOpen}\r\n        <div in:fly=\"{flyUp}\">\r\n            <AddressRouteHeader address={selectedDestination} on:click={() => selectDestinationOpen = true} />\r\n        </div>\r\n    {/if}\r\n    <SmallDropDown text=\"Selecteer bestemming\" bind:open={selectDestinationOpen}>\r\n        {#each destinationAddresses as address}\r\n            <AddressRouteOption {address} on:click=\"{() => selectDestinationAddress(address.id)}\" />\r\n        {/each}\r\n    </SmallDropDown>\r\n    \r\n    <Button icon=\"magnify\" on:click={searchTrips}>Zoek</Button>\r\n</section>\r\n\r\n<script>\r\n// Imports\r\nimport { addressStore, getCompleteAddressMap, getOriginAddresses, getDestinationAddresses } from \"@/js/addressUtils.js\";\r\nimport { fromIdStore, toIdStore, doSearch } from \"@/js/tripUtils.js\";\r\nimport { createEventDispatcher } from \"svelte\";\r\nimport { fly } from \"svelte/transition\";\r\nimport { flyUp } from \"@/js/defaultTransitions.js\";\r\n\r\nconst dispatch = createEventDispatcher();\r\n\r\n// Components\r\nimport LayoutExpanded from \"@/components/Layout/LayoutExpanded.svelte\";\r\nimport AddressRouteHeader from \"@/components/AddressRouteHeader.svelte\";\r\nimport AddressRouteOption from \"@/components/AddressRouteOption.svelte\";\r\nimport LabelDivider from \"@/components/LabelDivider.svelte\";\r\nimport SmallDropDown from \"@/components/SmallDropDown.svelte\";\r\nimport Button from \"@/components/Button.svelte\";\r\n\r\n// Data\r\nvar selectOriginOpen = false;\r\nvar selectDestinationOpen = false;\r\nvar selectedOriginAddressId = \"currentLocation\";\r\nvar selectedDestinationAddressId = \"auto\";\r\n\r\n// Computed\r\n$: addressMap = getCompleteAddressMap($addressStore);\r\n$: originAddresses = getOriginAddresses($addressStore);\r\n$: destinationAddresses = getDestinationAddresses($addressStore);\r\n$: selectedOrigin = addressMap[selectedOriginAddressId];\r\n$: selectedDestination = addressMap[selectedDestinationAddressId];\r\n\r\n// Functions\r\nfunction selectOriginAddress(id) {\r\n    selectedOriginAddressId = id;\r\n    selectOriginOpen = false;\r\n}\r\n\r\nfunction selectDestinationAddress(id) {\r\n    selectedDestinationAddressId = id;\r\n    selectDestinationOpen = false;\r\n}\r\n\r\nfunction searchTrips() {\r\n    doSearch();\r\n    dispatch(\"search\");\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\nsection {\r\n    margin: 16px auto;\r\n}\r\n\r\n:global(.addressRouteHeader) {\r\n    cursor: pointer;\r\n}\r\n\r\n.optionLayout {\r\n    width: calc(100% - 16px);\r\n\r\n    margin: 0 auto;\r\n}\r\n\r\nlabel {\r\n    margin-bottom: 4px;\r\n}\r\n\r\nselect {\r\n    width: 100%;\r\n\r\n    margin-bottom: 16px;\r\n    padding: .4em;\r\n    box-sizing: border-box;\r\n\r\n    outline: 0;\r\n    border: 1px solid var(--textColor);\r\n    border-radius: var(--defaultBorderRadius);\r\n    background-color: transparent;\r\n    font-weight: 700;\r\n}\r\n\r\n</style>","<section class=\"trips\">\r\n    <LayoutCenter>\r\n        {#if !showResults}\r\n            <TripComposer on:search={onSearch} />\r\n        {/if}\r\n    </LayoutCenter>\r\n    {#if showResults}\r\n        <LayoutCenter>\r\n            <Button on:click={redoSearch}>Zoek opnieuw</Button>\r\n        </LayoutCenter>\r\n        {#each $availableTripsStore as trip}\r\n            <Trip {trip} />\r\n        {:else}\r\n            <LayoutCenter>\r\n                <EmptyState>Geen routes gevonden</EmptyState>\r\n            </LayoutCenter>\r\n        {/each}\r\n    {/if}\r\n</section>\r\n\r\n<script>\r\n// Stores\r\nimport { availableTripsStore, startAutoPlanner, getTripFromAddress, getTripToAddress } from \"@/js/tripUtils.js\";\r\nimport { addressStore } from \"@/js/addressUtils.js\";\r\n\r\n// Components\r\nimport Trip from \"@/components/Trip.svelte\";\r\nimport LayoutCenter from \"@/components/Layout/LayoutCenter.svelte\";\r\nimport EmptyState from \"@/components/EmptyState.svelte\";\r\nimport TripComposer from \"@/components/TripComposer.svelte\";\r\nimport Popup from \"@/components/Popup.svelte\";\r\nimport Button from \"@/components/Button.svelte\";\r\n\r\n// Data\r\nvar showResults = false;\r\n\r\n// Computed\r\n$: fromAddress = getTripFromAddress($availableTripsStore);\r\n$: toAddress = getTripFromAddress($availableTripsStore);\r\n\r\n// Function\r\nfunction onSearch() {\r\n    showResults = true;\r\n}\r\n\r\nfunction redoSearch() {\r\n    showResults = false;\r\n}\r\n\r\n// On create\r\nstartAutoPlanner();\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\nsection {\r\n    padding-bottom: 16px;\r\n}\r\n\r\n.trips {\r\n    width: 100%;\r\n\r\n    margin: 0 auto;\r\n\r\n    header {\r\n        position: relative;\r\n        margin-bottom: 16px;\r\n\r\n        button {\r\n            height: 100%;\r\n\r\n            position: absolute;\r\n            top: 0;\r\n            right: 0;\r\n            margin: 0;\r\n            padding: 0;\r\n\r\n            background-color: transparent;\r\n            border: 0;\r\n            color: var(--textColor);\r\n        }\r\n    }\r\n}\r\n\r\nh3 {\r\n    margin: 16px auto;\r\n    margin-bottom: 4px;\r\n}\r\n\r\nh6 {\r\n    margin: 0 auto;\r\n    margin-bottom: 16px;\r\n\r\n    font-size: 16px;\r\n    font-weight: 100;\r\n    color: var(--lowContrastColor);\r\n}\r\n\r\n</style>","<div class=\"container\">\r\n    {#if !hasGPS}\r\n        <p><span class=\"mdi mdi-crosshairs-question\"></span> Locatie kan niet worden gevonden</p>\r\n    {/if}\r\n    {#if !online}\r\n        <p><span class=\"mdi mdi-wifi-strength-alert-outline\"></span> Je bent offline. Gegevens worden niet bijgewerkt</p>\r\n    {/if}\r\n    <RouteGuide />\r\n    <Divider />\r\n    <TripList />\r\n</div>\r\n\r\n<script>\r\nimport { startRoute } from \"@/js/routeUtils.js\";\r\nimport { serverRequest } from \"@/js/dataUtils.js\";\r\nimport { locationStore, locationIsValid } from \"@/js/locationUtils.js\";\r\n\r\n// Components\r\nimport RouteGuide from \"@/components/RouteGuide.svelte\";\r\nimport TripList from \"@/components/TripList.svelte\";\r\nimport Divider from \"@/components/Divider.svelte\";\r\nimport InfoRow from \"@/components/InfoRow.svelte\";\r\n\r\n// Data\r\nvar online = navigator.onLine || true;\r\n\r\n// Computed\r\n$: hasGPS = locationIsValid($locationStore);\r\n\r\nwindow.addEventListener(\"online\", () => online = true);\r\nwindow.addEventListener(\"offline\", () => online = false);\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\np {\r\n    width: calc(95% - 32px);\r\n    margin: 16px auto;\r\n\r\n    text-align: center;\r\n    font-weight: 700;\r\n    color: var(--errorColor);\r\n}\r\n\r\n</style>","export default function clickOutside(node, onEventFunction) {\r\n    const isNestedChild = (parent, child) => {\r\n        var currentNode = child;\r\n\r\n        while (currentNode !== null) {\r\n            if (currentNode.parentNode === parent) {\r\n                return true;\r\n            } else {\r\n                currentNode = currentNode.parentNode;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    const handleClick = event => {\r\n        var { target } = event;\r\n\r\n        if (!node.isSameNode(target) && !isNestedChild(node, target)) {\r\n            onEventFunction();\r\n        }\r\n    }\r\n\r\n    document.addEventListener(\"click\", handleClick);\r\n\r\n    return {\r\n        destroy() {\r\n            document.removeEventListener(\"click\", handleClick);\r\n        }\r\n    }\r\n}","<input type=\"text\" placeholder=\"Zoek locatie\" bind:value={query} on:keydown={onKeyPress} />\r\n{#each results as result}\r\n    <div class=\"result\" on:click={() => chooseResult(result)}>\r\n        <p>{result.properties.search}</p>\r\n    </div>\r\n{/each}\r\n\r\n<script>\r\nimport { createEventDispatcher } from \"svelte\";\r\nconst dispatch = createEventDispatcher();\r\n\r\n// Props\r\nexport var addressString;\r\nexport var coordinates = {\r\n    lat: 0,\r\n    long: 0,\r\n};\r\n\r\n// Data\r\nvar query = \"\";\r\nvar results = [];\r\nvar timer;\r\n\r\n// Functions\r\nfunction onKeyPress() {\r\n    const timeoutValue = 1000;\r\n    if (timer) clearTimeout(timer);\r\n\r\n    timer = setTimeout(async () => {\r\n        var response = await fetch(`https://1313.nl/geocoder/${query}*`)\r\n            .then(r => r.json());\r\n\r\n        results = response.features;\r\n    }, timeoutValue);\r\n}\r\n\r\nfunction chooseResult(result) {\r\n    var [long, lat] = result.geometry.coordinates;\r\n\r\n    query = result.properties.search;\r\n    addressString = query;\r\n\r\n    coordinates.lat = lat;\r\n    coordinates.long = long;\r\n\r\n    coordinates = coordinates;\r\n    dispatch(\"choise\");\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\ninput {\r\n    width: 100%;\r\n\r\n    margin: 0;\r\n\r\n    outline: 0;\r\n    border: 2px solid var(--lowContrastColor);\r\n    border-radius: 5px;\r\n}\r\n\r\n.result {\r\n    width: calc(90% - 16px);\r\n\r\n    padding: 8px;\r\n    margin: 0 auto;\r\n\r\n    border-left: 2px dashed var(--lowContrastColor);\r\n\r\n    p {\r\n        margin: 0;\r\n    }\r\n}\r\n\r\n</style>","<AddressSearchBar bind:coordinates={address.location} bind:addressString={address.address} on:choise={refresh} />\r\n\r\n<script>\r\n// Stores\r\nimport { addressStore } from \"@/js/addressUtils.js\";\r\n\r\n// Components\r\nimport AddressSearchBar from \"@/components/AddressSearchBar.svelte\";\r\n\r\n// Props\r\nexport var address;\r\n\r\n// Computed\r\n$: id = address.id;\r\n\r\n// Functions\r\nfunction refresh() {\r\n    $addressStore[id] = address;\r\n}\r\n</script>","<div class=\"address {currentTab !== \"\" ? \"tabOpen\" : \"\"}\" use:outsideClick={closeTab}>\r\n    <h3 class=\"header\">\r\n        <span class=\"mdi mdi-{address.icon}\"></span>\r\n        {address.name}\r\n    </h3>\r\n    <InfoRow>\r\n        <span slot=\"left\"><span class=\"mdi mdi-road-variant\"></span> {physicalAddress}</span>\r\n    </InfoRow>\r\n    <div class=\"buttons\">\r\n        <SoftButton icon=\"pencil\" on:click={() => openTab(\"changeAddress\")}>Pas aan</SoftButton>\r\n        <SoftButton icon=\"format-list-numbered\">Regels</SoftButton>\r\n    </div>\r\n    {#if currentTab === \"changeAddress\"}\r\n        <div class=\"expandable\">\r\n            <AddressEditor bind:address={address} />\r\n        </div>\r\n    {/if}\r\n</div>\r\n\r\n<script>\r\nimport outsideClick from \"svelte-outside-click\";\r\n\r\n// Components\r\nimport AddressEditor from \"@/components/AddressEditor.svelte\";\r\nimport InfoRow from \"@/components/InfoRow.svelte\";\r\nimport SoftButton from \"@/components/SoftButton.svelte\";\r\nimport ButtonContainer from \"@/components/ButtonContainer.svelte\";\r\n\r\n// Props\r\nexport var address;\r\n\r\n// Data\r\nvar currentTab = \"\";\r\n\r\n// Computed\r\n$: physicalAddress = address.address ? address.address : \"(geen address ingesteld)\";\r\n\r\n// Functions\r\nfunction openTab(tab) {\r\n    currentTab = tab;\r\n}\r\n\r\nfunction closeTab() {\r\n    currentTab = \"\";\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n.address {\r\n    width: calc(95% - 32px - 16px);\r\n\r\n    padding: 8px;\r\n    margin: 16px auto;\r\n\r\n    border-radius: 10px;\r\n\r\n    &.tabOpen {\r\n        border: 2px solid #000000;\r\n    }\r\n}\r\n\r\n.header {\r\n    margin: 0;\r\n    margin-bottom: 2px;\r\n\r\n    text-align: left;\r\n\r\n    // & > span {\r\n    //     display: inline-block;\r\n    //     padding: 4px 8px;\r\n\r\n    //     border: 2px solid #000000;\r\n    //     border-radius: 6px;\r\n    // }\r\n}\r\n\r\n.buttons {\r\n    width: 100%;\r\n\r\n    margin: 0px 0;\r\n\r\n    display: inline-block;\r\n\r\n    & > :global(button) {\r\n        width: 50%;\r\n\r\n        float: left;\r\n    }\r\n}\r\n\r\n.expandable {\r\n    padding: 8px 0;\r\n}\r\n\r\n</style>","{#each addresses as address}\r\n    <Address bind:address={address} on:change={onChange} />\r\n{/each}\r\n\r\n<script>\r\nimport { getAddresses, addressStore } from \"@/js/addressUtils.js\";\r\n\r\n// Components\r\nimport Address from \"@/components/Address.svelte\";\r\n\r\n// Computed\r\n$: addresses = getAddresses($addressStore);\r\n\r\n// Functions\r\nfunction onChange() {\r\n    \r\n}\r\n</script>","import DashboardView from \"@/views/DashboardView.svelte\";\r\nimport AddressView from \"@/views/AddressView.svelte\";\r\n\r\nexport default {\r\n    \"/\": DashboardView,\r\n    \"/addressbook\": AddressView,\r\n}","<main>\r\n    <Header />\r\n    {#if loading}\r\n        <h6>Loading</h6>\r\n    {:else}\r\n        <Router {routes} />\r\n    {/if}\r\n</main>\r\n\r\n<script>\r\nimport { registerServiceWorker } from \"@/js/serviceWorkerUtils.js\";\r\nimport { preloadAssets } from \"@/js/dataUtils.js\";\r\n\r\n// Components\r\nimport Header from \"@/components/Header.svelte\";\r\nimport Spinner from \"@/components/Spinner.svelte\";\r\nimport Router from \"svelte-spa-router\";\r\n\r\n// Data\r\nimport routes from \"@/routes.js\";\r\nvar loading = true;\r\n\r\n// Create\r\n// registerServiceWorker();\r\npreloadAssets()\r\n    .then(() => loading = false);\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import \"./global.scss\";\r\n\r\n// :root {\r\n    \r\n// }\r\n\r\nmain {\r\n    height: 100%;\r\n    width: 100%;\r\n\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n    background-color: var(--backgroundColor);\r\n\r\n    // Standard color options\r\n    --backgroundColor: #ffffff;\r\n    --foregroundColor: #000000;\r\n    --textColor: var(--foregroundColor);\r\n    --errorColor: #ff3030;\r\n    --accentColor: #006cb4;\r\n    --scimColor: #cecece6e;\r\n\r\n    --lowContrastColor: #919191;\r\n    --defaultBoxShadow: 0 0 9px #d4d4d4;\r\n    --defaultBorderRadius: 5px;\r\n\r\n    --stepWalkingColor: #9b9b9b;\r\n    --stepTrainIntercityColor: #ffc917;\r\n    --stepTrainIntercityTextColor: #000000;\r\n    --stepTrainSprinterColor: #2196f3;\r\n    --stepTrainSprinterTextColor: #ffffff;\r\n    --stepWalkingStyle: dotted;\r\n    --stepBusStyle: dashed;\r\n    --stepTrainStyle: solid;\r\n\r\n    --stepBusPassed: #915700;\r\n    --stepBusCurrent: #008f00;\r\n\r\n    --liveDataActive: #00ad00;\r\n\r\n    &.dark {\r\n        --backgroundColor: #161616;\r\n        --foregroundColor: #dadada;\r\n        --scimColor: #4e4e4e6e;\r\n\r\n        --lowContrastColor: #363636;\r\n        --defaultBoxShadow: 0 0 9px #000000;\r\n    }\r\n}\r\n\r\n:global(html) {\r\n    font-family: \"Roboto\", sans-serif;\r\n}\r\n\r\nh6 {\r\n    position: relative;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    margin: 0;\r\n\r\n    text-align: center;\r\n    font-size: 32px;\r\n}\r\n</style>","import App from \"./App.svelte\";\r\n\r\nconst app = new App({\r\n\ttarget: document.body\r\n});\r\n\r\nexport default app;"],"names":["noop","identity","x","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","subscribe","store","callbacks","unsub","unsubscribe","component_subscribe","component","callback","$$","on_destroy","push","create_slot","definition","ctx","$$scope","slot_ctx","get_slot_context","tar","src","k","assign","slice","get_slot_changes","dirty","lets","undefined","merged","len","Math","max","length","i","null_to_empty","value","set_store_value","ret","set","is_client","window","now","performance","Date","raf","cb","requestAnimationFrame","tasks","Set","run_tasks","task","c","delete","f","size","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","d","element","name","document","createElement","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","removeAttribute","getAttribute","setAttribute","set_data","set_input_value","input","set_style","key","important","style","setProperty","custom_event","type","detail","e","createEvent","initCustomEvent","stylesheet","current_component","active","current_rules","delete_rule","animation","split","filter","anim","indexOf","join","cssRules","deleteRule","set_current_component","get_current_component","Error","onMount","on_mount","onDestroy","createEventDispatcher","call","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","add_render_callback","add_flush_callback","flushing","seen_callbacks","flush","update","pop","has","add","clear","fragment","before_update","p","after_update","promise","dispatch","direction","kind","dispatchEvent","outroing","outros","group_outros","r","check_outros","transition_in","block","local","transition_out","o","null_transition","duration","create_in_transition","params","animation_name","config","running","uid","cleanup","go","delay","easing","tick","css","ease","step","keyframes","t","rule","str","hash","charCodeAt","head","sheet","insertRule","create_rule","start_time","end_time","abort","fulfill","[object Object]","loop","started","then","bind","index","props","bound","create_component","mount_component","m","new_on_destroy","map","destroy_component","make_dirty","fill","init","instance","create_fragment","not_equal","parent_component","prop_values","context","Map","ready","rest","hydrate","l","Array","from","childNodes","children","intro","SvelteComponent","this","$destroy","splice","subscriber_queue","readable","start","writable","stop","subscribers","new_value","run_queue","s","invalidate","subscriber","derived","stores","initial_value","single","isArray","stores_array","auto","inited","values","pending","sync","result","unsubscribers","prepareStore","get","resultValue","getList","_","arrayPush","item","items","arrayRemove","prepareStoreLinked","storeLocation","defaultData","storeData","localData","localStorage","getItem","JSON","parse","stringify","setItem","linkStore","storeWritable","writableLinked","location","stationCodes","stationCodesSearchable","stationLocations","stationsFullDetails","preloadUrl","url","res","rej","fetch","json","catch","err","async","serverRequest","endpoint","maxAge","keys","timestamp","removeItem","cleanupCache","icon","getLocation","hashPosition","href","substr","qsPosition","querystring","loc","$loc","routes","prefix","RouteItem","path","_sveltesparouter","charAt","RegExp","pattern","loose","tmp","ext","arr","shift","substring","regexparam","route","conditions","userData","_pattern","_keys","startsWith","matches","exec","out","routesList","componentParams","dispatchNextTick","setTimeout","match","checkConditions","isCurrentPage","$location","pushRoute","menuOpen","polyline","Ya","min","Za","w","E","lat","lng","floor","g","n","h","decodePath","el","Number","toFixed","durationInMinutes","round","minuteText","toTimeString","standardizeTimestamp","toFixedLength","getHours","getMinutes","String","locationStore","long","locationWatcher","locationIsValid","isValidPosition","position","getDirectDistance","positionA","positionB","positionAValid","positionBValid","Infinity","differenceLat","abs","differenceLong","sqrt","facilityIconMap","WIFI","TOILET","STILTE","FIETS","STROOM","getFacilityIcon","facility","getFullDetailsByCode","code","stations","station","getFullDetailsByLocation","getStationCodeByLocation","stationCode","directDistance","sort","LiveTrainLocation","observers","observer","tripNumber","super","timer","refreshInterval","clearTimer","clearInterval","setInterval","response","console","log","locations","trainLocation","closestStation","backgroundColor","textColor","cubicOut","fly","y","opacity","getComputedStyle","target_opacity","transform","od","u","flyDown","flyUp","open","short_name","departure_stop","arrival_stop","materieeldelen","afbeelding","headsign","lengte","materieelnummer","faciliteiten","stepStore","createStepStore","id","$stepStore","trainData","trainTrip","liveData","liveMessage","trainDataStatus","refreshTrip","tripRefreshCode","refreshTrainTrip","stopCodes","stops","getStopCodes","legs","coords","refreshTimer","points","closestPoint","point","directDifference","snelheid","namen","middel","error","tripData","transit_details","trip_short_name","startLocation","start_location","endLocation","end_location","startStation","endStation","trips","trip","some","leg","includes","getTrainTrip","destroy","transitDetails","line","getStepColor","getStepTextColor","startTimestamp","departure_time","startTimeString","endTimestamp","arrival_time","endTimeString","tripLoaded","trainTripLeg","originPlatform","origin","plannedTrack","destinationPlatform","destination","exitDirection","exitSide","cancelled","liveDataAvailable","getBusStop","busStops","getCurrentStop","isCurrentStop","current","TimingPointName","status","TripStopStatus","getIcon","busStop","busJourney","busJourneyFoundTimestamp","refreshTripTimer","refreshBusJourney","busJourneyFound","getBusTrip","busJourneyCode","checkDeparture","searchDepartureTime","expectedNumber","passes","departures","Passes","entries","pass","agency","localAuthority","linePlanningNumber","journeyNumber","fortifyOrderNumber","departureTimeStamp","ExpectedArrivalTime","getTime","differenceToExpectedTime","differenceToCurrentTime","passedExpectedTimeDifference","passedCurrentTimeDifference","queueMicrotask","startCheckAfter","journey","Stops","foundCurrent","getBusStopsFromJourney","activeStops","currentStop","last","nextOne","nextTwo","getActiveStops","currentStopText","getCurrentStopText","stepTypeComponentMap","walking","train","bus","platformChange","getStepType","stepType","travelMode","travel_mode","toLowerCase","htmlInstructions","html_instructions","color","getTrainType","text_color","getStepIcon","getStepBorderStyle","storeName","seed","remainder","bytes","h1","h1b","c1","c2","k1","toString","routeStore","getSteps","processSteps","steps","endRoute","quickHash","lastStep","nextStep","shouldFilter","getCurrentStep","decodePolyline","flat","locationLat","locationLong","distance","LayoutCenter","borderColor","stepInfoComponent","getStepInfoComponent","isCurrentStep","firstStep","currentLayout","LayoutExpanded","buttons","iconPresent","navigator","geolocation","watchPosition","latitude","longitude","$routeStore","departureTime","arrivalTime","addressStore","home","canBeDeleted","address","work","autoAddress","getAutoLocation","currentLocationAddress","getAddressById","addresses","homeLocation","workLocation","currentLocation","directDistanceHome","directDistanceWork","getAddresses","matchLocationFromId","fromIdStore","toIdStore","availableTripsStore","doSearch","fromId","toId","fromLocation","toLocation","getTrips","getTripsFromIds","currentAutoRoute","getTripFromAddress","stepDuration","totalTime","reduce","acc","getWidth","styling","getStepBorderStyling","loadTrip","querySelector","scrollTo","getEndName","end_address","getTripIcons","endName","hasDepartureTime","hasArrivalTime","departureTimetamp","arrivalTimetamp","departureTimeString","arrivalTimeString","openClass","toggleOpenButtonIcon","icons","selectOriginOpen","selectDestinationOpen","selectedOriginAddressId","selectedDestinationAddressId","selectOriginAddress","selectDestinationAddress","addressMap","originAddresses","destinationAddresses","selectedOrigin","selectedDestination","showResults","currentPosition","autoRoute","fromAddress","toAddress","online","onLine","hasGPS","clickOutside","onEventFunction","handleClick","isSameNode","parent","child","currentNode","isNestedChild","properties","search","addressString","coordinates","query","results","chooseResult","geometry","clearTimeout","features","$addressStore","action_result","currentTab","openTab","tab","physicalAddress","onChange","/","/addressbook","loading","all","preloadAssets","body"],"mappings":"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"}