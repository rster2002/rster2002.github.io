{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../node_modules/svelte/store/index.mjs","../../src/js/storeUtils.js","../../src/js/dataUtils.js","../../src/components/HeaderButton.svelte","../../node_modules/svelte-spa-router/Router.svelte","../../node_modules/regexparam/dist/regexparam.mjs","../../src/components/MenuButton.svelte","../../src/components/Header.svelte","../../node_modules/decode-google-map-polyline/index.js","../../src/components/RouteStep/Walking.svelte","../../src/js/timeUtils.js","../../src/js/locationUtils.js","../../src/js/trainUtils.js","../../src/js/observable.js","../../src/components/HeadSign.svelte","../../src/components/DropDown.svelte","../../src/components/RouteStep/Train.svelte","../../src/js/busUtils.js","../../src/components/RouteStep/Stop.svelte","../../src/components/RouteStep/BusStop.svelte","../../src/components/RouteStep/Bus.svelte","../../src/components/RouteStep/PlatformChange.svelte","../../src/js/stepUtils.js","../../node_modules/quick-hash/lib/index.js","../../src/js/routeUtils.js","../../src/components/Step.svelte","../../src/components/ButtonContainer.svelte","../../src/components/Button.svelte","../../src/components/RouteGuide.svelte","../../src/components/TripOverviewBar.svelte","../../src/components/SoftButton.svelte","../../src/components/StepSmall.svelte","../../src/components/Trip.svelte","../../src/components/TripList.svelte","../../src/views/DashboardView.svelte","../../src/js/addressUtils.js","../../node_modules/svelte-outside-click/index.js","../../src/components/AddressSearchBar.svelte","../../src/components/AddressEditor.svelte","../../src/components/Address.svelte","../../src/views/AddressView.svelte","../../src/routes.js","../../src/App.svelte","../../src/js/serviceWorkerUtils.js","../../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value' || descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group) {\n    const value = [];\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.push(group[i].__value);\n    }\n    return value;\n}\nfunction to_number(value) {\n    return value === '' ? undefined : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            let j = 0;\n            while (j < node.attributes.length) {\n                const attribute = node.attributes[j];\n                if (attributes[attribute.name]) {\n                    j++;\n                }\n                else {\n                    node.removeAttribute(attribute.name);\n                }\n            }\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.data !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    if (value != null || input.value) {\n        input.value = value;\n    }\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\nfunction add_resize_listener(element, fn) {\n    if (getComputedStyle(element).position === 'static') {\n        element.style.position = 'relative';\n    }\n    const object = document.createElement('object');\n    object.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\n    object.setAttribute('aria-hidden', 'true');\n    object.type = 'text/html';\n    object.tabIndex = -1;\n    let win;\n    object.onload = () => {\n        win = object.contentDocument.defaultView;\n        win.addEventListener('resize', fn);\n    };\n    if (/Trident/.test(navigator.userAgent)) {\n        element.appendChild(object);\n        object.data = 'about:blank';\n    }\n    else {\n        object.data = 'about:blank';\n        element.appendChild(object);\n    }\n    return {\n        cancel: () => {\n            win && win.removeEventListener && win.removeEventListener('resize', fn);\n            element.removeChild(object);\n        }\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(html, anchor = null) {\n        this.e = element('div');\n        this.a = anchor;\n        this.u(html);\n    }\n    m(target, anchor = null) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(target, this.n[i], anchor);\n        }\n        this.t = target;\n    }\n    u(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    p(html) {\n        this.d();\n        this.u(html);\n        this.m(this.t, this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\n\nlet stylesheet;\nlet active = 0;\nlet current_rules = {};\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    if (!current_rules[name]) {\n        if (!stylesheet) {\n            const style = element('style');\n            document.head.appendChild(style);\n            stylesheet = style.sheet;\n        }\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ``}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    node.style.animation = (node.style.animation || '')\n        .split(', ')\n        .filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    )\n        .join(', ');\n    if (name && !--active)\n        clear_rules();\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        let i = stylesheet.cssRules.length;\n        while (i--)\n            stylesheet.deleteRule(i);\n        current_rules = {};\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error(`Function called outside component initialization`);\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            info.blocks[i] = null;\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\n\nconst globals = (typeof window !== 'undefined' ? window : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error(`Cannot have duplicate keys in a keyed each`);\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += \" \" + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += \" \" + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${String(value).replace(/\"/g, '&#34;').replace(/'/g, '&#39;')}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : ``;\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const prop_values = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, prop_values, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if ($$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(children(options.target));\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set() {\n            // overridden by instance, if it has props\n        }\n    };\n}\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set() {\n        // overridden by instance, if it has props\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.19.2' }, detail)));\n}\nfunction append_dev(target, node) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev(\"SvelteDOMRemove\", { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? [\"capture\"] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev(\"SvelteDOMAddEventListener\", { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev(\"SvelteDOMRemoveEventListener\", { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev(\"SvelteDOMRemoveAttribute\", { node, attribute });\n    else\n        dispatch_dev(\"SvelteDOMSetAttribute\", { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev(\"SvelteDOMSetProperty\", { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev(\"SvelteDOMSetDataset\", { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.data === data)\n        return;\n    dispatch_dev(\"SvelteDOMSetData\", { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(`'target' is a required option`);\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn(`Component was already destroyed`); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error(`Infinite loop detected`);\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal';\nexport { get_store_value as get } from '../internal';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe,\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = [];\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (let i = 0; i < subscribers.length; i += 1) {\n                    const s = subscribers[i];\n                    s[1]();\n                    subscriber_queue.push(s, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.push(subscriber);\n        if (subscribers.length === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            const index = subscribers.indexOf(subscriber);\n            if (index !== -1) {\n                subscribers.splice(index, 1);\n            }\n            if (subscribers.length === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","import { writable as storeWritable } from \"svelte/store\";\r\n\r\nexport function prepareStore(store) {\r\n    store.get = () => {\r\n        var resultValue = {};\r\n        var unsubscribe = store.subscribe(data => {\r\n            resultValue = data;\r\n        });\r\n\r\n        unsubscribe();\r\n        return resultValue;\r\n    }\r\n\r\n    store.getList = () => Object.values(store.get());\r\n    store.set = value => store.update(_ => value);\r\n    store.arrayPush = item => {\r\n        var items = store.get();\r\n        items.push(item);\r\n\r\n        store.set(items);\r\n    }\r\n\r\n    store.arrayRemove = item => {\r\n        var items = store.get();\r\n        var index = items.indexOf(item);\r\n\r\n        items.splice(index, 1);\r\n        store.set(items);\r\n    }\r\n}\r\n\r\nexport function linkStore(store, storeLocation) {\r\n    store.subscribe(data => {\r\n        if (data !== undefined) {\r\n            if (typeof data === \"object\") {\r\n                data = JSON.stringify(data);\r\n            }\r\n\r\n            localStorage.setItem(storeLocation, data);\r\n        }\r\n    });\r\n}\r\n\r\nexport function prepareStoreLinked(store, storeLocation, defaultData = null) {\r\n    prepareStore(store);\r\n\r\n    var storeData = store.get();\r\n    if (storeData) {\r\n        defaultData = storeData;\r\n    }\r\n\r\n    var localData = localStorage.getItem(storeLocation);\r\n\r\n    if (localData) {\r\n        if (typeof defaultData === \"object\") {\r\n            store.set(JSON.parse(localData));\r\n        } else {\r\n            store.set(localData);\r\n        }\r\n    } else {\r\n        store.set(defaultData);\r\n    }\r\n\r\n    linkStore(store, storeLocation);\r\n\r\n    return store;\r\n}\r\n\r\nexport function writable(data) {\r\n    var store = storeWritable(data);\r\n    prepareStore(store);\r\n\r\n    return store;\r\n}","import { writable } from \"@/js/storeUtils.js\";\r\n\r\nconst baseURL = \"https://aut-ns-backend.rster2002.vercel.app\";\r\n// const baseURL = \"http://localhost:5000\";\r\nconst ignoreCache = false;\r\n\r\nexport const stationCodes = writable({});\r\nexport const stationCodesSearchable = writable({});\r\nexport const stationLocations = writable({});\r\nexport const stationsFullDetails = writable({});\r\n\r\nexport async function preloadAssets() {\r\n    return Promise.all([\r\n        preloadUrl(stationCodes, \"./json/stationCodes.json\"),\r\n        preloadUrl(stationCodesSearchable, \"./json/stationCodesSearchable.json\"),\r\n        preloadUrl(stationLocations, \"./json/stationLocations.json\"),\r\n        preloadUrl(stationsFullDetails, \"./json/stationsFullDetails.json\"),\r\n    ]);\r\n}\r\n\r\nfunction preloadUrl(store, url) {\r\n    return new Promise((res, rej) => {\r\n        fetch(url).then(r => r.json())\r\n            .then(data => {\r\n                store.set(data);\r\n                res(data);\r\n            })\r\n            .catch(err => rej(err));\r\n    });\r\n}\r\n\r\nexport function cleanupCache() {\r\n    var now = Date.now();\r\n    var keys = Object.keys(localStorage);\r\n\r\n    for (var key of keys) {\r\n        try {\r\n            var data = JSON.parse(localStorage.getItem(key));\r\n\r\n            if (data.maxAge !== undefined && data.timestamp !== undefined) {\r\n                if (now - data.timestamp > data.maxAge) {\r\n                    localStorage.removeItem(key);\r\n                }\r\n            }\r\n        } catch(e) {}\r\n    }\r\n}\r\n\r\nexport async function serverRequest(endpoint, maxAge = 60000) {\r\n    var now = Date.now();\r\n    cleanupCache();\r\n\r\n    var local = localStorage.getItem(endpoint);\r\n\r\n    if (local !== null && !ignoreCache) {\r\n        let localData = JSON.parse(local);\r\n\r\n        if (now - localData.timestamp < maxAge) {\r\n            return localData;\r\n        }\r\n    }\r\n\r\n    var data = await fetch(baseURL + endpoint)\r\n        .then(r => r.json());\r\n\r\n    localStorage.setItem(endpoint, JSON.stringify({\r\n        ...data,\r\n        timestamp: now,\r\n        maxAge,\r\n    }));\r\n\r\n    return data;\r\n}","<button class=\"headerButton\" on:click={onClick}>\r\n    <span class=\"mdi mdi-{icon}\"></span>\r\n</button>\r\n\r\n<script>\r\nimport { createEventDispatcher } from \"svelte\";\r\nconst dispatch = createEventDispatcher();\r\n\r\n// Props\r\nexport var icon;\r\n\r\n// Functions\r\nfunction onClick() {\r\n    dispatch(\"click\");\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n$size: 48px;\r\n\r\n.headerButton {\r\n    height: $size;\r\n    width: $size;\r\n\r\n    background-color: transparent;\r\n    border: 0;\r\n\r\n    font-size: 24px;\r\n}\r\n\r\n</style>","<script context=\"module\">\n// Something's wrong with eslint on this file\n/* eslint-disable no-multiple-empty-lines */\n\nimport {readable, derived} from 'svelte/store'\n\n/**\n * Wraps a route to add route pre-conditions.\n * \n * @param {SvelteComponent} route - Svelte component for the route\n * @param {Object} [userData] - Optional object that will be passed to each `conditionsFailed` event\n * @param {...Function} conditions - Route pre-conditions to add, which will be executed in order\n * @returns {Object} Wrapped route\n */\nexport function wrap(route, userData, ...conditions) {\n    // Check if we don't have userData\n    if (userData && typeof userData == 'function') {\n        conditions = (conditions && conditions.length) ? conditions : []\n        conditions.unshift(userData)\n        userData = undefined\n    }\n\n    // Parameter route and each item of conditions must be functions\n    if (!route || typeof route != 'function') {\n        throw Error('Invalid parameter route')\n    }\n    if (conditions && conditions.length) {\n        for (let i = 0; i < conditions.length; i++) {\n            if (!conditions[i] || typeof conditions[i] != 'function') {\n                throw Error('Invalid parameter conditions[' + i + ']')\n            }\n        }\n    }\n\n    // Returns an object that contains all the functions to execute too\n    const obj = {route, userData}\n    if (conditions && conditions.length) {\n        obj.conditions = conditions\n    }\n\n    // The _sveltesparouter flag is to confirm the object was created by this router\n    Object.defineProperty(obj, '_sveltesparouter', {\n        value: true\n    })\n\n    return obj\n}\n\n/**\n * @typedef {Object} Location\n * @property {string} location - Location (page/view), for example `/book`\n * @property {string} [querystring] - Querystring from the hash, as a string not parsed\n */\n/**\n * Returns the current location from the hash.\n *\n * @returns {Location} Location object\n * @private\n */\nfunction getLocation() {\n    const hashPosition = window.location.href.indexOf('#/')\n    let location = (hashPosition > -1) ? window.location.href.substr(hashPosition + 1) : '/'\n\n    // Check if there's a querystring\n    const qsPosition = location.indexOf('?')\n    let querystring = ''\n    if (qsPosition > -1) {\n        querystring = location.substr(qsPosition + 1)\n        location = location.substr(0, qsPosition)\n    }\n\n    return {location, querystring}\n}\n\n/**\n * Readable store that returns the current full location (incl. querystring)\n */\nexport const loc = readable(\n    getLocation(),\n    // eslint-disable-next-line prefer-arrow-callback\n    function start(set) {\n        const update = () => {\n            set(getLocation())\n        }\n        window.addEventListener('hashchange', update, false)\n\n        return function stop() {\n            window.removeEventListener('hashchange', update, false)\n        }\n    }\n)\n\n/**\n * Readable store that returns the current location\n */\nexport const location = derived(\n    loc,\n    ($loc) => $loc.location\n)\n\n/**\n * Readable store that returns the current querystring\n */\nexport const querystring = derived(\n    loc,\n    ($loc) => $loc.querystring\n)\n\n/**\n * Navigates to a new page programmatically.\n *\n * @param {string} location - Path to navigate to (must start with `/` or '#/')\n */\nexport function push(location) {\n    if (!location || location.length < 1 || (location.charAt(0) != '/' && location.indexOf('#/') !== 0)) {\n        throw Error('Invalid parameter location')\n    }\n\n    // Execute this code when the current call stack is complete\n    setTimeout(() => {\n        window.location.hash = (location.charAt(0) == '#' ? '' : '#') + location\n    }, 0)\n}\n\n/**\n * Navigates back in history (equivalent to pressing the browser's back button).\n */\nexport function pop() {\n    // Execute this code when the current call stack is complete\n    setTimeout(() => {\n        window.history.back()\n    }, 0)\n}\n\n/**\n * Replaces the current page but without modifying the history stack.\n *\n * @param {string} location - Path to navigate to (must start with `/` or '#/')\n */\nexport function replace(location) {\n    if (!location || location.length < 1 || (location.charAt(0) != '/' && location.indexOf('#/') !== 0)) {\n        throw Error('Invalid parameter location')\n    }\n\n    // Execute this code when the current call stack is complete\n    setTimeout(() => {\n        const dest = (location.charAt(0) == '#' ? '' : '#') + location\n        history.replaceState(undefined, undefined, dest)\n\n        // The method above doesn't trigger the hashchange event, so let's do that manually\n        window.dispatchEvent(new Event('hashchange'))\n    }, 0)\n}\n\n/**\n * Svelte Action that enables a link element (`<a>`) to use our history management.\n *\n * For example:\n *\n * ````html\n * <a href=\"/books\" use:link>View books</a>\n * ````\n *\n * @param {HTMLElement} node - The target node (automatically set by Svelte). Must be an anchor tag (`<a>`) with a href attribute starting in `/`\n */\nexport function link(node) {\n    // Only apply to <a> tags\n    if (!node || !node.tagName || node.tagName.toLowerCase() != 'a') {\n        throw Error('Action \"link\" can only be used with <a> tags')\n    }\n\n    // Destination must start with '/'\n    const href = node.getAttribute('href')\n    if (!href || href.length < 1 || href.charAt(0) != '/') {\n        throw Error('Invalid value for \"href\" attribute')\n    }\n\n    // Add # to every href attribute\n    node.setAttribute('href', '#' + href)\n}\n</script>\n\n{#if componentParams}\n  <svelte:component this=\"{component}\" params=\"{componentParams}\" />\n{:else}\n  <svelte:component this=\"{component}\" />\n{/if}\n\n<script>\nimport {createEventDispatcher} from 'svelte'\nimport regexparam from 'regexparam'\n\n/**\n * Dictionary of all routes, in the format `'/path': component`.\n *\n * For example:\n * ````js\n * import HomeRoute from './routes/HomeRoute.svelte'\n * import BooksRoute from './routes/BooksRoute.svelte'\n * import NotFoundRoute from './routes/NotFoundRoute.svelte'\n * routes = {\n *     '/': HomeRoute,\n *     '/books': BooksRoute,\n *     '*': NotFoundRoute\n * }\n * ````\n */\nexport let routes = {}\n\n/**\n * Optional prefix for the routes in this router. This is useful for example in the case of nested routers.\n */\nexport let prefix = ''\n\n/**\n * Container for a route: path, component\n */\nclass RouteItem {\n    /**\n     * Initializes the object and creates a regular expression from the path, using regexparam.\n     *\n     * @param {string} path - Path to the route (must start with '/' or '*')\n     * @param {SvelteComponent} component - Svelte component for the route\n     */\n    constructor(path, component) {\n        if (!component || (typeof component != 'function' && (typeof component != 'object' || component._sveltesparouter !== true))) {\n            throw Error('Invalid component object')\n        }\n\n        // Path must be a regular or expression, or a string starting with '/' or '*'\n        if (!path || \n            (typeof path == 'string' && (path.length < 1 || (path.charAt(0) != '/' && path.charAt(0) != '*'))) ||\n            (typeof path == 'object' && !(path instanceof RegExp))\n        ) {\n            throw Error('Invalid value for \"path\" argument')\n        }\n\n        const {pattern, keys} = regexparam(path)\n\n        this.path = path\n\n        // Check if the component is wrapped and we have conditions\n        if (typeof component == 'object' && component._sveltesparouter === true) {\n            this.component = component.route\n            this.conditions = component.conditions || []\n            this.userData = component.userData\n        }\n        else {\n            this.component = component\n            this.conditions = []\n            this.userData = undefined\n        }\n\n        this._pattern = pattern\n        this._keys = keys\n    }\n\n    /**\n     * Checks if `path` matches the current route.\n     * If there's a match, will return the list of parameters from the URL (if any).\n     * In case of no match, the method will return `null`.\n     *\n     * @param {string} path - Path to test\n     * @returns {null|Object.<string, string>} List of paramters from the URL if there's a match, or `null` otherwise.\n     */\n    match(path) {\n        // If there's a prefix, remove it before we run the matching\n        if (prefix && path.startsWith(prefix)) {\n            path = path.substr(prefix.length) || '/'\n        }\n\n        // Check if the pattern matches\n        const matches = this._pattern.exec(path)\n        if (matches === null) {\n            return null\n        }\n\n        // If the input was a regular expression, this._keys would be false, so return matches as is\n        if (this._keys === false) {\n            return matches\n        }\n\n        const out = {}\n        let i = 0\n        while (i < this._keys.length) {\n            out[this._keys[i]] = matches[++i] || null\n        }\n        return out\n    }\n\n    /**\n     * Dictionary with route details passed to the pre-conditions functions, as well as the `routeLoaded` and `conditionsFailed` events\n     * @typedef {Object} RouteDetail\n     * @property {SvelteComponent} component - Svelte component\n     * @property {string} name - Name of the Svelte component\n     * @property {string} location - Location path\n     * @property {string} querystring - Querystring from the hash\n     * @property {Object} [userData] - Custom data passed by the user\n     */\n\n    /**\n     * Executes all conditions (if any) to control whether the route can be shown. Conditions are executed in the order they are defined, and if a condition fails, the following ones aren't executed.\n     * \n     * @param {RouteDetail} detail - Route detail\n     * @returns {bool} Returns true if all the conditions succeeded\n     */\n    checkConditions(detail) {\n        for (let i = 0; i < this.conditions.length; i++) {\n            if (!this.conditions[i](detail)) {\n                return false\n            }\n        }\n\n        return true\n    }\n}\n\n// Set up all routes\nconst routesList = []\nif (routes instanceof Map) {\n    // If it's a map, iterate on it right away\n    routes.forEach((route, path) => {\n        routesList.push(new RouteItem(path, route))\n    })\n}\nelse {\n    // We have an object, so iterate on its own properties\n    Object.keys(routes).forEach((path) => {\n        routesList.push(new RouteItem(path, routes[path]))\n    })\n}\n\n// Props for the component to render\nlet component = null\nlet componentParams = null\n\n// Event dispatcher from Svelte\nconst dispatch = createEventDispatcher()\n\n// Just like dispatch, but executes on the next iteration of the event loop\nconst dispatchNextTick = (name, detail) => {\n    // Execute this code when the current call stack is complete\n    setTimeout(() => {\n        dispatch(name, detail)\n    }, 0)\n}\n\n// Handle hash change events\n// Listen to changes in the $loc store and update the page\n$: {\n    // Find a route matching the location\n    component = null\n    let i = 0\n    while (!component && i < routesList.length) {\n        const match = routesList[i].match($loc.location)\n        if (match) {\n            const detail = {\n                component: routesList[i].component,\n                name: routesList[i].component.name,\n                location: $loc.location,\n                querystring: $loc.querystring,\n                userData: routesList[i].userData\n            }\n\n            // Check if the route can be loaded - if all conditions succeed\n            if (!routesList[i].checkConditions(detail)) {\n                // Trigger an event to notify the user\n                dispatchNextTick('conditionsFailed', detail)\n                break\n            }\n            component = routesList[i].component\n            // Set componentParams onloy if we have a match, to avoid a warning similar to `<Component> was created with unknown prop 'params'`\n            // Of course, this assumes that developers always add a \"params\" prop when they are expecting parameters\n            if (match && typeof match == 'object' && Object.keys(match).length) {\n                componentParams = match\n            }\n            else {\n                componentParams = null\n            }\n\n            dispatchNextTick('routeLoaded', detail)\n        }\n        i++\n    }\n}\n</script>\n","export default function (str, loose) {\n\tif (str instanceof RegExp) return { keys:false, pattern:str };\n\tvar c, o, tmp, ext, keys=[], pattern='', arr = str.split('/');\n\tarr[0] || arr.shift();\n\n\twhile (tmp = arr.shift()) {\n\t\tc = tmp[0];\n\t\tif (c === '*') {\n\t\t\tkeys.push('wild');\n\t\t\tpattern += '/(.*)';\n\t\t} else if (c === ':') {\n\t\t\to = tmp.indexOf('?', 1);\n\t\t\text = tmp.indexOf('.', 1);\n\t\t\tkeys.push( tmp.substring(1, !!~o ? o : !!~ext ? ext : tmp.length) );\n\t\t\tpattern += !!~o && !~ext ? '(?:/([^/]+?))?' : '/([^/]+?)';\n\t\t\tif (!!~ext) pattern += (!!~o ? '?' : '') + '\\\\' + tmp.substring(ext);\n\t\t} else {\n\t\t\tpattern += '/' + tmp;\n\t\t}\n\t}\n\n\treturn {\n\t\tkeys: keys,\n\t\tpattern: new RegExp('^' + pattern + (loose ? '(?=$|\\/)' : '\\/?$'), 'i')\n\t};\n}\n","<button class=\"{isCurrentPage ? \"current\" : \"\"}\" on:click={onClick}>\r\n    <span class=\"mdi mdi-{icon}\"></span>\r\n    <slot />\r\n</button>\r\n\r\n<script>\r\nimport { location, push as pushRoute } from \"svelte-spa-router\";\r\nimport { createEventDispatcher } from \"svelte\";\r\nconst dispatch = createEventDispatcher();\r\n\r\n// Props\r\nexport var icon;\r\nexport var path = \"/\";\r\n\r\n// Computed\r\n$: isCurrentPage = path === $location;\r\n\r\n// Functions\r\nfunction onClick() {\r\n    dispatch(\"click\");\r\n    pushRoute(path);\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\nbutton {\r\n    height: 48px;\r\n    width: 100%;\r\n\r\n    margin: 0;\r\n\r\n    background-color: transparent;\r\n    border: 0;\r\n    font-size: 20px;\r\n\r\n    span {\r\n        margin-right: 10px;\r\n    }\r\n\r\n    &.current {\r\n        color: var(--accentColor);\r\n    }\r\n}\r\n\r\n</style>","<header class=\"{menuOpen ? \"open\" : \"\"}\">\r\n    <img src=\"./img/header-image.png\" alt=\"\">\r\n    <div class=\"leftButtons\">\r\n        <HeaderButton icon={\"menu\"} on:click={toggleMenuOpen} />\r\n    </div>\r\n    <div class=\"rightButtons\">\r\n        <HeaderButton icon={\"magnify\"} />\r\n    </div>\r\n    <div class=\"menuContent\">\r\n        <MenuButton icon=\"compass-outline\" on:click={closeMenu} path=\"/\">Navigatie</MenuButton>\r\n        <MenuButton icon=\"bookmark-multiple-outline\" on:click={closeMenu} path=\"/addressbook\">Address boek</MenuButton>\r\n    </div>\r\n</header>\r\n<div class=\"menuScim {menuOpen ? \"open\" : \"\"}\" on:click|self={closeMenu}></div>\r\n\r\n<script>\r\n// Components\r\nimport HeaderButton from \"@/components/HeaderButton.svelte\";\r\nimport MenuButton from \"@/components/MenuButton.svelte\";\r\n\r\n// Data\r\nvar menuOpen = false;\r\n\r\n// Functions\r\nfunction toggleMenuOpen() {\r\n    menuOpen = !menuOpen;\r\n}\r\n\r\nfunction closeMenu() {\r\n    menuOpen = false;\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n$height: 64px;\r\n\r\nheader {\r\n    min-height: 48px;\r\n    width: 100%;\r\n\r\n    position: relative;\r\n    z-index: 6;\r\n    // display: inline-block;\r\n\r\n    background-color: var(--backgroundColor);\r\n\r\n    img {\r\n        height: $height * .6;\r\n\r\n        position: relative;\r\n        top: 14px;\r\n        left: 50%;\r\n        transform: translateX(-50%);\r\n    }\r\n\r\n    .rightButtons {\r\n        position: absolute;\r\n        top: 8px;\r\n        right: 8px;\r\n    }\r\n\r\n    .leftButtons {\r\n        position: absolute;\r\n        top: 8px;\r\n        left: 8px;\r\n    }\r\n\r\n    &.open .menuContent {\r\n        max-height: 900px;\r\n    }\r\n\r\n    .menuContent {\r\n        max-height: 0;\r\n\r\n        margin-top: 16px;\r\n        padding-bottom: 10px;\r\n\r\n        overflow: hidden;\r\n        transition: 250ms cubic-bezier(0.26, 0, 0, 0.99) max-height;\r\n    }\r\n}\r\n\r\n.menuScim {\r\n    height: 100%;\r\n    width: 100%;\r\n\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: -1;\r\n\r\n    background-color: var(--scimColor);\r\n    opacity: 0;\r\n    transition: 200ms cubic-bezier(0.4, 0.0, 0.2, 1) opacity;\r\n\r\n    &.open {\r\n        z-index: 2;\r\n\r\n        opacity: 1;\r\n    }\r\n}\r\n\r\n</style>","function decodePolyline(polyline) {\n\n  var _ = {};\n\n  _.Ya = function(a, b, c) {\n    null != b && (a = Math.max(a, b));\n    null != c && (a = Math.min(a, c));\n    return a\n  };\n  _.Za = function(a, b, c) { c -= b; return ((a - b) % c + c) % c + b };\n  _.w = function(a) { return a ? a.length : 0 };\n\n  _.E = function(a, b, c) {\n    a -= 0;\n    b -= 0;\n    c || (a = _.Ya(a, -90, 90), 180 != b && (b = _.Za(b, -180, 180)));\n    this.lat = function() { return a };\n    this.lng = function() { return b }\n  };\n\n  function decodePath(a) {\n    for (var b = _.w(a), c = Array(Math.floor(a.length / 2)), d = 0, e = 0, f = 0, g = 0; d < b; ++g) {\n      var h = 1,\n        l = 0,\n        n;\n      do n = a.charCodeAt(d++) - 63 - 1, h += n << l, l += 5; while (31 <= n);\n      e += h & 1 ? ~(h >> 1) : h >> 1;\n      h = 1;\n      l = 0;\n      do n = a.charCodeAt(d++) - 63 - 1, h += n << l, l += 5; while (31 <= n);\n      f += h & 1 ? ~(h >> 1) : h >> 1;\n      c[g] = new _.E(1E-5 * e, 1E-5 * f, !0)\n    }\n    c.length = g;\n    return c\n  }\n\n  var result = decodePath(polyline).map(function(el) {\n      return {lat:Number(el.lat().toFixed(5)),lng:Number(el.lng().toFixed(5))};\n  });\n\n  return result;\n\n}\n\nmodule.exports=decodePolyline;\n","<span class=\"mdi mdi-walk\"></span> {durationInMinutes} {minuteText}\r\n\r\n<script>\r\n// Props\r\nexport var step;\r\n\r\n// Computed\r\n$: durationInMinutes = Math.round(step.duration.value / 60);\r\n$: minuteText = durationInMinutes > 1 ? \"minuten\" : \"minuut\";\r\n</script>","export function toTimeString(timestamp) {\r\n    timestamp = standardizeTimestamp(timestamp);\r\n\r\n    var d = new Date(timestamp);\r\n    var hours = toFixedLength(d.getHours());\r\n    var minutes = toFixedLength(d.getMinutes());\r\n\r\n    return `${hours}:${minutes}`;\r\n}\r\n\r\nexport function standardizeTimestamp(timestamp) {\r\n    var isISO = timestamp > 2000000000;\r\n\r\n    if (isISO) {\r\n        return timestamp;\r\n    } else {\r\n        return timestamp * 1000;\r\n    }\r\n}\r\n\r\nexport function toFixedLength(value) {\r\n    if (value < 10) {\r\n        return \"0\" + value;\r\n    } else {\r\n        return String(value);\r\n    }\r\n}","import { writable } from \"svelte/store\";\r\nimport { prepareStore } from \"@/js/storeUtils\";\r\n\r\nexport const locationStore = writable({\r\n    lat: 0,\r\n    long: 0,\r\n});\r\n\r\nprepareStore(locationStore);\r\nwindow.locationStore = locationStore;\r\nvar locationWatcher;\r\n\r\nexport function readToLocation(geolocation) {\r\n    return {\r\n        lat: geolocation.coords.latitude,\r\n        long: geolocation.coords.longitude,\r\n    }\r\n}\r\n\r\nexport function locationIsValid() {\r\n    var location = locationStore.get();\r\n    return location.lat !== 0 && location.long !== 0;\r\n}\r\n\r\nexport function startLocation() {\r\n    if (locationWatcher !== undefined) return;\r\n\r\n    if (navigator !== undefined && navigator.geolocation !== undefined) {\r\n        locationWatcher = navigator.geolocation.watchPosition(position => {\r\n            locationStore.set(readToLocation(position));\r\n        });\r\n    }\r\n}\r\n\r\nexport function stopLocation() {\r\n    if (locationWatcher === undefined) return;\r\n\r\n    if (locationWatcher) {\r\n        navigator.geolocation.clearWatch(locationWatcher);\r\n    }\r\n}\r\n\r\nexport function getDirectDistance(positionA, positionB) {\r\n    var differenceLat = Math.abs(positionA.lat - positionB.lat);\r\n    var differenceLong = Math.abs(positionA.long - positionB.long);\r\n\r\n    var directDistance = Math.sqrt(differenceLat ** 2 + differenceLong ** 2);\r\n\r\n    return directDistance;\r\n}","import { stationLocations, stationsFullDetails } from \"@/js/dataUtils.js\";\r\nimport { locationStore, getDirectDistance } from \"@/js/locationUtils.js\";\r\nimport { serverRequest } from \"@/js/dataUtils.js\";\r\nimport { Observable } from \"@/js/observable.js\";\r\n\r\nconst facilityIconMap = {\r\n    WIFI: \"wifi-strength-4\",\r\n    TOILET: \"human-male-female\",\r\n    STILTE: \"volume-mute\",\r\n    FIETS: \"bicycle\",\r\n    STROOM: \"power-socket-eu\",\r\n}\r\n\r\nexport function getFacilityIcon(facility) {\r\n    return facilityIconMap[facility];\r\n}\r\n\r\nexport function getFullDetailsByCode(code) {\r\n    var stations = [...stationsFullDetails,get()];\r\n\r\n    stations = stations.filter(station => station.code === code);\r\n\r\n    if (stations.length === 0) return null;\r\n    else return stations[0];\r\n}\r\n\r\nexport function getFullDetailsByLocation(lat, long) {\r\n    var station = getStationCodeByLocation(lat, long);\r\n    var code = station.stationCode;\r\n    var directDistance = station.directDistance;\r\n\r\n    return {\r\n        ...getFullDetailsByCode(code),\r\n        directDistance,\r\n    }\r\n}\r\n\r\nexport function getStationCodeByLocation(lat, long) {\r\n    var stations = [...stationLocations.get()];   \r\n\r\n    stations = stations.map(station => {\r\n        var directDistance = getDirectDistance(station, {\r\n            lat,\r\n            long,\r\n        });\r\n\r\n        return {\r\n            ...station,\r\n            directDistance,\r\n        }\r\n    })\r\n    .sort((a, b) => a.directDistance - b.directDistance);\r\n\r\n    return stations[0];\r\n}\r\n\r\nexport async function getTrainTrip(step) {\r\n    var tripNumber = step.transit_details.trip_short_name;\r\n    var startLocation = step.start_location;\r\n    var endLocation = step.end_location;\r\n\r\n    var startStation = getStationCodeByLocation(startLocation.lat, startLocation.lng).stationCode;\r\n    var endStation = getStationCodeByLocation(endLocation.lat, endLocation.lng).stationCode;\r\n\r\n    var { trips } = await serverRequest(`/trainTrip/${startStation}/${endStation}`);\r\n    trips = trips.filter(trip => {\r\n        return trip.legs.some(leg => leg.name.includes(tripNumber))\r\n    });\r\n\r\n    return trips;\r\n}\r\n\r\nexport async function refreshTrainTrip(uid) {\r\n    var trip = await serverRequest(`/refreshTrainTrip?refreshToken=${uid}`);\r\n    return trip;\r\n}\r\n\r\nexport class LiveTrainLocation extends Observable {\r\n    constructor(tripNumber) {\r\n        super();\r\n\r\n        this.tripNumber = tripNumber;\r\n        this.timer = null;\r\n        this.refreshInterval = 60 * 1000; // 60 seconds\r\n    }\r\n\r\n    destroy() {\r\n        this.clearTimer();\r\n    }\r\n\r\n    clearTimer() {\r\n        if (this.timer) clearInterval(this.timer);\r\n    }\r\n\r\n    start() {\r\n        this.clearTimer();\r\n        this.timer = setInterval(() => this.tick(), this.refreshInterval);\r\n        this.tick();\r\n    }\r\n\r\n    async tick() {\r\n        var { lat, long } = locationStore.get();\r\n        var response = await serverRequest(`/trainLocations?location=${lat},${long}&tripNumber=${this.tripNumber}`, this.refreshInterval - 1000);\r\n\r\n        console.log(response, this.tripNumber);\r\n\r\n        if (response.locations.length > 0) {\r\n            var trainLocation = response.locations[0];\r\n\r\n            var response = {\r\n                ...trainLocation,\r\n                closestStation: getFullDetailsByLocation(trainLocation.lat, trainLocation.lng),\r\n            }\r\n\r\n            console.log(response);\r\n\r\n            this.update(response);\r\n        } else {\r\n            this.update(null);\r\n        }\r\n    }\r\n}\r\n\r\nexport class LiveTrainInfo extends Observable {\r\n    constructor(uid) {\r\n        super();\r\n\r\n        this.refreshToken = uid;\r\n        this.timer = null;\r\n        this.refreshInterval = 60 * 1000; // 60 seconds\r\n    }\r\n\r\n    destroy() {\r\n        this.clearTimer();\r\n    }\r\n\r\n    clearTimer() {\r\n        if (this.timer) clearInterval(this.timer);\r\n    }\r\n\r\n    start() {\r\n        this.clearTimer();\r\n        this.timer = setInterval(() => this.tick(), this.refreshInterval);\r\n        this.tick();\r\n    }\r\n\r\n    async tick() {\r\n        var response = refreshTrainTrip(this.uid);\r\n        this.update(response);\r\n    }\r\n}","export class Observable {\r\n    constructor() {\r\n        this.observers = [];\r\n    }\r\n\r\n    subscribe(fn) {\r\n        if (typeof fn !== \"function\") throw new Error(\"You have to provide a function\");\r\n        this.observers.push(fn);\r\n    }\r\n\r\n    remove(fn) {\r\n        var index = this.observers.indexOf(fn);\r\n        this.observers.splice(index, 1);\r\n    }\r\n\r\n    update(value) {\r\n        this.observers.forEach(observer => observer(value));\r\n    }\r\n}","<span class=\"headSign\" style=\"background-color: {backgroundColor}; color: {textColor};\">\r\n    <span class=\"mdi mdi-{icon}\"></span>\r\n    <slot />\r\n</span>\r\n\r\n<script>\r\n// Props\r\nexport var icon;\r\nexport var backgroundColor = \"#000000\";\r\nexport var textColor = \"#ffffff\";\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n.headSign {\r\n    padding: 2px 8px;\r\n    border-radius: 5px;\r\n}\r\n\r\n</style>","<p on:click={toggleDropdown}><span class=\"mdi mdi-chevron-down\"></span> {text}</p>\r\n{#if open}\r\n    <div class=\"dropDownContent\">\r\n        <slot />\r\n    </div>\r\n{/if}\r\n\r\n<script>\r\n// Props\r\nexport var text = \"Meer Info\";\r\n\r\n// Data\r\nvar open = false;\r\n\r\n// Functions\r\nfunction toggleDropdown() {\r\n    open = !open;\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\np {\r\n    width: 100%;\r\n\r\n    margin-bottom: 0;\r\n\r\n    cursor: pointer;\r\n    text-align: center;\r\n}\r\n\r\n.dropDownContent {\r\n    padding-top: 16px;\r\n    // padding-bottom: 16px;\r\n}\r\n\r\n</style>","<InfoRow>\r\n    <span slot=\"left\">{startTimeString}</span>\r\n    <span slot=\"center\">\r\n        <HeadSign icon=\"train\" {backgroundColor} {textColor}>{line.short_name}</HeadSign>\r\n    </span>\r\n    <span slot=\"right\">{endTimeString}</span>\r\n</InfoRow>\r\n{#if cancelled}\r\n    <p class=\"cancelled\">\r\n        <span class=\"mdi mdi-alert\"></span>\r\n        Deze trein is geannuleerd\r\n    </p>\r\n{/if}\r\n<InfoRow>\r\n    <span slot=\"left\"><span class=\"mdi mdi-arrow-expand-right\"></span> {transitDetails.departure_stop.name}</span>\r\n    <span slot=\"right\">spoor {originPlatform}</span>\r\n</InfoRow>\r\n<InfoRow>\r\n    <span slot=\"left\"><span class=\"mdi mdi-arrow-collapse-right\"></span> {transitDetails.arrival_stop.name}</span>\r\n    <span slot=\"right\">spoor {destinationPlatform}</span>\r\n</InfoRow>\r\n<DropDown>\r\n    {#if trainDataStatus === \"loaded\"}\r\n        <div class=\"trainImages\">\r\n            {#each trainData.materieeldelen as trainPart}\r\n                <img class=\"trainPartImage\" src={trainPart.afbeelding} alt=\"Train part\" />\r\n            {/each}\r\n        </div>\r\n        {#if exitDirection}\r\n            <p class=\"exitDirection\">\r\n                {#if exitDirection === \"LEFT\"}\r\n                    <span class=\"mdi mdi-chevron-triple-left\"></span> Links uitstappen\r\n                {:else}\r\n                    Rechts uitstappen <span class=\"mdi mdi-chevron-triple-right\"></span>\r\n                {/if}\r\n            </p>\r\n        {/if}\r\n        <InfoRow>\r\n            <span slot=\"left\">\r\n                <span class=\"mdi mdi-rss {liveDataAvailable ? \"liveDataActive\" : \"\"}\"></span> \r\n                {#if liveDataAvailable}\r\n                    {liveMessage}\r\n                {:else}\r\n                    Geen live data beschikbaar\r\n                {/if}\r\n            </span>\r\n        </InfoRow>\r\n        <InfoRow>\r\n            <span slot=\"left\"><span class=\"mdi mdi-routes\"></span> Richting</span>\r\n            <span slot=\"right\">{transitDetails.headsign}</span>\r\n        </InfoRow>\r\n        <InfoRow>\r\n            <span slot=\"left\"><span class=\"mdi mdi-ruler\"></span> Lengte</span>\r\n            <span slot=\"right\"><b>{trainData.lengte}</b> delen</span>\r\n        </InfoRow>\r\n        {#each trainData.materieeldelen as trainPart}\r\n            <InfoRow>\r\n                <span slot=\"left\"><span class=\"mdi mdi-barcode\"></span> Treinstel {trainPart.materieelnummer}</span>\r\n                <span slot=\"right\">\r\n                    {#each trainPart.faciliteiten as facility}\r\n                        <span class=\"facilityIcon mdi mdi-{getFacilityIcon(facility)}\"></span>\r\n                    {/each}\r\n                </span>\r\n            </InfoRow>\r\n        {/each}\r\n    {:else if trainDataStatus === \"error\"}\r\n        <p>Error</p>\r\n    {/if}\r\n</DropDown>\r\n\r\n<script>\r\nimport { onMount, onDestroy } from \"svelte\";\r\nimport { serverRequest } from \"@/js/dataUtils.js\";\r\nimport { getStepColor, getStepTextColor, createStepStore } from \"@/js/stepUtils.js\";\r\nimport { standardizeTimestamp, toTimeString } from \"@/js/timeUtils.js\";\r\nimport { getFacilityIcon, getTrainTrip, refreshTrainTrip, getStationCodeByLocation, getFullDetailsByCode, LiveTrainLocation } from \"@/js/trainUtils.js\";\r\n\r\n// Components\r\nimport InfoRow from \"@/components/InfoRow.svelte\";\r\nimport HeadSign from \"@/components/HeadSign.svelte\";\r\nimport DropDown from \"@/components/DropDown.svelte\";\r\n\r\n// Props\r\nexport var step;\r\n\r\n// Data\r\nconst refreshRate = 60 * 1000; // 60 seconds\r\n\r\nvar stepStore = createStepStore(step.id, {});\r\n$stepStore.maxAge = 60 * 60 * 1000; // 60 minutes;\r\n$stepStore.timestamp = Date.now();\r\n\r\nvar trainDataStatus = \"\";\r\nvar trainData;\r\nvar trainTrip;\r\n\r\nvar liveData;\r\nvar liveMessage;\r\n\r\nvar polyline = [];\r\n\r\n// Computed\r\n$: transitDetails = step.transit_details;\r\n$: tripNumber = transitDetails.trip_short_name;\r\n$: line = transitDetails.line;\r\n$: backgroundColor = getStepColor(\"train\", transitDetails);\r\n$: textColor = getStepTextColor(\"train\", transitDetails);\r\n$: startTimestamp = standardizeTimestamp(transitDetails.departure_time.value);\r\n$: startTimeString = toTimeString(startTimestamp);\r\n$: endTimestamp = standardizeTimestamp(transitDetails.arrival_time.value);\r\n$: endTimeString = toTimeString(endTimestamp);\r\n$: tripRefreshCode = $stepStore.tripRefreshCode;\r\n$: tripLoaded = trainTrip !== undefined && tripRefreshCode !== undefined;\r\n$: trainTripLeg = tripLoaded ? trainTrip.legs[0] : null;\r\n$: originPlatform = tripLoaded ? trainTripLeg.origin.plannedTrack : \"?\";\r\n$: destinationPlatform = tripLoaded ? trainTripLeg.destination.plannedTrack : \"?\";\r\n$: exitDirection = tripLoaded ? trainTripLeg.destination.exitSide : false;\r\n$: cancelled = tripLoaded ? trainTripLeg.cancelled : false;\r\n$: stops = tripLoaded ? trainTripLeg.stops : [];\r\n$: liveDataAvailable = liveMessage;\r\n\r\n// Functions\r\nasync function refreshTrip() {\r\n    if ($stepStore.tripRefreshCode) {\r\n        trainTrip = await refreshTrainTrip($stepStore.tripRefreshCode);\r\n        var stopCodes = getStopCodes(trainTrip.legs[0].stops);\r\n        var { coords } = await serverRequest(`/trainRouteCoords?stations=${stopCodes.join(\",\")}`, 60 * 60 * 1000); // Cached for an hour\r\n        polyline = coords;\r\n    }\r\n}\r\n\r\nfunction getStopCodes(stops) {\r\n    var codes = stops.map(stop => getStationCodeByLocation(stop.lat, stop.lng).stationCode);\r\n    return codes;\r\n}\r\n\r\nfunction findClosestPoint(points, lat, long) {\r\n    points = points.map(point => {\r\n        var differenceLat = Math.abs(point.lat - lat);\r\n        var differenceLong = Math.abs(point.long - long);\r\n\r\n        var directDifference = Math.sqrt(differenceLat ** 2 + differenceLong ** 2);\r\n\r\n        return {\r\n            ...point,\r\n            directDifference,\r\n        }\r\n    })\r\n    .sort((a, b) => a.directDifference - b.directDifference);\r\n\r\n    return points[0];\r\n}\r\n\r\n// On create\r\nconst refreshTimer = setInterval(refreshTrip, refreshRate);\r\nrefreshTrip();\r\n\r\n// On mount\r\nonMount(async () => {\r\n    try {\r\n        liveData = new LiveTrainLocation(tripNumber);\r\n        trainData = await serverRequest(\"/virtualTrain/\" + tripNumber);\r\n\r\n        liveData.subscribe(data => {\r\n            if (!data) {\r\n                liveMessage = null;\r\n                return;\r\n            }\r\n\r\n            var closestPoint = findClosestPoint(polyline, data.lat, data.lng);\r\n\r\n            if (closestPoint) {\r\n                var closestStation = getFullDetailsByCode(closestPoint.code);\r\n\r\n                if (data.snelheid === 0) {\r\n                    liveMessage = `Trein aangekomen op ${closestStation.namen.middel}`;\r\n                } else {\r\n                    liveMessage = `Trein rijd naar ${closestStation.namen.middel}`;\r\n                }\r\n            } else {\r\n                liveMessage = null;\r\n            }\r\n        });\r\n        \r\n        liveData.start();\r\n        trainDataStatus = \"loaded\";\r\n    } catch(error) {\r\n        trainDataStatus = \"error\";\r\n        throw error;\r\n    }\r\n\r\n    if ($stepStore.tripRefreshCode === undefined) {\r\n        var tripData = await getTrainTrip(step);\r\n\r\n        if (tripData.length > 0) {\r\n            trainTrip = tripData[0];\r\n            $stepStore.tripRefreshCode = trainTrip.uid;\r\n            $stepStore = $stepStore;\r\n        }\r\n    }\r\n});\r\n\r\n// On destroy\r\nonDestroy(() => clearInterval(refreshTimer));\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n.trainImages {\r\n    width: 100%;\r\n\r\n    margin-bottom: 16px;\r\n\r\n    .trainPartImage {\r\n        max-height: 32px;\r\n        width: 100%;\r\n    }\r\n}\r\n\r\n.facilityIcon {\r\n    margin-left: 4px;\r\n}\r\n\r\n.exitDirection {\r\n    text-align: center;\r\n    // font-weight: 700;\r\n}\r\n\r\n.cancelled {\r\n    color: var(--errorColor);\r\n    text-align: center;\r\n    font-weight: 700;\r\n}\r\n\r\n.liveDataActive {\r\n    color: var(--liveDataActive);\r\n}\r\n\r\n</style>","import { serverRequest } from \"@/js/dataUtils.js\";\r\nimport { standardizeTimestamp } from \"@/js/timeUtils.js\";\r\n\r\nexport async function getBusStop(lat, long) {\r\n    var response = await serverRequest(`/busStop?latLong=${lat},${long}`);\r\n    return response.busStops[0];\r\n}\r\n\r\nexport function findDeparture(searchDepartureTime, expectedNumber, passes) {\r\n    searchDepartureTime = standardizeTimestamp(searchDepartureTime);\r\n\r\n    const maxSearchDifference = 5 * 60 * 1000; // 5 minutes\r\n    const maxCurrentDifference = 10 * 60 * 1000; // 10 minutes\r\n\r\n    return Object.entries(passes)\r\n        // Maps in the key so it can be retrieved within the array\r\n        .map(([key, value]) => {\r\n            return {\r\n                ...value,\r\n                key,\r\n            }\r\n        })\r\n\r\n        // Filter out any passes that don't have the correct code\r\n        .filter(pass => {\r\n            var { key } = pass;\r\n            var [agency, localAuthority, linePlanningNumber, journeyNumber, fortifyOrderNumber] = key.split(\"_\");\r\n\r\n            console.log(linePlanningNumber, expectedNumber);\r\n\r\n            return linePlanningNumber.includes(expectedNumber);\r\n        })\r\n\r\n        // Maps in the difference to the search time and the current time\r\n        .map(pass => {\r\n            // Parse the timestamp\r\n            var departureDateTime = new Date(pass.ExpectedArrivalTime);\r\n            var departureTimeStamp = standardizeTimestamp(departureDateTime.getTime());\r\n\r\n            // Compute the differences\r\n            var differenceToExpectedTime = departureTimeStamp - searchDepartureTime; // Difference to the search time\r\n            var differenceToCurrentTime = Date.now() - departureTimeStamp; // Difference to current time\r\n\r\n            return {\r\n                ...pass,\r\n                differenceToExpectedTime,\r\n                differenceToCurrentTime,\r\n            }\r\n        })\r\n\r\n        // Filters out any passes that are not within the set parameters\r\n        .filter(pass => {\r\n            var passedExpectedTimeDifference = pass.differenceToExpectedTime >= -maxSearchDifference && pass.differenceToExpectedTime <= maxSearchDifference;\r\n            var passedCurrentTimeDifference = pass.differenceToCurrentTime <= maxCurrentDifference;\r\n\r\n            return passedExpectedTimeDifference && passedCurrentTimeDifference;\r\n        })\r\n\r\n        // Sort the array asc to show the most likely match first\r\n        .sort((a, b) => a.differenceToExpectedTime - b.differenceToExpectedTime);\r\n}\r\n\r\nexport async function getBusTrip(code) {\r\n    return serverRequest(`/busJourney/${code}`);\r\n}\r\n\r\nexport function getBusStopsFromJourney(journey) {\r\n    if (journey === undefined || journey.Stops === undefined) return [];\r\n    var stops = Object.values(journey.Stops);\r\n    var foundCurrent = false;\r\n\r\n    // Maps in whether or not the stop is the current one\r\n    stops = stops.map(stop => {\r\n        stop.isCurrentStop = false;\r\n\r\n        // Sets the first stop with 'driving' to the current step\r\n        if (stop.TripStopStatus === \"DRIVING\" && !foundCurrent) {\r\n            stop.isCurrentStop = true;\r\n            foundCurrent = true;\r\n        }\r\n\r\n        return stop;\r\n    });\r\n\r\n    return stops;\r\n}\r\n\r\nexport function getCurrentStop(stops) {\r\n    for (var stop of stops) {\r\n        if (stop.isCurrentStop) {\r\n            return stop;\r\n        }\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\n// Returns the last, current and two next stops\r\nexport function getActiveStops(stops) {\r\n    var currentStop = getCurrentStop(stops);\r\n    var index = stops.indexOf(currentStop);\r\n\r\n    if (index === -1) return [];\r\n\r\n    var result = [];\r\n\r\n    var last = stops[index - 1];\r\n    var nextOne = stops[index + 1];\r\n    var nextTwo = stops[index + 2];\r\n\r\n    if (last !== undefined) result.push(last);\r\n\r\n    result.push(currentStop);\r\n\r\n    if (nextOne !== undefined) result.push(nextOne);\r\n    if (nextTwo !== undefined) result.push(nextTwo);\r\n\r\n    return result;\r\n}\r\n\r\nexport class BusSearcher {\r\n    constructor(step) {\r\n        this.step = step;\r\n        this.busStop = null;\r\n    }\r\n\r\n    async startSearch() {\r\n        var { lat, lng } = step.start_location;\r\n        busStop = await getBusStop(lat, lng);\r\n\r\n        var startTimestamp = standardizeTimestamp(this.step.transitDetails.departure_time.value);\r\n    }\r\n}\r\n\r\nexport class BusLiveData {\r\n    constructor(busCode) {\r\n        this.busCode = busCode;\r\n    }\r\n}","<div class=\"busStop {current ? \"current\" : \"\"}\">\r\n    <p>\r\n        <slot />\r\n    </p>\r\n</div>\r\n\r\n<script>\r\n// Props\r\nexport var current = false;\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n.busStop {\r\n    width: calc(90% - 16px);\r\n\r\n    padding: 8px;\r\n    margin: 0 auto;\r\n\r\n    border-left: 2px dashed #cecece;\r\n    color: #cecece;\r\n\r\n    p {\r\n        margin: 0;\r\n    }\r\n    \r\n    &.current {\r\n        width: calc(100% - 16px);\r\n\r\n        border: 0;\r\n        box-shadow: var(--defaultBoxShadow);\r\n        border-radius: 5px;\r\n\r\n        color: #000000;\r\n    }\r\n}\r\n\r\n</style>","<Stop current={stop.isCurrentStop}>\r\n    <span class=\"mdi mdi-{icon}\"></span>\r\n    {stop.TimingPointName}\r\n</Stop>\r\n\r\n<script>\r\n// Components\r\nimport Stop from \"@/components/RouteStep/Stop.svelte\";\r\n\r\n// Props\r\nexport var stop;\r\n\r\n// Computed\r\n$: icon = getIcon(stop);\r\n\r\n// Functions\r\nfunction getIcon(stop) {\r\n    var status = stop.TripStopStatus;\r\n\r\n    if (status === \"PASSED\") return \"check-all\";\r\n    else if (status === \"ARRIVED\") return \"check\";\r\n    else return \"alarm\";\r\n}\r\n</script>","<InfoRow>\r\n    <span slot=\"left\">{startTimeString}</span>\r\n    <span slot=\"center\">\r\n        <HeadSign icon=\"bus\" {backgroundColor} {textColor}>{line.short_name}</HeadSign>\r\n    </span>\r\n    <span slot=\"right\">{endTimeString}</span>\r\n</InfoRow>\r\n<InfoRow>\r\n    <span slot=\"left\"><span class=\"mdi mdi-arrow-expand-right\"></span> {transitDetails.departure_stop.name}</span>\r\n</InfoRow>\r\n<InfoRow>\r\n    <span slot=\"left\"><span class=\"mdi mdi-arrow-collapse-right\"></span> {transitDetails.arrival_stop.name}</span>\r\n</InfoRow>\r\n<DropDown>\r\n    <InfoRow>\r\n        <span slot=\"left\"><span class=\"mdi mdi-arrow-left-right\"></span> {transitDetails.line.name}</span>\r\n    </InfoRow>\r\n    <InfoRow>\r\n        <span slot=\"left\"><span class=\"mdi mdi-rss\"></span> {currentStopText}</span>\r\n    </InfoRow>\r\n    <!-- <BusTimeline {stops} /> -->\r\n    {#each activeStops as stop}\r\n        <BusStop {stop} />\r\n    {/each}\r\n</DropDown>\r\n\r\n<script>\r\nimport { onMount, onDestroy } from \"svelte\";\r\nimport { getBusStop, findDeparture, getBusStopsFromJourney, getBusTrip, getActiveStops, getCurrentStop } from \"@/js/busUtils.js\";\r\nimport { getStepColor, getStepTextColor, createStepStore } from \"@/js/stepUtils.js\";\r\nimport { standardizeTimestamp, toTimeString } from \"@/js/timeUtils.js\";\r\n\r\n// Components\r\nimport InfoRow from \"@/components/InfoRow.svelte\";\r\nimport HeadSign from \"@/components/HeadSign.svelte\";\r\nimport DropDown from \"@/components/DropDown.svelte\";\r\nimport BusStop from \"@/components/RouteStep/BusStop.svelte\";\r\nimport BusTimeline from \"@/components/RouteStep/BusTimeline.svelte\";\r\n\r\n// Props\r\nexport var step;\r\n\r\n// Data\r\nconst maxTimeAfterStart = 15 * 60 * 1000; // 15 minutes. The time after which the app should stop refreshing the data because it's eather invalid or non existent\r\nconst refreshTime = 15 * 1000; // 30 seconds. The interfal at which the app will ping the server for updates after it found the trip\r\nconst checkInterval = 30 * 1000; // 30 seconds. Delay the checks should wait before trying again.\r\nconst checkStartBuffer = 5 * 60 * 1000; // 5 minutes. How many minutes before the expected departute time it should checking.\r\nconst checkEndBuffer = 5 * 50 * 1000; // 5 minutes. How many minutes it should keep checking after the exptected departure time.\r\n\r\nvar stepStore = createStepStore(step.id, {});\r\n$stepStore.maxAge = 15 * 60 * 1000; // 15 minutes;\r\n$stepStore.timestamp = Date.now();\r\n\r\nvar refreshTripTimer = setInterval(refreshBusJourney, refreshTime);\r\nvar busStop;\r\nvar busJourney;\r\nvar busJourneyFoundTimestamp;\r\n\r\n// Computed\r\n$: transitDetails = step.transit_details;\r\n$: line = transitDetails.line;\r\n$: backgroundColor = getStepColor(\"bus\", transitDetails);\r\n$: textColor = getStepTextColor(\"bus\", transitDetails);\r\n$: startTimestamp = standardizeTimestamp(transitDetails.departure_time.value);\r\n$: startTimeString = toTimeString(startTimestamp);\r\n$: endTimestamp = standardizeTimestamp(transitDetails.arrival_time.value);\r\n$: endTimeString = toTimeString(endTimestamp);\r\n$: busJourneyFound = $stepStore.busJourneyCode !== undefined;\r\n$: stops = getBusStopsFromJourney(busJourney);\r\n$: activeStops = getActiveStops(stops);\r\n$: currentStop = getCurrentStop(stops);\r\n$: currentStopText = getCurrentStopText(currentStop);\r\n$: console.log($stepStore, busJourneyFound);\r\n\r\n// Functions\r\nasync function refreshBusJourney() {\r\n    if (Date.now() - busJourneyFoundTimestamp > maxTimeAfterStart) {\r\n        if (refreshTripTimer) clearInterval(refreshTripTimer);\r\n        return;\r\n    }\r\n\r\n    if (busJourneyFound) {\r\n        busJourney = await getBusTrip($stepStore.busJourneyCode);\r\n    }\r\n}\r\n\r\nfunction getCurrentStopText(currentStop) {\r\n    if (!currentStop) return \"Geen live data\";\r\n\r\n    if (currentStop.TripStopStatus === \"ARRIVED\") {\r\n        return `Aangekomen op ${currentStop.TimingPointName}`;\r\n    } else { // Driving\r\n        return `Rijd naar ${currentStop.TimingPointName}`;\r\n    }\r\n}\r\n\r\n// On create\r\nonMount(async () => {\r\n    // Get the location of the busstop and meta data from server\r\n    var { lat, lng } = step.start_location;\r\n    busStop = await getBusStop(lat, lng);\r\n    \r\n    // Early exit if the journeyCode is found in local storage\r\n    if (busJourneyFound) {\r\n        busJourneyFoundTimestamp = Date.now();\r\n\r\n        // Do an initial check\r\n        refreshBusJourney();\r\n    }\r\n\r\n    // Recursive function for finding the departure\r\n    const checkDeparture = delay => {\r\n        setTimeout(async () => {\r\n            if (Date.now() - startTimestamp > checkEndBuffer) return false;\r\n\r\n            busStop = await getBusStop(lat, lng);\r\n            var departures = findDeparture(step.transit_details.departure_time.value, line.short_name, busStop.Passes);\r\n\r\n            if (departures.length > 0) {\r\n                $stepStore.busJourneyCode = departures[0].key;\r\n                busJourneyFoundTimestamp = Date.now();\r\n                queueMicrotask(refreshBusJourney);\r\n            } else {\r\n                checkDeparture(checkInterval);\r\n            }\r\n        }, delay);\r\n    }\r\n\r\n    var now = Date.now();\r\n    var startCheckAfter = startTimestamp - now - checkStartBuffer;\r\n\r\n    // Do a check now if there is a wait and start the timer\r\n    if (startCheckAfter > 0) checkDeparture(0);\r\n    checkDeparture(startCheckAfter);\r\n});\r\n\r\n// On destroy\r\nonDestroy(() => {\r\n    clearInterval(refreshTripTimer);\r\n});\r\n</script>","<span class=\"mdi mdi-swap-horizontal\"></span> {durationInMinutes} {minuteText}\r\n\r\n<script>\r\n// Props\r\nexport var step;\r\n\r\n// Computed\r\n$: durationInMinutes = Math.round(step.duration.value / 60);\r\n$: minuteText = durationInMinutes > 1 ? \"minuten\" : \"minuut\";\r\n</script>","import Walking from \"@/components/RouteStep/Walking.svelte\";\r\nimport Train from \"@/components/RouteStep/Train.svelte\";\r\nimport Bus from \"@/components/RouteStep/Bus.svelte\";\r\nimport PlatformChange from \"@/components/RouteStep/PlatformChange.svelte\";\r\n\r\nimport { cleanupCache } from \"@/js/dataUtils.js\";\r\nimport { prepareStoreLinked } from \"@/js/storeUtils.js\";\r\nimport { writable } from \"svelte/store\";\r\n\r\nconst stepTypeComponentMap = {\r\n    walking: Walking,\r\n    train: Train,\r\n    bus: Bus,\r\n    platformChange: PlatformChange,\r\n}\r\n\r\nexport function getStepInfoComponent(stepType) {\r\n    return stepTypeComponentMap[stepType];\r\n}\r\n\r\nexport function getStepType(step) {\r\n    if (step.stepType !== undefined) return step.stepType;\r\n\r\n    var travelMode = step.travel_mode.toLowerCase();\r\n\r\n    if (travelMode === \"transit\") {\r\n        var htmlInstructions = step.html_instructions.toLowerCase();\r\n\r\n        if (htmlInstructions.includes(\"bus\")) {\r\n            return \"bus\";\r\n        } else if (htmlInstructions.includes(\"train\")) {\r\n            return \"train\";\r\n        }\r\n    } else {\r\n        return travelMode;\r\n    }\r\n}\r\n\r\nexport function getStepColor(stepType, transitDetails) {\r\n    if (typeof stepType !== \"string\") {\r\n        transitDetails = stepType.transit_details;\r\n        stepType = getStepType(stepType);\r\n    }\r\n\r\n    if (stepType === \"walking\" || stepType === \"platformChange\") return \"var(--stepWalkingColor)\";\r\n\r\n    if (stepType === \"bus\") {\r\n        return transitDetails.line.color;\r\n    }\r\n\r\n    if (stepType === \"train\") {\r\n        var trainType = getTrainType(transitDetails);\r\n\r\n        if (trainType === \"intercity\") {\r\n            return \"var(--stepTrainIntercityColor)\";\r\n        } else {\r\n            return \"var(--stepTrainSprinterColor)\";\r\n        }\r\n    }\r\n}\r\n\r\nexport function getStepTextColor(stepType, transitDetails) {\r\n    if (stepType === \"walking\" || stepType === \"platformChange\") return \"\";\r\n\r\n    if (stepType === \"bus\") {\r\n        return transitDetails.line.text_color;\r\n    }\r\n\r\n    if (stepType === \"train\") {\r\n        var trainType = getTrainType(transitDetails);\r\n\r\n        if (trainType === \"intercity\") {\r\n            return \"var(--stepTrainIntercityTextColor)\";\r\n        } else {\r\n            return \"var(--stepTrainSprinterTextColor)\";\r\n        }\r\n    }\r\n}\r\n\r\nexport function getStepIcon(step) {\r\n    var type = getStepType(step);\r\n\r\n    if (type === \"walking\") return \"walk\";\r\n\r\n    return type.toLowerCase();\r\n}\r\n\r\nexport function getStepBorderStyle(step) {\r\n    var stepType = getStepType(step);\r\n\r\n    if (stepType === \"bus\") return \"dashed\";\r\n    else if (stepType === \"train\") return \"solid\";\r\n    else return \"dotted\";\r\n}\r\n\r\nexport function getStepBorderStyling(step) {\r\n    return `border-style: ${getStepBorderStyle(step)};\r\n    border-color: ${getStepColor(step)};`\r\n}\r\n\r\nexport function getTrainType(transitDetails) {\r\n    return transitDetails.line.short_name.toLowerCase();\r\n}\r\n\r\nexport function createStepStore(storeName, data = {}) {\r\n    var store = writable({\r\n        ...data,\r\n    });\r\n\r\n    prepareStoreLinked(store, \"store_\" + storeName);\r\n\r\n    return store;\r\n}","'use strict'\n\n/**\n * @id quickHash\n * @function quickHash\n * Murmur hash optimized for performance, not collision avoidance.\n * @param {string} key - the string to hash\n * @param {number} seed - a seed for hashing\n * @returns {string} hashOfKey - A string of 5 to 7 alpha-numeric characters\n */\nmodule.exports = function (key, seed) {\n  var remainder, bytes, h1, h1b, c1, c2, k1, i\n  seed = 1\n  remainder = key.length & 3 // key.length % 4\n  bytes = key.length - remainder\n  h1 = seed\n  c1 = 0xcc9e2d51\n  c2 = 0x1b873593\n  i = 0\n\n  while (i < bytes) {\n    k1 =\n      ((key.charCodeAt(i) & 0xff)) |\n      ((key.charCodeAt(++i) & 0xff) << 8) |\n      ((key.charCodeAt(++i) & 0xff) << 16) |\n      ((key.charCodeAt(++i) & 0xff) << 24)\n    ++i\n\n    k1 = ((((k1 & 0xffff) * c1) + ((((k1 >>> 16) * c1) & 0xffff) << 16))) & 0xffffffff\n    k1 = (k1 << 15) | (k1 >>> 17)\n    k1 = ((((k1 & 0xffff) * c2) + ((((k1 >>> 16) * c2) & 0xffff) << 16))) & 0xffffffff\n\n    h1 ^= k1\n    h1 = (h1 << 13) | (h1 >>> 19)\n    h1b = ((((h1 & 0xffff) * 5) + ((((h1 >>> 16) * 5) & 0xffff) << 16))) & 0xffffffff\n    h1 = (((h1b & 0xffff) + 0x6b64) + ((((h1b >>> 16) + 0xe654) & 0xffff) << 16))\n  }\n\n  k1 = 0\n\n  // @todo: replace with if else (faster)\n  switch (remainder) {\n    case 3: k1 ^= (key.charCodeAt(i + 2) & 0xff) << 16 //eslint-disable-line\n    case 2: k1 ^= (key.charCodeAt(i + 1) & 0xff) << 8 //eslint-disable-line\n    case 1: k1 ^= (key.charCodeAt(i) & 0xff) //eslint-disable-line\n      k1 = (((k1 & 0xffff) * c1) + ((((k1 >>> 16) * c1) & 0xffff) << 16)) & 0xffffffff\n      k1 = (k1 << 15) | (k1 >>> 17)\n      k1 = (((k1 & 0xffff) * c2) + ((((k1 >>> 16) * c2) & 0xffff) << 16)) & 0xffffffff\n      h1 ^= k1\n  }\n\n  h1 ^= key.length\n\n  h1 ^= h1 >>> 16\n  h1 = (((h1 & 0xffff) * 0x85ebca6b) + ((((h1 >>> 16) * 0x85ebca6b) & 0xffff) << 16)) & 0xffffffff\n  h1 ^= h1 >>> 13\n  h1 = ((((h1 & 0xffff) * 0xc2b2ae35) + ((((h1 >>> 16) * 0xc2b2ae35) & 0xffff) << 16))) & 0xffffffff\n  h1 ^= h1 >>> 16\n\n  return (h1 >>> 0).toString(36)\n}\n","import decodePolyline from \"decode-google-map-polyline\";\r\nimport { writable } from \"svelte/store\";\r\nimport { prepareStoreLinked } from \"@/js/storeUtils\";\r\nimport { getStepType } from \"@/js/stepUtils\";\r\nimport { locationStore, locationIsValid } from \"@/js/locationUtils.js\";\r\nimport quickHash from \"quick-hash\";\r\n\r\nexport const routeStore = writable({});\r\n\r\nprepareStoreLinked(routeStore, \"currentRoute\");\r\n\r\nexport function getGlobalPolyline() {\r\n    return getSteps()\r\n        .map(step => {\r\n            var points = decodePolyline(step.polyline.points);\r\n\r\n            return points.map(point => {\r\n                return {\r\n                    ...point,\r\n                    step,\r\n                }\r\n            });\r\n        })\r\n        .flat(1);\r\n}\r\n\r\nexport function getSteps() {\r\n    if (Object.keys(routeStore.get()).length === 0) return [];\r\n\r\n    return processSteps(routeStore.get().legs[0].steps);\r\n}\r\n\r\nexport function startRoute(route) {\r\n    endRoute();\r\n\r\n    // Done to make sure svelte re-renders the UI\r\n    queueMicrotask(() => {\r\n        routeStore.set(route);\r\n    });\r\n}\r\n\r\nexport function endRoute() {\r\n    routeStore.set({});\r\n}\r\n\r\nexport function processSteps(steps) {\r\n    // Add step type to every step\r\n    steps = steps.map((step, index) => {\r\n        return {\r\n            ...step,\r\n            index,\r\n            stepType: getStepType(step),\r\n            travelMode: step.travel_mode.toLowerCase(),\r\n            id: quickHash(JSON.stringify(step)),\r\n        }\r\n    });\r\n\r\n    // Filter's out intermediary walking steps\r\n    steps = steps.map((step, index) => {\r\n        var lastStep = null;\r\n        var nextStep = null;\r\n\r\n        if (index > 0) {\r\n            lastStep = steps[index - 1];\r\n        }\r\n\r\n        if (index < steps.length - 1) {\r\n            nextStep = steps[index + 1];\r\n        }\r\n\r\n        // Filters out any walking steps that show 2 minutes\r\n        var shouldFilter = Math.round(step.duration.value / 120) === 1;\r\n\r\n        if (step.stepType === \"walking\" && shouldFilter && lastStep && nextStep) {\r\n            if (lastStep.travelMode === \"transit\" && nextStep.travelMode === \"transit\") {\r\n                return {\r\n                    ...step,\r\n                    stepType: \"platformChange\"\r\n                };\r\n            }\r\n        }\r\n\r\n        return step;\r\n    });\r\n\r\n    return steps;\r\n}\r\n\r\nexport function getCurrentStep() {\r\n    if (getSteps().length === 0 || !locationIsValid()) return 9999999;\r\n\r\n    var { lat, long } = locationStore.get();\r\n    var polyline = getGlobalPolyline();\r\n    \r\n    polyline = polyline.map(location => {\r\n        var locationLat = location.lat;\r\n        var locationLong = location.lng;\r\n\r\n        var differenceLat = lat - locationLat;\r\n        var differenceLong = long - locationLong;\r\n\r\n        var distance = Math.sqrt(differenceLat ** 2 + differenceLong ** 2);\r\n\r\n        return {\r\n            ...location,\r\n            distance,\r\n        }\r\n    })\r\n    .sort((a, b) => a.distance - b.distance);\r\n\r\n    return polyline[0].step;\r\n}","{#if isCurrentStep && firstStep}\r\n    <div class=\"routeStep firstStep {travelMode} {stepType}\" style=\"border-color: {borderColor};\"></div>\r\n{/if}\r\n<div class=\"routeStep {travelMode} {stepType} {currentStepClass}\" style=\"border-color: {borderColor};\">\r\n    <svelte:component this={stepInfoComponent} {step} />\r\n</div>\r\n{#if isCurrentStep && lastStep}\r\n    <div class=\"routeStep firstStep {travelMode} {stepType}\" style=\"border-color: {borderColor};\"></div>\r\n{/if}\r\n\r\n<script>\r\nimport { getStepColor, getStepTextColor, getStepType, getStepInfoComponent } from \"@/js/stepUtils.js\";\r\nimport { onMount } from \"svelte\";\r\nimport { locationStore } from \"@/js/locationUtils.js\";\r\nimport { getCurrentStep, routeStore, getSteps } from \"@/js/routeUtils.js\";\r\nimport { toTimeString } from \"@/js/timeUtils.js\";\r\n\r\n// Props\r\nexport var step;\r\n\r\n// Computed\r\n$: travelMode = step.travel_mode.toLowerCase();\r\n$: transitDetails = travelMode === \"transit\" ? step.transit_details : {};\r\n$: stepType = getStepType(step);\r\n$: borderColor = getStepColor(stepType, transitDetails);\r\n$: textColor = getStepTextColor(stepType, transitDetails);\r\n$: stepInfoComponent = getStepInfoComponent(stepType);\r\n$: isCurrentStep = getIsCurrentStep($locationStore);\r\n$: currentStepClass = isCurrentStep ? \"current\" : \"\";\r\n$: firstStep = step.index === 0;\r\n$: lastStep = step.index === getSteps().length - 1;\r\n\r\n// Functions\r\nfunction getIsCurrentStep() {\r\n    var currentStep = getCurrentStep();\r\n    return currentStep.index === step.index;\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n.routeStep {\r\n    min-height: 16px;\r\n    width: calc(95% - 32px - 62px);\r\n\r\n    padding: 16px 16px;\r\n    margin: 0 auto;\r\n\r\n    border: 0;\r\n    border-left: 2px var(--stepWalkingStyle) var(--stepWalkingColor);\r\n\r\n    &.firstStep {\r\n        min-height: 10px;\r\n        padding: 0px 16px;\r\n    }\r\n\r\n    &.walking {\r\n        border-style: var(--stepWalkingStyle);\r\n    }\r\n\r\n    &.transit {\r\n        &.bus {\r\n            border-style: var(--stepBusStyle);\r\n        }\r\n\r\n        &.train {\r\n            border-style: var(--stepTrainStyle);\r\n        }\r\n    }\r\n\r\n    &.current {\r\n        width: calc(95% - 32px - 30px);\r\n\r\n        padding: 16px;\r\n        border-radius: 10px;\r\n\r\n        border: 0;\r\n        box-shadow: var(--defaultBoxShadow);\r\n    }\r\n}\r\n\r\n</style>","<div class=\"buttonContainer\" style=\"grid-template-columns: repeat({buttons}, 1fr);\">\r\n    <slot />\r\n</div>\r\n\r\n<script>\r\n// Props\r\nexport var buttons = 1;\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n.buttonContainer {\r\n    width: calc(95% - 62px);\r\n    \r\n    margin: 16px auto;\r\n\r\n    display: grid;\r\n    grid-template-rows: 32px;\r\n    grid-gap: 16px;\r\n}\r\n\r\n</style>","<button on:click={clickEvent}>\r\n    <span class=\"mdi mdi-{icon}\"></span>\r\n    <slot />\r\n</button>\r\n\r\n<script>\r\nimport { createEventDispatcher } from \"svelte\";\r\nconst dispatch = createEventDispatcher();\r\n\r\n// Props\r\nexport var icon = \"\";\r\n\r\n// Function\r\nfunction clickEvent() {\r\n    dispatch(\"click\");\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\nbutton {\r\n    margin: 0;\r\n\r\n    background-color: transparent;\r\n    border: 1px solid var(--foregroundColor);\r\n    border-radius: 5px;\r\n    font-weight: 700;\r\n    color: var(--foregroundColor);\r\n    line-height: 16px;\r\n\r\n    span {\r\n        font-size: 18px;\r\n        line-height: 16px;\r\n    }\r\n}\r\n\r\n</style>","<div class=\"routeGuide\">\r\n    {#if started}\r\n        <div class=\"tripStartInfo\">\r\n            <p><span class=\"mdi mdi-flag\"></span> Vertrek om <b>{departureTime}</b></p>\r\n        </div>\r\n        {#each steps as step}\r\n            <Step {step} />\r\n        {/each}\r\n        <div class=\"tripStartInfo\">\r\n            <p><span class=\"mdi mdi-flag-checkered\"></span> Aankomst om <b>{arrivalTime}</b></p>\r\n        </div>\r\n    {:else}\r\n        <EmptyState>Geen route gestart</EmptyState>\r\n    {/if}\r\n</div>\r\n<ButtonContainer buttons={1}>\r\n    {#if started}\r\n        <Button on:click={endRoute} icon=\"stop-circle-outline\">Stop route</Button>\r\n    {/if}\r\n</ButtonContainer>\r\n\r\n<script>\r\nimport { startLocation } from \"@/js/locationUtils.js\";\r\nimport { toTimeString } from \"@/js/timeUtils.js\";\r\n\r\n// Components\r\nimport Step from \"@/components/Step.svelte\";\r\nimport ButtonContainer from \"@/components/ButtonContainer.svelte\";\r\nimport Button from \"@/components/Button.svelte\";\r\nimport EmptyState from \"@/components/EmptyState.svelte\";\r\n\r\n// Stores\r\nimport { routeStore, getSteps, endRoute } from \"@/js/routeUtils.js\";\r\n\r\n// Computed\r\n$: steps = getSteps($routeStore);\r\n$: started = steps.length > 0;\r\n$: leg = started ? $routeStore.legs[0] : {};\r\n$: departureTime = started ? toTimeString(leg.departure_time.value) : \"\";\r\n$: arrivalTime = started ? toTimeString(leg.arrival_time.value) : \"\";\r\n\r\n// On create\r\nstartLocation();\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n.tripStartInfo {\r\n    width: calc(95% - 48px);\r\n    margin: 8px auto;\r\n\r\n    p {\r\n        margin: 0;\r\n\r\n        span {\r\n            font-size: 18px;\r\n            margin-right: 8px;\r\n        }\r\n    }\r\n}\r\n\r\n.routeGuide {\r\n    width: 100%;\r\n\r\n    padding: 16px 0;\r\n    \r\n    & > :global(.emptyState) {\r\n        width: calc(95% - 32px - 30px);\r\n    }\r\n}\r\n\r\n</style>","<div class=\"tripOverviewBar\">\r\n    {#each steps as step}\r\n        <div class=\"tripSection\" style=\"{getStyle(step)}\"></div>\r\n    {/each}\r\n</div>\r\n\r\n<script>\r\nimport { getStepBorderStyle, getStepColor } from \"@/js/stepUtils.js\";\r\n\r\n// Props\r\nexport var steps;\r\nconsole.log(steps);\r\n\r\n// Functions\r\nfunction getStyle(step) {\r\n    return `width: ${getWidth(step)}%;\r\n    border-color: ${getStepColor(step)};\r\n    border-style: ${getStepBorderStyle(step)}`;\r\n}\r\n\r\nfunction getWidth(step) {\r\n    var stepDuration = step.duration.value;\r\n    var totalTime = steps.reduce((acc, step) => acc + step.duration.value, 0);\r\n    \r\n    return (stepDuration / totalTime) * 100;\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n.tripOverviewBar {\r\n    height: 2px;\r\n    width: 100%;\r\n\r\n    .tripSection {\r\n        height: 0px;\r\n\r\n        float: left;\r\n\r\n        border: 0;\r\n        border-top: 2px dotted var(--lowContrastColor);\r\n    }\r\n}\r\n\r\n</style>","<button on:click={clickEvent}>\r\n    <span class=\"mdi mdi-{icon}\"></span>\r\n    <slot />\r\n</button>\r\n\r\n<script>\r\nimport { createEventDispatcher } from \"svelte\";\r\nconst dispatch = createEventDispatcher();\r\n\r\n// Props\r\nexport var icon = \"\";\r\n\r\n// Function\r\nfunction clickEvent() {\r\n    dispatch(\"click\");\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\nbutton {\r\n    margin: 0;\r\n\r\n    background-color: transparent;\r\n    border: 0;\r\n    border-radius: 5px;\r\n    color: var(--foregroundColor);\r\n    line-height: 16px;\r\n\r\n    span {\r\n        font-size: 18px;\r\n        line-height: 16px;\r\n    }\r\n}\r\n\r\n</style>","<div class=\"stepSmall\" style={styling}>\r\n    <p><span class=\"mdi mdi-{icon}\"></span> {step.html_instructions}</p>\r\n</div>\r\n\r\n<script>\r\nimport { getStepBorderStyling, getStepIcon } from \"@/js/stepUtils.js\";\r\n\r\n// Props\r\nexport var step;\r\n\r\n// Computed\r\n$: styling = getStepBorderStyling(step);\r\n$: icon = getStepIcon(step);\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n.stepSmall {\r\n    width: 100%;\r\n\r\n    padding: 8px;\r\n\r\n    border: 0;\r\n    border-left: 2px dotted #ffffff;\r\n\r\n    p {\r\n        margin: 0;\r\n\r\n        font-size: 14px;\r\n    }\r\n}\r\n\r\n</style>","<div class=\"trip {openClass}\">\r\n    <InfoRow>\r\n        <span slot=\"left\">{endName}</span>\r\n    </InfoRow>\r\n    <InfoRow>\r\n        <span slot=\"left\">{departureTimeString}</span>\r\n        <span class=\"tripIcons\" slot=\"center\">\r\n            {#each icons as icon}\r\n                <span class=\"mdi mdi-{icon}\"></span>\r\n            {/each}\r\n        </span>\r\n        <span slot=\"right\">{arrivalTimeString}</span>\r\n    </InfoRow>\r\n    <TripOverviewBar {steps} />\r\n    <div class=\"buttons\">\r\n        <SoftButton on:click=\"{() => loadTrip(trip)}\" icon=\"play-circle-outline\">\r\n            Start\r\n        </SoftButton>\r\n        <SoftButton icon={toggleOpenButtonIcon} on:click={toggleOpen}>\r\n            {#if !open}\r\n                Meer Info\r\n            {:else}\r\n                Minder Info\r\n            {/if}\r\n        </SoftButton>\r\n    </div>\r\n    {#if open}\r\n        <div class=\"tripSteps\">\r\n            {#each leg.steps as step}\r\n                <StepSmall {step} />\r\n            {/each}\r\n        </div>\r\n    {/if}\r\n</div>\r\n\r\n<script>\r\nimport { standardizeTimestamp, toTimeString } from \"@/js/timeUtils.js\";\r\nimport { getStepIcon } from \"@/js/stepUtils.js\";\r\nimport { processSteps, startRoute } from \"@/js/routeUtils.js\";\r\n\r\n// Components\r\nimport InfoRow from \"@/components/InfoRow.svelte\";\r\nimport TripOverviewBar from \"@/components/TripOverviewBar.svelte\";\r\nimport SoftButton from \"@/components/SoftButton.svelte\";\r\nimport StepSmall from \"@/components/StepSmall.svelte\";\r\nimport TripStepDetail from \"@/components/TripStepDetail.svelte\";\r\n\r\n// Props\r\nexport var trip;\r\nconsole.log(trip);\r\n\r\n// Data\r\nvar open = false;\r\n\r\n// Computed\r\n$: leg = trip.legs[0];\r\n$: lastStep = leg.steps[leg.steps.length - 1];\r\n$: endName = getEndName(leg);\r\n$: departureTimetamp = standardizeTimestamp(leg.departure_time.value);\r\n$: arrivalTimetamp = standardizeTimestamp(leg.arrival_time.value);\r\n$: departureTimeString = toTimeString(departureTimetamp);\r\n$: arrivalTimeString = toTimeString(arrivalTimetamp);\r\n$: steps = processSteps(leg.steps);\r\n$: openClass = open ? \"open\" : \"\";\r\n$: toggleOpenButtonIcon = !open ? \"plus-circle-outline\" : \"minus-circle-outline\"\r\n$: icons = getTripIcons(steps);\r\n\r\n// Functions\r\nfunction getEndName(leg) {\r\n    var address = leg.end_address.split(\", \");\r\n    address.pop();\r\n    address.pop();\r\n    return address.join(\", \");\r\n}\r\n\r\nfunction getTripIcons(steps) {\r\n    return steps\r\n        .map(step => getStepIcon(step));\r\n}\r\n\r\nfunction loadTrip(trip) {\r\n    document.querySelector(\"main\").scrollTo(0, 0);\r\n\r\n    startRoute(trip);\r\n}\r\n\r\nfunction toggleOpen() {\r\n    open = !open;\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n.trip {\r\n    width: calc(95% - 32px - 16px);\r\n    \r\n    padding: 8px;\r\n    margin: 8px auto;\r\n\r\n    &.open {\r\n        width: calc(95% - 32px);\r\n\r\n        padding: 24px 16px;\r\n\r\n        border-radius: 10px;\r\n        box-shadow: var(--defaultBoxShadow);\r\n    }\r\n\r\n    .buttons {\r\n        width: 100%;\r\n\r\n        margin: 8px 0;\r\n\r\n        display: inline-block;\r\n\r\n        & > :global(button) {\r\n            width: 50%;\r\n\r\n            float: left;\r\n        }\r\n    }\r\n\r\n    .tripSteps :global(.routeStep) {\r\n        width: calc(100% - 16px);\r\n    }\r\n}\r\n\r\n.tripIcons {\r\n    font-size: 18px;\r\n}\r\n\r\n</style>","<section class=\"trips\">\r\n    <h3>Routes</h3>\r\n    {#each trips as trip}\r\n        <Trip {trip} />\r\n    {:else}\r\n        <div class=\"emptyStateWrapper\">\r\n            <EmptyState>Geen routes gevonden</EmptyState>\r\n        </div>\r\n    {/each}\r\n</section>\r\n\r\n<script>\r\n// Components\r\nimport Trip from \"@/components/Trip.svelte\";\r\nimport EmptyState from \"@/components/EmptyState.svelte\";\r\n\r\n// Props\r\nexport var trips;\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n.trips {\r\n    width: 100%;\r\n\r\n    margin: 0 auto;\r\n\r\n    .emptyStateWrapper {\r\n        width: calc(95% - 32px - 30px);\r\n\r\n        margin: 0 auto;\r\n    }\r\n}\r\n\r\nh3 {\r\n    width: calc(95% - 32px - 16px);\r\n    margin: 16px auto;\r\n}\r\n\r\n</style>","{#if !hasGPS}\r\n    <p><span class=\"mdi mdi-crosshairs-question\"></span> Locatie kan niet worden gevonden</p>\r\n{/if}\r\n{#if !online}\r\n    <p><span class=\"mdi mdi-wifi-strength-alert-outline\"></span> Je bent offline. Gegevens worden niet bijgewerkt</p>\r\n{/if}\r\n<RouteGuide />\r\n<Divider />\r\n<TripList trips={testTrips.routes} />\r\n\r\n<script>\r\nimport { startRoute } from \"@/js/routeUtils.js\";\r\nimport { serverRequest } from \"@/js/dataUtils.js\";\r\nimport { locationStore, locationIsValid } from \"@/js/locationUtils.js\";\r\n\r\n// Components\r\nimport RouteGuide from \"@/components/RouteGuide.svelte\";\r\nimport TripList from \"@/components/TripList.svelte\";\r\nimport Divider from \"@/components/Divider.svelte\";\r\nimport InfoRow from \"@/components/InfoRow.svelte\";\r\n\r\n// Data\r\n// import testRoute from \"@/json/testGoogle.json\";\r\nvar testTrips = {routes: []};\r\nvar online = navigator.onLine || true;\r\n\r\n// Computed\r\n$: hasGPS = locationIsValid($locationStore);\r\n\r\nwindow.addEventListener(\"online\", () => online = true);\r\nwindow.addEventListener(\"offline\", () => online = false);\r\n\r\n// On create\r\nserverRequest(\"/trips?fromLatLong=52.640718,4.821434&toLatLong=52.387116,4.614627\")\r\n    .then(trips => testTrips = trips);\r\n// (async function() {\r\n//     testTrips = await serverRequest(\"/trips?fromLatLong=52.640718,4.821434&toLatLong=52.387116,4.614627\");\r\n// })();\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\np {\r\n    width: calc(95% - 32px);\r\n    margin: 16px auto;\r\n\r\n    text-align: center;\r\n    font-weight: 700;\r\n    color: var(--errorColor);\r\n}\r\n\r\n</style>","import { prepareStoreLinked } from \"@/js/storeUtils.js\";\r\nimport { writable } from \"svelte/store\";\r\n\r\nexport const addressStore = writable({\r\n    home: {\r\n        name: \"Huis\",\r\n        icon: \"home-outline\",\r\n        canBeDeleted: false,\r\n        address: \"\",\r\n        location: {\r\n            lat: 0,\r\n            long: 0,\r\n        },\r\n    },\r\n    work: {\r\n        name: \"Werk\",\r\n        icon: \"briefcase-outline\",\r\n        canBeDeleted: false,\r\n        address: \"\",\r\n        location: {\r\n            lat: 0,\r\n            long: 0,\r\n        },\r\n    },\r\n});\r\n\r\nprepareStoreLinked(addressStore, \"addresses\");\r\n\r\nexport function getAddresses() {\r\n    var addresses = addressStore.get();\r\n\r\n    return Object.entries(addresses)\r\n        .map(([key, value]) => {\r\n            return {\r\n                canBeDeleted: true,\r\n                id: key,\r\n                ...value,\r\n            }\r\n        });\r\n}","export default function clickOutside(node, onEventFunction) {\r\n    const isNestedChild = (parent, child) => {\r\n        var currentNode = child;\r\n\r\n        while (currentNode !== null) {\r\n            if (currentNode.parentNode === parent) {\r\n                return true;\r\n            } else {\r\n                currentNode = currentNode.parentNode;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    const handleClick = event => {\r\n        var { target } = event;\r\n\r\n        if (!node.isSameNode(target) && !isNestedChild(node, target)) {\r\n            onEventFunction();\r\n        }\r\n    }\r\n\r\n    document.addEventListener(\"click\", handleClick);\r\n\r\n    return {\r\n        destroy() {\r\n            document.removeEventListener(\"click\", handleClick);\r\n        }\r\n    }\r\n}","<input type=\"text\" placeholder=\"Zoek locatie\" bind:value={query} on:keydown={onKeyPress} />\r\n{#each results as result}\r\n    <div class=\"result\" on:click={() => chooseResult(result)}>\r\n        <p>{result.properties.search}</p>\r\n    </div>\r\n{/each}\r\n\r\n<script>\r\nimport { createEventDispatcher } from \"svelte\";\r\nconst dispatch = createEventDispatcher();\r\n\r\n// Props\r\nexport var addressString;\r\nexport var coordinates = {\r\n    lat: 0,\r\n    long: 0,\r\n};\r\n\r\n// Data\r\nvar query = \"\";\r\nvar results = [];\r\nvar timer;\r\n\r\n// Functions\r\nfunction onKeyPress() {\r\n    const timeoutValue = 1000;\r\n    if (timer) clearTimeout(timer);\r\n\r\n    timer = setTimeout(async () => {\r\n        var response = await fetch(`https://1313.nl/geocoder/${query}*`)\r\n            .then(r => r.json());\r\n\r\n        results = response.features;\r\n    }, timeoutValue);\r\n}\r\n\r\nfunction chooseResult(result) {\r\n    var [long, lat] = result.geometry.coordinates;\r\n\r\n    query = result.properties.search;\r\n    addressString = query;\r\n\r\n    coordinates.lat = lat;\r\n    coordinates.long = long;\r\n\r\n    coordinates = coordinates;\r\n    dispatch(\"choise\");\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\ninput {\r\n    width: 100%;\r\n\r\n    margin: 0;\r\n\r\n    outline: 0;\r\n    border: 2px solid var(--lowContrastColor);\r\n    border-radius: 5px;\r\n}\r\n\r\n.result {\r\n    width: calc(90% - 16px);\r\n\r\n    padding: 8px;\r\n    margin: 0 auto;\r\n\r\n    border-left: 2px dashed var(--lowContrastColor);\r\n\r\n    p {\r\n        margin: 0;\r\n    }\r\n}\r\n\r\n</style>","<AddressSearchBar bind:coordinates={address.location} bind:addressString={address.address} on:choise={refresh} />\r\n\r\n<script>\r\n// Stores\r\nimport { addressStore } from \"@/js/addressUtils.js\";\r\n\r\n// Components\r\nimport AddressSearchBar from \"@/components/AddressSearchBar.svelte\";\r\n\r\n// Props\r\nexport var address;\r\n\r\n// Computed\r\n$: id = address.id;\r\n\r\n// Functions\r\nfunction refresh() {\r\n    $addressStore[id] = address;\r\n}\r\n</script>","<div class=\"address {currentTab !== \"\" ? \"tabOpen\" : \"\"}\" use:outsideClick={closeTab}>\r\n    <h3 class=\"header\">\r\n        <span class=\"mdi mdi-{address.icon}\"></span>\r\n        {address.name}\r\n    </h3>\r\n    <InfoRow>\r\n        <span slot=\"left\"><span class=\"mdi mdi-road-variant\"></span> {physicalAddress}</span>\r\n    </InfoRow>\r\n    <div class=\"buttons\">\r\n        <SoftButton icon=\"pencil\" on:click={() => openTab(\"changeAddress\")}>Pas aan</SoftButton>\r\n        <SoftButton icon=\"format-list-numbered\">Regels</SoftButton>\r\n    </div>\r\n    {#if currentTab === \"changeAddress\"}\r\n        <div class=\"expandable\">\r\n            <AddressEditor bind:address={address} />\r\n        </div>\r\n    {/if}\r\n</div>\r\n\r\n<script>\r\nimport outsideClick from \"svelte-outside-click\";\r\n\r\n// Components\r\nimport AddressEditor from \"@/components/AddressEditor.svelte\";\r\nimport InfoRow from \"@/components/InfoRow.svelte\";\r\nimport SoftButton from \"@/components/SoftButton.svelte\";\r\nimport ButtonContainer from \"@/components/ButtonContainer.svelte\";\r\n\r\n// Props\r\nexport var address;\r\n\r\n// Data\r\nvar currentTab = \"\";\r\n\r\n// Computed\r\n$: physicalAddress = address.address ? address.address : \"(geen address ingesteld)\";\r\n\r\n// Functions\r\nfunction openTab(tab) {\r\n    currentTab = tab;\r\n}\r\n\r\nfunction closeTab() {\r\n    currentTab = \"\";\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n.address {\r\n    width: calc(95% - 32px - 16px);\r\n\r\n    padding: 8px;\r\n    margin: 16px auto;\r\n\r\n    border-radius: 10px;\r\n\r\n    &.tabOpen {\r\n        border: 2px solid #000000;\r\n    }\r\n}\r\n\r\n.header {\r\n    margin: 0;\r\n    margin-bottom: 2px;\r\n\r\n    text-align: left;\r\n\r\n    // & > span {\r\n    //     display: inline-block;\r\n    //     padding: 4px 8px;\r\n\r\n    //     border: 2px solid #000000;\r\n    //     border-radius: 6px;\r\n    // }\r\n}\r\n\r\n.buttons {\r\n    width: 100%;\r\n\r\n    margin: 0px 0;\r\n\r\n    display: inline-block;\r\n\r\n    & > :global(button) {\r\n        width: 50%;\r\n\r\n        float: left;\r\n    }\r\n}\r\n\r\n.expandable {\r\n    padding: 8px 0;\r\n}\r\n\r\n</style>","{#each addresses as address}\r\n    <Address bind:address={address} on:change={onChange} />\r\n{/each}\r\n\r\n<script>\r\nimport { getAddresses, addressStore } from \"@/js/addressUtils.js\";\r\n\r\n// Components\r\nimport Address from \"@/components/Address.svelte\";\r\n\r\n// Computed\r\n$: addresses = getAddresses($addressStore);\r\n\r\n// Functions\r\nfunction onChange() {\r\n    \r\n}\r\n</script>","import DashboardView from \"@/views/DashboardView.svelte\";\r\nimport AddressView from \"@/views/AddressView.svelte\";\r\n\r\nexport default {\r\n    \"/\": DashboardView,\r\n    \"/addressbook\": AddressView,\r\n}","<main>\n    <Header />\n    {#if loading}\n        loading\n    {:else}\n        <Router {routes} />\n    {/if}\n</main>\n\n<script>\nimport { registerServiceWorker } from \"@/js/serviceWorkerUtils.js\";\nimport { preloadAssets } from \"@/js/dataUtils.js\";\n\n// Components\nimport Header from \"@/components/Header.svelte\";\nimport Router from \"svelte-spa-router\";\n\n// Data\nimport routes from \"@/routes.js\";\nvar loading = true;\n\n// Create\nregisterServiceWorker();\npreloadAssets()\n    .then(() => loading = false);\n</script>\n\n<style lang=\"scss\">\n@import \"./global.scss\";\n\n// :root {\n    \n// }\n\nmain {\n    height: 100%;\n    width: 100%;\n\n    overflow-x: hidden;\n    overflow-y: auto;\n    background-color: var(--backgroundColor);\n\n    // Standard color options\n    --backgroundColor: #ffffff;\n    --foregroundColor: #000000;\n    --errorColor: #ff3030;\n    --accentColor: #006cb4;\n    --scimColor: #cecece6e;\n\n    --lowContrastColor: #cecece;\n    --defaultBoxShadow: 0 0 9px #d4d4d4;\n\n    --stepWalkingColor: #9b9b9b;\n    --stepTrainIntercityColor: #ffc917;\n    --stepTrainIntercityTextColor: #000000;\n    --stepTrainSprinterColor: #2196f3;\n    --stepTrainSprinterTextColor: #ffffff;\n    --stepWalkingStyle: dotted;\n    --stepBusStyle: dashed;\n    --stepTrainStyle: solid;\n\n    --stepBusPassed: #915700;\n    --stepBusCurrent: #008f00;\n\n    --liveDataActive: #00ad00;\n\n    &.dark {\n        --backgroundColor: #161616;\n        --foregroundColor: #dadada;\n        --scimColor: #4e4e4e6e;\n\n        --lowContrastColor: #363636;\n        --defaultBoxShadow: 0 0 9px #000000;\n    }\n}\n\n:global(html) {\n    font-family: \"Roboto\", sans-serif;\n}\n</style>","export function registerServiceWorker() {\r\n    if (window.navigator === undefined) return;\r\n    if (navigator.serviceWorker === undefined) return;\r\n    const { serviceWorker } = navigator;\r\n    \r\n    serviceWorker.register(\"./serviceWorker.js\")\r\n        .then(registration => console.log(\"Success\", registration))\r\n        .catch(error => console.log(\"Fail\", error))\r\n}","import App from \"./App.svelte\";\n\nconst app = new App({\n\ttarget: document.body\n});\n\nexport default app;"],"names":["noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","subscribe","store","callbacks","unsub","unsubscribe","component_subscribe","component","callback","$$","on_destroy","push","create_slot","definition","ctx","$$scope","slot_ctx","get_slot_context","tar","src","k","assign","slice","get_slot_changes","dirty","lets","undefined","merged","len","Math","max","length","i","null_to_empty","value","set_store_value","ret","set","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","d","element","name","document","createElement","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","removeAttribute","getAttribute","setAttribute","set_data","set_input_value","input","set_style","key","important","style","setProperty","current_component","set_current_component","get_current_component","Error","onMount","on_mount","onDestroy","createEventDispatcher","type","detail","e","createEvent","initCustomEvent","custom_event","call","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","add_render_callback","add_flush_callback","flushing","seen_callbacks","Set","flush","update","pop","has","add","clear","fragment","before_update","p","after_update","outroing","outros","group_outros","r","c","check_outros","transition_in","block","local","delete","transition_out","o","bind","index","props","bound","create_component","mount_component","m","new_on_destroy","map","filter","destroy_component","make_dirty","then","fill","init","instance","create_fragment","not_equal","parent_component","prop_values","context","Map","ready","rest","hydrate","l","Array","from","childNodes","children","intro","SvelteComponent","[object Object]","this","$destroy","indexOf","splice","subscriber_queue","readable","start","writable","stop","subscribers","new_value","run_queue","s","invalidate","subscriber","derived","stores","initial_value","single","isArray","stores_array","auto","inited","values","pending","cleanup","sync","result","unsubscribers","prepareStore","get","resultValue","getList","_","arrayPush","item","items","arrayRemove","prepareStoreLinked","storeLocation","defaultData","storeData","localData","localStorage","getItem","JSON","parse","stringify","setItem","linkStore","storeWritable","stationCodes","stationCodesSearchable","stationLocations","stationsFullDetails","preloadUrl","url","res","rej","fetch","json","catch","err","async","serverRequest","endpoint","maxAge","now","Date","keys","timestamp","removeItem","cleanupCache","dispatch","icon","getLocation","hashPosition","window","location","href","substr","qsPosition","querystring","loc","$loc","routes","prefix","RouteItem","path","_sveltesparouter","charAt","RegExp","pattern","str","loose","tmp","ext","arr","split","shift","substring","regexparam","route","conditions","userData","_pattern","_keys","startsWith","matches","exec","out","routesList","componentParams","dispatchNextTick","setTimeout","match","checkConditions","isCurrentPage","$location","hash","pushRoute","menuOpen","polyline","Ya","min","Za","w","E","lat","lng","floor","f","g","n","h","charCodeAt","decodePath","el","Number","toFixed","step","durationInMinutes","round","duration","minuteText","toTimeString","standardizeTimestamp","toFixedLength","getHours","getMinutes","String","locationStore","long","locationWatcher","locationIsValid","facilityIconMap","WIFI","TOILET","STILTE","FIETS","STROOM","getFacilityIcon","facility","getFullDetailsByCode","code","stations","station","getFullDetailsByLocation","getStationCodeByLocation","stationCode","directDistance","positionA","positionB","differenceLat","differenceLong","abs","sqrt","sort","LiveTrainLocation","observers","observer","tripNumber","super","timer","refreshInterval","clearTimer","clearInterval","setInterval","tick","response","console","log","locations","trainLocation","closestStation","backgroundColor","textColor","open","short_name","departure_stop","arrival_stop","materieeldelen","afbeelding","headsign","lengte","materieelnummer","faciliteiten","stepStore","createStepStore","id","$stepStore","trainData","trainTrip","liveData","liveMessage","trainDataStatus","refreshTrip","tripRefreshCode","uid","refreshTrainTrip","stopCodes","stops","getStopCodes","legs","coords","join","refreshTimer","points","closestPoint","point","directDifference","snelheid","namen","middel","error","tripData","transit_details","trip_short_name","startLocation","start_location","endLocation","end_location","startStation","endStation","trips","trip","some","leg","includes","getTrainTrip","transitDetails","line","getStepColor","getStepTextColor","startTimestamp","departure_time","startTimeString","endTimestamp","arrival_time","endTimeString","tripLoaded","trainTripLeg","originPlatform","origin","plannedTrack","destinationPlatform","destination","exitDirection","exitSide","cancelled","liveDataAvailable","getBusStop","busStops","getCurrentStop","isCurrentStop","current","TimingPointName","status","TripStopStatus","getIcon","busStop","busJourney","busJourneyFoundTimestamp","refreshTripTimer","refreshBusJourney","busJourneyFound","getBusTrip","busJourneyCode","checkDeparture","delay","searchDepartureTime","expectedNumber","passes","departures","Passes","entries","pass","agency","localAuthority","linePlanningNumber","journeyNumber","fortifyOrderNumber","departureTimeStamp","ExpectedArrivalTime","getTime","differenceToExpectedTime","differenceToCurrentTime","passedExpectedTimeDifference","passedCurrentTimeDifference","queueMicrotask","startCheckAfter","journey","Stops","foundCurrent","getBusStopsFromJourney","activeStops","currentStop","last","nextOne","nextTwo","getActiveStops","currentStopText","getCurrentStopText","stepTypeComponentMap","walking","train","bus","platformChange","getStepType","stepType","travelMode","travel_mode","toLowerCase","htmlInstructions","html_instructions","color","getTrainType","text_color","getStepIcon","getStepBorderStyle","storeName","seed","remainder","bytes","h1","h1b","c1","c2","k1","toString","routeStore","getSteps","processSteps","steps","endRoute","quickHash","lastStep","nextStep","shouldFilter","getCurrentStep","decodePolyline","flat","locationLat","locationLong","distance","borderColor","stepInfoComponent","getStepInfoComponent","isCurrentStep","currentStepClass","firstStep","buttons","navigator","geolocation","watchPosition","position","latitude","longitude","started","$routeStore","departureTime","arrivalTime","stepDuration","totalTime","reduce","acc","getWidth","styling","getStepBorderStyling","loadTrip","querySelector","scrollTo","getEndName","address","end_address","getTripIcons","endName","departureTimetamp","arrivalTimetamp","departureTimeString","arrivalTimeString","openClass","toggleOpenButtonIcon","icons","testTrips","online","onLine","hasGPS","addressStore","home","canBeDeleted","work","clickOutside","onEventFunction","handleClick","isSameNode","parent","child","currentNode","isNestedChild","properties","search","addressString","coordinates","query","results","chooseResult","geometry","clearTimeout","features","$addressStore","action_result","destroy","currentTab","openTab","tab","physicalAddress","onChange","addresses","getAddresses","/","/addressbook","loading","serviceWorker","register","registration","registerServiceWorker","all","preloadAssets","body"],"mappings":"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"}