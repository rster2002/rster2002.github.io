var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function s(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function l(t,e,n){t.$$.on_destroy.push(c(e,n))}function i(t,e,n,r){if(t){const s=a(t,e,n,r);return t[0](s)}}function a(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function u(t,e,n,r){if(t[2]&&r){const s=t[2](r(n));if(void 0===e.dirty)return s;if("object"==typeof s){const t=[],n=Math.max(e.dirty.length,s.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|s[r];return t}return e.dirty|s}return e.dirty}function d(t){return null==t?"":t}function $(t,e,n=e){return t.set(n),e}function f(t,e){t.appendChild(e)}function p(t,e,n){t.insertBefore(e,n||null)}function m(t){t.parentNode.removeChild(t)}function g(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function v(t){return document.createTextNode(t)}function y(){return v(" ")}function x(){return v("")}function b(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function w(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function k(t,e){e=""+e,t.data!==e&&(t.data=e)}function S(t,e){(null!=e||t.value)&&(t.value=e)}function C(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}let _;function T(t){_=t}function j(){if(!_)throw new Error("Function called outside component initialization");return _}function E(t){j().$$.on_mount.push(t)}function N(t){j().$$.on_destroy.push(t)}function I(){const t=j();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const s=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);r.slice().forEach(e=>{e.call(t,s)})}}}const D=[],A=[],L=[],M=[],O=Promise.resolve();let R=!1;function z(t){L.push(t)}function B(t){M.push(t)}let P=!1;const q=new Set;function J(){if(!P){P=!0;do{for(let t=0;t<D.length;t+=1){const e=D[t];T(e),F(e.$$)}for(D.length=0;A.length;)A.pop()();for(let t=0;t<L.length;t+=1){const e=L[t];q.has(e)||(q.add(e),e())}L.length=0}while(D.length);for(;M.length;)M.pop()();R=!1,P=!1,q.clear()}}function F(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}const W=new Set;let G;function H(){G={r:0,c:[],p:G}}function V(){G.r||r(G.c),G=G.p}function Y(t,e){t&&t.i&&(W.delete(t),t.i(e))}function Z(t,e,n,r){if(t&&t.o){if(W.has(t))return;W.add(t),G.c.push(()=>{W.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function K(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function Q(t){t&&t.c()}function U(t,n,o){const{fragment:c,on_mount:l,on_destroy:i,after_update:a}=t.$$;c&&c.m(n,o),z(()=>{const n=l.map(e).filter(s);i?i.push(...n):r(n),t.$$.on_mount=[]}),a.forEach(z)}function X(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function tt(t,e){-1===t.$$.dirty[0]&&(D.push(t),R||(R=!0,O.then(J)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function et(e,s,o,c,l,i,a=[-1]){const u=_;T(e);const d=s.props||{},$=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:n(),dirty:a};let f=!1;$.ctx=o?o(e,d,(t,n,...r)=>{const s=r.length?r[0]:n;return $.ctx&&l($.ctx[t],$.ctx[t]=s)&&($.bound[t]&&$.bound[t](s),f&&tt(e,t)),n}):[],$.update(),f=!0,r($.before_update),$.fragment=!!c&&c($.ctx),s.target&&(s.hydrate?$.fragment&&$.fragment.l(function(t){return Array.from(t.childNodes)}(s.target)):$.fragment&&$.fragment.c(),s.intro&&Y(e.$$.fragment),U(e,s.target,s.anchor),J()),T(u)}class nt{$destroy(){X(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const rt=[];function st(t,e){return{subscribe:ot(t,e).subscribe}}function ot(e,n=t){let r;const s=[];function c(t){if(o(e,t)&&(e=t,r)){const t=!rt.length;for(let t=0;t<s.length;t+=1){const n=s[t];n[1](),rt.push(n,e)}if(t){for(let t=0;t<rt.length;t+=2)rt[t][0](rt[t+1]);rt.length=0}}}return{set:c,update:function(t){c(t(e))},subscribe:function(o,l=t){const i=[o,l];return s.push(i),1===s.length&&(r=n(c)||t),o(e),()=>{const t=s.indexOf(i);-1!==t&&s.splice(t,1),0===s.length&&(r(),r=null)}}}}function ct(e,n,o){const l=!Array.isArray(e),i=l?[e]:e,a=n.length<2;return st(o,e=>{let o=!1;const u=[];let d=0,$=t;const f=()=>{if(d)return;$();const r=n(l?u[0]:u,e);a?e(r):$=s(r)?r:t},p=i.map((t,e)=>c(t,t=>{u[e]=t,d&=~(1<<e),o&&f()},()=>{d|=1<<e}));return o=!0,f(),function(){r(p),$()}})}function lt(t){t.get=()=>{var e={};return t.subscribe(t=>{e=t})(),e},t.getList=()=>Object.values(t.get()),t.set=e=>t.update(t=>e),t.arrayPush=e=>{var n=t.get();n.push(e),t.set(n)},t.arrayRemove=e=>{var n=t.get(),r=n.indexOf(e);n.splice(r,1),t.set(n)}}function it(t,e,n=null){lt(t);var r=t.get();r&&(n=r);var s=localStorage.getItem(e);return s?"object"==typeof n?t.set(JSON.parse(s)):t.set(s):t.set(n),function(t,e){t.subscribe(t=>{void 0!==t&&("object"==typeof t&&(t=JSON.stringify(t)),localStorage.setItem(e,t))})}(t,e),t}function at(t){var e=ot(t);return lt(e),e}const ut=at({}),dt=at({}),$t=at({}),ft=at({});function pt(t,e){return new Promise((n,r)=>{fetch(e).then(t=>t.json()).then(e=>{t.set(e),n(e)}).catch(t=>r(t))})}async function mt(t,e=6e4){var n=Date.now();!function(){var t=Date.now(),e=Object.keys(localStorage);for(var n of e)try{var r=JSON.parse(localStorage.getItem(n));void 0!==r.maxAge&&void 0!==r.timestamp&&t-r.timestamp>r.maxAge&&localStorage.removeItem(n)}catch(t){}}();var r=localStorage.getItem(t);if(null!==r){let t=JSON.parse(r);if(n-t.timestamp<e)return t}var s=await fetch("https://aut-ns-backend.rster2002.vercel.app"+t).then(t=>t.json());return localStorage.setItem(t,JSON.stringify({...s,timestamp:n,maxAge:e})),s}function gt(e){let n,r,s,o;return{c(){n=h("button"),r=h("span"),w(r,"class",s="mdi mdi-"+e[0]+" svelte-1rjhhsy"),w(n,"class","headerButton svelte-1rjhhsy")},m(t,s){p(t,n,s),f(n,r),o=b(n,"click",e[1])},p(t,[e]){1&e&&s!==(s="mdi mdi-"+t[0]+" svelte-1rjhhsy")&&w(r,"class",s)},i:t,o:t,d(t){t&&m(n),o()}}}function ht(t,e,n){const r=I();var{icon:s}=e;return t.$set=t=>{"icon"in t&&n(0,s=t.icon)},[s,function(){r("click")}]}class vt extends nt{constructor(t){super(),et(this,t,ht,gt,o,{icon:0})}}function yt(t){let e,n;var r=t[0];if(r)var s=new r({});return{c(){s&&Q(s.$$.fragment),e=x()},m(t,r){s&&U(s,t,r),p(t,e,r),n=!0},p(t,n){if(r!==(r=t[0])){if(s){H();const t=s;Z(t.$$.fragment,1,0,()=>{X(t,1)}),V()}r?(Q((s=new r({})).$$.fragment),Y(s.$$.fragment,1),U(s,e.parentNode,e)):s=null}},i(t){n||(s&&Y(s.$$.fragment,t),n=!0)},o(t){s&&Z(s.$$.fragment,t),n=!1},d(t){t&&m(e),s&&X(s,t)}}}function xt(t){let e,n;var r=t[0];function s(t){return{props:{params:t[1]}}}if(r)var o=new r(s(t));return{c(){o&&Q(o.$$.fragment),e=x()},m(t,r){o&&U(o,t,r),p(t,e,r),n=!0},p(t,n){const c={};if(2&n&&(c.params=t[1]),r!==(r=t[0])){if(o){H();const t=o;Z(t.$$.fragment,1,0,()=>{X(t,1)}),V()}r?(Q((o=new r(s(t))).$$.fragment),Y(o.$$.fragment,1),U(o,e.parentNode,e)):o=null}else r&&o.$set(c)},i(t){n||(o&&Y(o.$$.fragment,t),n=!0)},o(t){o&&Z(o.$$.fragment,t),n=!1},d(t){t&&m(e),o&&X(o,t)}}}function bt(t){let e,n,r,s;const o=[xt,yt],c=[];function l(t,e){return t[1]?0:1}return e=l(t),n=c[e]=o[e](t),{c(){n.c(),r=x()},m(t,n){c[e].m(t,n),p(t,r,n),s=!0},p(t,[s]){let i=e;e=l(t),e===i?c[e].p(t,s):(H(),Z(c[i],1,1,()=>{c[i]=null}),V(),n=c[e],n||(n=c[e]=o[e](t),n.c()),Y(n,1),n.m(r.parentNode,r))},i(t){s||(Y(n),s=!0)},o(t){Z(n),s=!1},d(t){c[e].d(t),t&&m(r)}}}function wt(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const kt=st(wt(),(function(t){const e=()=>{t(wt())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}})),St=ct(kt,t=>t.location);ct(kt,t=>t.querystring);function Ct(e,n,r){let s,o=t;l(e,kt,t=>r(4,s=t)),e.$$.on_destroy.push(()=>o());let{routes:c={}}=n,{prefix:i=""}=n;class a{constructor(t,e){if(!e||"function"!=typeof e&&("object"!=typeof e||!0!==e._sveltesparouter))throw Error("Invalid component object");if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument');const{pattern:n,keys:r}=function(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,o,c=[],l="",i=t.split("/");for(i[0]||i.shift();s=i.shift();)"*"===(n=s[0])?(c.push("wild"),l+="/(.*)"):":"===n?(r=s.indexOf("?",1),o=s.indexOf(".",1),c.push(s.substring(1,~r?r:~o?o:s.length)),l+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(l+=(~r?"?":"")+"\\"+s.substring(o))):l+="/"+s;return{keys:c,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}(t);this.path=t,"object"==typeof e&&!0===e._sveltesparouter?(this.component=e.route,this.conditions=e.conditions||[],this.userData=e.userData):(this.component=e,this.conditions=[],this.userData=void 0),this._pattern=n,this._keys=r}match(t){i&&t.startsWith(i)&&(t=t.substr(i.length)||"/");const e=this._pattern.exec(t);if(null===e)return null;if(!1===this._keys)return e;const n={};let r=0;for(;r<this._keys.length;)n[this._keys[r]]=e[++r]||null;return n}checkConditions(t){for(let e=0;e<this.conditions.length;e++)if(!this.conditions[e](t))return!1;return!0}}const u=[];c instanceof Map?c.forEach((t,e)=>{u.push(new a(e,t))}):Object.keys(c).forEach(t=>{u.push(new a(t,c[t]))});let d=null,$=null;const f=I(),p=(t,e)=>{setTimeout(()=>{f(t,e)},0)};return e.$set=t=>{"routes"in t&&r(2,c=t.routes),"prefix"in t&&r(3,i=t.prefix)},e.$$.update=()=>{if(17&e.$$.dirty){r(0,d=null);let t=0;for(;!d&&t<u.length;){const e=u[t].match(s.location);if(e){const n={component:u[t].component,name:u[t].component.name,location:s.location,querystring:s.querystring,userData:u[t].userData};if(!u[t].checkConditions(n)){p("conditionsFailed",n);break}r(0,d=u[t].component),e&&"object"==typeof e&&Object.keys(e).length?r(1,$=e):r(1,$=null),p("routeLoaded",n)}t++}}},[d,$,c,i]}class _t extends nt{constructor(t){super(),et(this,t,Ct,bt,o,{routes:2,prefix:3})}}function Tt(t){let e,n,r,s,o,c,l;const $=t[7].default,g=i($,t,t[6],null);return{c(){e=h("button"),n=h("span"),s=y(),g&&g.c(),w(n,"class",r="mdi mdi-"+t[0]+" svelte-1yte4dn"),w(e,"class",o=d(t[1]?"current":"")+" svelte-1yte4dn")},m(r,o){p(r,e,o),f(e,n),f(e,s),g&&g.m(e,null),c=!0,l=b(e,"click",t[2])},p(t,[s]){(!c||1&s&&r!==(r="mdi mdi-"+t[0]+" svelte-1yte4dn"))&&w(n,"class",r),g&&g.p&&64&s&&g.p(a($,t,t[6],null),u($,t[6],s,null)),(!c||2&s&&o!==(o=d(t[1]?"current":"")+" svelte-1yte4dn"))&&w(e,"class",o)},i(t){c||(Y(g,t),c=!0)},o(t){Z(g,t),c=!1},d(t){t&&m(e),g&&g.d(t),l()}}}function jt(t,e,n){let r;l(t,St,t=>n(4,r=t));const s=I();var{icon:o}=e,{path:c="/"}=e;let i,{$$slots:a={},$$scope:u}=e;return t.$set=t=>{"icon"in t&&n(0,o=t.icon),"path"in t&&n(3,c=t.path),"$$scope"in t&&n(6,u=t.$$scope)},t.$$.update=()=>{24&t.$$.dirty&&n(1,i=c===r)},[o,i,function(){s("click"),function(t){if(!t||t.length<1||"/"!=t.charAt(0)&&0!==t.indexOf("#/"))throw Error("Invalid parameter location");setTimeout(()=>{window.location.hash=("#"==t.charAt(0)?"":"#")+t},0)}(c)},c,r,s,u,a]}class Et extends nt{constructor(t){super(),et(this,t,jt,Tt,o,{icon:0,path:3})}}function Nt(t){let e;return{c(){e=v("Navigatie")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function It(t){let e;return{c(){e=v("Address boek")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function Dt(t){let e,n,r,s,o,c,l,i,a,u,$,g,v,x,k,S;const C=new vt({props:{icon:"menu"}});C.$on("click",t[1]);const _=new vt({props:{icon:"magnify"}}),T=new Et({props:{icon:"compass-outline",path:"/",$$slots:{default:[Nt]},$$scope:{ctx:t}}});T.$on("click",t[2]);const j=new Et({props:{icon:"bookmark-multiple-outline",path:"/addressbook",$$slots:{default:[It]},$$scope:{ctx:t}}});return j.$on("click",t[2]),{c(){e=h("header"),n=h("img"),s=y(),o=h("div"),Q(C.$$.fragment),c=y(),l=h("div"),Q(_.$$.fragment),i=y(),a=h("div"),Q(T.$$.fragment),u=y(),Q(j.$$.fragment),g=y(),v=h("div"),n.src!==(r="./img/header-image.png")&&w(n,"src","./img/header-image.png"),w(n,"alt",""),w(n,"class","svelte-10lt554"),w(o,"class","leftButtons svelte-10lt554"),w(l,"class","rightButtons svelte-10lt554"),w(a,"class","menuContent svelte-10lt554"),w(e,"class",$=d(t[0]?"open":"")+" svelte-10lt554"),w(v,"class",x="menuScim "+(t[0]?"open":"")+" svelte-10lt554")},m(r,d){var $;p(r,e,d),f(e,n),f(e,s),f(e,o),U(C,o,null),f(e,c),f(e,l),U(_,l,null),f(e,i),f(e,a),U(T,a,null),f(a,u),U(j,a,null),p(r,g,d),p(r,v,d),k=!0,S=b(v,"click",($=t[2],function(t){t.target===this&&$.call(this,t)}))},p(t,[n]){const r={};8&n&&(r.$$scope={dirty:n,ctx:t}),T.$set(r);const s={};8&n&&(s.$$scope={dirty:n,ctx:t}),j.$set(s),(!k||1&n&&$!==($=d(t[0]?"open":"")+" svelte-10lt554"))&&w(e,"class",$),(!k||1&n&&x!==(x="menuScim "+(t[0]?"open":"")+" svelte-10lt554"))&&w(v,"class",x)},i(t){k||(Y(C.$$.fragment,t),Y(_.$$.fragment,t),Y(T.$$.fragment,t),Y(j.$$.fragment,t),k=!0)},o(t){Z(C.$$.fragment,t),Z(_.$$.fragment,t),Z(T.$$.fragment,t),Z(j.$$.fragment,t),k=!1},d(t){t&&m(e),X(C),X(_),X(T),X(j),t&&m(g),t&&m(v),S()}}}function At(t,e,n){var r=!1;return[r,function(){n(0,r=!r)},function(){n(0,r=!1)}]}class Lt extends nt{constructor(t){super(),et(this,t,At,Dt,o,{})}}var Mt=function(t){var e={Ya:function(t,e,n){return null!=e&&(t=Math.max(t,e)),null!=n&&(t=Math.min(t,n)),t},Za:function(t,e,n){return((t-e)%(n-=e)+n)%n+e},w:function(t){return t?t.length:0}};return e.E=function(t,n,r){t-=0,n-=0,r||(t=e.Ya(t,-90,90),180!=n&&(n=e.Za(n,-180,180))),this.lat=function(){return t},this.lng=function(){return n}},function(t){for(var n=e.w(t),r=Array(Math.floor(t.length/2)),s=0,o=0,c=0,l=0;s<n;++l){var i,a=1,u=0;do{a+=(i=t.charCodeAt(s++)-63-1)<<u,u+=5}while(31<=i);o+=1&a?~(a>>1):a>>1,a=1,u=0;do{a+=(i=t.charCodeAt(s++)-63-1)<<u,u+=5}while(31<=i);c+=1&a?~(a>>1):a>>1,r[l]=new e.E(1e-5*o,1e-5*c,!0)}return r.length=l,r}(t).map((function(t){return{lat:Number(t.lat().toFixed(5)),lng:Number(t.lng().toFixed(5))}}))};function Ot(e){let n,r,s,o,c;return{c(){n=h("span"),r=y(),s=v(e[0]),o=y(),c=v(e[1]),w(n,"class","mdi mdi-walk")},m(t,e){p(t,n,e),p(t,r,e),p(t,s,e),p(t,o,e),p(t,c,e)},p(t,[e]){1&e&&k(s,t[0]),2&e&&k(c,t[1])},i:t,o:t,d(t){t&&m(n),t&&m(r),t&&m(s),t&&m(o),t&&m(c)}}}function Rt(t,e,n){var{step:r}=e;let s,o;return t.$set=t=>{"step"in t&&n(2,r=t.step)},t.$$.update=()=>{4&t.$$.dirty&&n(0,s=Math.round(r.duration.value/60)),1&t.$$.dirty&&n(1,o=s>1?"minuten":"minuut")},[s,o,r]}function zt(t){t=Bt(t);var e=new Date(t);return`${Pt(e.getHours())}:${Pt(e.getMinutes())}`}function Bt(t){return t>2e9?t:1e3*t}function Pt(t){return t<10?"0"+t:String(t)}const qt=ot({lat:0,long:0});var Jt;function Ft(){var t=qt.get();return 0!==t.lat&&0!==t.long}lt(qt),window.locationStore=qt;const Wt={WIFI:"wifi-strength-4",TOILET:"human-male-female",STILTE:"volume-mute",FIETS:"bicycle",STROOM:"power-socket-eu"};function Gt(t){return Wt[t]}function Ht(t){var e=[...ft,get()];return 0===(e=e.filter(e=>e.code===t)).length?null:e[0]}function Vt(t,e){var n=Yt(t,e),r=n.stationCode,s=n.directDistance;return{...Ht(r),directDistance:s}}function Yt(t,e){var n=[...$t.get()];return(n=n.map(n=>{var r,s,o,c,l=(r=n,s={lat:t,long:e},o=Math.abs(r.lat-s.lat),c=Math.abs(r.long-s.long),Math.sqrt(o**2+c**2));return{...n,directDistance:l}}).sort((t,e)=>t.directDistance-e.directDistance))[0]}class Zt extends class{constructor(){this.observers=[]}subscribe(t){if("function"!=typeof t)throw new Error("You have to provide a function");this.observers.push(t)}remove(t){var e=this.observers.indexOf(t);this.observers.splice(e,1)}update(t){this.observers.forEach(e=>e(t))}}{constructor(t){super(),this.tripNumber=t,this.timer=null,this.refreshInterval=6e4}destroy(){this.clearTimer()}clearTimer(){this.timer&&clearInterval(this.timer)}start(){this.clearTimer(),this.timer=setInterval(()=>this.tick(),this.refreshInterval),this.tick()}async tick(){var{lat:t,long:e}=qt.get(),n=await mt(`/trainLocations?location=${t},${e}&tripNumber=${this.tripNumber}`,this.refreshInterval-1e3);if(console.log(n,this.tripNumber),n.locations.length>0){var r=n.locations[0];n={...r,closestStation:Vt(r.lat,r.lng)};console.log(n),this.update(n)}else this.update(null)}}const Kt=t=>({}),Qt=t=>({}),Ut=t=>({}),Xt=t=>({}),te=t=>({}),ee=t=>({});function ne(t){let e,n,r,s,o,c,l;const d=t[1].left,$=i(d,t,t[0],ee),g=t[1].center,v=i(g,t,t[0],Xt),x=t[1].right,b=i(x,t,t[0],Qt);return{c(){e=h("div"),n=h("div"),$&&$.c(),r=y(),s=h("span"),v&&v.c(),o=y(),c=h("div"),b&&b.c(),w(n,"class","left svelte-k8gzu4"),w(s,"class","center svelte-k8gzu4"),w(c,"class","right svelte-k8gzu4"),w(e,"class","infoRow svelte-k8gzu4")},m(t,i){p(t,e,i),f(e,n),$&&$.m(n,null),f(e,r),f(e,s),v&&v.m(s,null),f(e,o),f(e,c),b&&b.m(c,null),l=!0},p(t,[e]){$&&$.p&&1&e&&$.p(a(d,t,t[0],ee),u(d,t[0],e,te)),v&&v.p&&1&e&&v.p(a(g,t,t[0],Xt),u(g,t[0],e,Ut)),b&&b.p&&1&e&&b.p(a(x,t,t[0],Qt),u(x,t[0],e,Kt))},i(t){l||(Y($,t),Y(v,t),Y(b,t),l=!0)},o(t){Z($,t),Z(v,t),Z(b,t),l=!1},d(t){t&&m(e),$&&$.d(t),v&&v.d(t),b&&b.d(t)}}}function re(t,e,n){let{$$slots:r={},$$scope:s}=e;return t.$set=t=>{"$$scope"in t&&n(0,s=t.$$scope)},[s,r]}class se extends nt{constructor(t){super(),et(this,t,re,ne,o,{})}}function oe(t){let e,n,r,s,o;const c=t[4].default,l=i(c,t,t[3],null);return{c(){e=h("span"),n=h("span"),s=y(),l&&l.c(),w(n,"class",r="mdi mdi-"+t[0]+" svelte-rxuxws"),w(e,"class","headSign svelte-rxuxws"),C(e,"background-color",t[1]),C(e,"color",t[2])},m(t,r){p(t,e,r),f(e,n),f(e,s),l&&l.m(e,null),o=!0},p(t,[s]){(!o||1&s&&r!==(r="mdi mdi-"+t[0]+" svelte-rxuxws"))&&w(n,"class",r),l&&l.p&&8&s&&l.p(a(c,t,t[3],null),u(c,t[3],s,null)),(!o||2&s)&&C(e,"background-color",t[1]),(!o||4&s)&&C(e,"color",t[2])},i(t){o||(Y(l,t),o=!0)},o(t){Z(l,t),o=!1},d(t){t&&m(e),l&&l.d(t)}}}function ce(t,e,n){var{icon:r}=e,{backgroundColor:s="#000000"}=e,{textColor:o="#ffffff"}=e;let{$$slots:c={},$$scope:l}=e;return t.$set=t=>{"icon"in t&&n(0,r=t.icon),"backgroundColor"in t&&n(1,s=t.backgroundColor),"textColor"in t&&n(2,o=t.textColor),"$$scope"in t&&n(3,l=t.$$scope)},[r,s,o,l,c]}class le extends nt{constructor(t){super(),et(this,t,ce,oe,o,{icon:0,backgroundColor:1,textColor:2})}}function ie(t){let e,n;const r=t[4].default,s=i(r,t,t[3],null);return{c(){e=h("div"),s&&s.c(),w(e,"class","dropDownContent svelte-473m8e")},m(t,r){p(t,e,r),s&&s.m(e,null),n=!0},p(t,e){s&&s.p&&8&e&&s.p(a(r,t,t[3],null),u(r,t[3],e,null))},i(t){n||(Y(s,t),n=!0)},o(t){Z(s,t),n=!1},d(t){t&&m(e),s&&s.d(t)}}}function ae(t){let e,n,r,s,o,c,l,i,a=t[1]&&ie(t);return{c(){e=h("p"),n=h("span"),r=y(),s=v(t[0]),o=y(),a&&a.c(),c=x(),w(n,"class","mdi mdi-chevron-down"),w(e,"class","svelte-473m8e")},m(u,d){p(u,e,d),f(e,n),f(e,r),f(e,s),p(u,o,d),a&&a.m(u,d),p(u,c,d),l=!0,i=b(e,"click",t[2])},p(t,[e]){(!l||1&e)&&k(s,t[0]),t[1]?a?(a.p(t,e),Y(a,1)):(a=ie(t),a.c(),Y(a,1),a.m(c.parentNode,c)):a&&(H(),Z(a,1,1,()=>{a=null}),V())},i(t){l||(Y(a),l=!0)},o(t){Z(a),l=!1},d(t){t&&m(e),t&&m(o),a&&a.d(t),t&&m(c),i()}}}function ue(t,e,n){var{text:r="Meer Info"}=e,s=!1;let{$$slots:o={},$$scope:c}=e;return t.$set=t=>{"text"in t&&n(0,r=t.text),"$$scope"in t&&n(3,c=t.$$scope)},[r,s,function(){n(1,s=!s)},c,o]}class de extends nt{constructor(t){super(),et(this,t,ue,ae,o,{text:0})}}function $e(t,e,n){const r=t.slice();return r[34]=e[n],r}function fe(t,e,n){const r=t.slice();return r[31]=e[n],r}function pe(t,e,n){const r=t.slice();return r[31]=e[n],r}function me(t){let e,n;return{c(){e=h("span"),n=v(t[7]),w(e,"slot","left")},m(t,r){p(t,e,r),f(e,n)},p(t,e){128&e[0]&&k(n,t[7])},d(t){t&&m(e)}}}function ge(t){let e,n=t[4].short_name+"";return{c(){e=v(n)},m(t,n){p(t,e,n)},p(t,r){16&r[0]&&n!==(n=t[4].short_name+"")&&k(e,n)},d(t){t&&m(e)}}}function he(t){let e,n;const r=new le({props:{icon:"train",backgroundColor:t[5],textColor:t[6],$$slots:{default:[ge]},$$scope:{ctx:t}}});return{c(){e=h("span"),Q(r.$$.fragment),w(e,"slot","center")},m(t,s){p(t,e,s),U(r,e,null),n=!0},p(t,e){const n={};32&e[0]&&(n.backgroundColor=t[5]),64&e[0]&&(n.textColor=t[6]),16&e[0]|256&e[1]&&(n.$$scope={dirty:e,ctx:t}),r.$set(n)},i(t){n||(Y(r.$$.fragment,t),n=!0)},o(t){Z(r.$$.fragment,t),n=!1},d(t){t&&m(e),X(r)}}}function ve(t){let e,n;return{c(){e=h("span"),n=v(t[8]),w(e,"slot","right")},m(t,r){p(t,e,r),f(e,n)},p(t,e){256&e[0]&&k(n,t[8])},d(t){t&&m(e)}}}function ye(e){let n,r;return{c(){n=y(),r=y()},m(t,e){p(t,n,e),p(t,r,e)},p:t,i:t,o:t,d(t){t&&m(n),t&&m(r)}}}function xe(t){let e;return{c(){e=h("p"),e.innerHTML='<span class="mdi mdi-alert"></span>\n        Deze trein is geannuleerd\n    ',w(e,"class","cancelled svelte-hntb53")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function be(t){let e,n,r,s,o=t[3].departure_stop.name+"";return{c(){e=h("span"),n=h("span"),r=y(),s=v(o),w(n,"class","mdi mdi-arrow-expand-right"),w(e,"slot","left")},m(t,o){p(t,e,o),f(e,n),f(e,r),f(e,s)},p(t,e){8&e[0]&&o!==(o=t[3].departure_stop.name+"")&&k(s,o)},d(t){t&&m(e)}}}function we(t){let e,n,r;return{c(){e=h("span"),n=v("spoor "),r=v(t[9]),w(e,"slot","right")},m(t,s){p(t,e,s),f(e,n),f(e,r)},p(t,e){512&e[0]&&k(r,t[9])},d(t){t&&m(e)}}}function ke(e){let n;return{c(){n=y()},m(t,e){p(t,n,e)},p:t,d(t){t&&m(n)}}}function Se(t){let e,n,r,s,o=t[3].arrival_stop.name+"";return{c(){e=h("span"),n=h("span"),r=y(),s=v(o),w(n,"class","mdi mdi-arrow-collapse-right"),w(e,"slot","left")},m(t,o){p(t,e,o),f(e,n),f(e,r),f(e,s)},p(t,e){8&e[0]&&o!==(o=t[3].arrival_stop.name+"")&&k(s,o)},d(t){t&&m(e)}}}function Ce(t){let e,n,r;return{c(){e=h("span"),n=v("spoor "),r=v(t[10]),w(e,"slot","right")},m(t,s){p(t,e,s),f(e,n),f(e,r)},p(t,e){1024&e[0]&&k(r,t[10])},d(t){t&&m(e)}}}function _e(e){let n;return{c(){n=y()},m(t,e){p(t,n,e)},p:t,d(t){t&&m(n)}}}function Te(e){let n;return{c(){n=h("p"),n.textContent="Error"},m(t,e){p(t,n,e)},p:t,i:t,o:t,d(t){t&&m(n)}}}function je(t){let e,n,r,s,o,c,l,i,a=t[1].materieeldelen,u=[];for(let e=0;e<a.length;e+=1)u[e]=Ee(pe(t,a,e));let d=t[11]&&Ne(t);const $=new se({props:{$$slots:{left:[Me]},$$scope:{ctx:t}}}),f=new se({props:{$$slots:{default:[ze],right:[Re],left:[Oe]},$$scope:{ctx:t}}}),v=new se({props:{$$slots:{default:[qe],right:[Pe],left:[Be]},$$scope:{ctx:t}}});let b=t[1].materieeldelen,k=[];for(let e=0;e<b.length;e+=1)k[e]=He(fe(t,b,e));const S=t=>Z(k[t],1,1,()=>{k[t]=null});return{c(){e=h("div");for(let t=0;t<u.length;t+=1)u[t].c();n=y(),d&&d.c(),r=y(),Q($.$$.fragment),s=y(),Q(f.$$.fragment),o=y(),Q(v.$$.fragment),c=y();for(let t=0;t<k.length;t+=1)k[t].c();l=x(),w(e,"class","trainImages svelte-hntb53")},m(t,a){p(t,e,a);for(let t=0;t<u.length;t+=1)u[t].m(e,null);p(t,n,a),d&&d.m(t,a),p(t,r,a),U($,t,a),p(t,s,a),U(f,t,a),p(t,o,a),U(v,t,a),p(t,c,a);for(let e=0;e<k.length;e+=1)k[e].m(t,a);p(t,l,a),i=!0},p(t,n){if(2&n[0]){let r;for(a=t[1].materieeldelen,r=0;r<a.length;r+=1){const s=pe(t,a,r);u[r]?u[r].p(s,n):(u[r]=Ee(s),u[r].c(),u[r].m(e,null))}for(;r<u.length;r+=1)u[r].d(1);u.length=a.length}t[11]?d?d.p(t,n):(d=Ne(t),d.c(),d.m(r.parentNode,r)):d&&(d.d(1),d=null);const s={};8196&n[0]|256&n[1]&&(s.$$scope={dirty:n,ctx:t}),$.$set(s);const o={};8&n[0]|256&n[1]&&(o.$$scope={dirty:n,ctx:t}),f.$set(o);const c={};if(2&n[0]|256&n[1]&&(c.$$scope={dirty:n,ctx:t}),v.$set(c),2&n[0]){let e;for(b=t[1].materieeldelen,e=0;e<b.length;e+=1){const r=fe(t,b,e);k[e]?(k[e].p(r,n),Y(k[e],1)):(k[e]=He(r),k[e].c(),Y(k[e],1),k[e].m(l.parentNode,l))}for(H(),e=b.length;e<k.length;e+=1)S(e);V()}},i(t){if(!i){Y($.$$.fragment,t),Y(f.$$.fragment,t),Y(v.$$.fragment,t);for(let t=0;t<b.length;t+=1)Y(k[t]);i=!0}},o(t){Z($.$$.fragment,t),Z(f.$$.fragment,t),Z(v.$$.fragment,t),k=k.filter(Boolean);for(let t=0;t<k.length;t+=1)Z(k[t]);i=!1},d(t){t&&m(e),g(u,t),t&&m(n),d&&d.d(t),t&&m(r),X($,t),t&&m(s),X(f,t),t&&m(o),X(v,t),t&&m(c),g(k,t),t&&m(l)}}}function Ee(t){let e,n;return{c(){e=h("img"),w(e,"class","trainPartImage svelte-hntb53"),e.src!==(n=t[31].afbeelding)&&w(e,"src",n),w(e,"alt","Train part")},m(t,n){p(t,e,n)},p(t,r){2&r[0]&&e.src!==(n=t[31].afbeelding)&&w(e,"src",n)},d(t){t&&m(e)}}}function Ne(t){let e;function n(t,e){return"LEFT"===t[11]?De:Ie}let r=n(t),s=r(t);return{c(){e=h("p"),s.c(),w(e,"class","exitDirection svelte-hntb53")},m(t,n){p(t,e,n),s.m(e,null)},p(t,o){r!==(r=n(t))&&(s.d(1),s=r(t),s&&(s.c(),s.m(e,null)))},d(t){t&&m(e),s.d()}}}function Ie(t){let e,n;return{c(){e=v("Rechts uitstappen "),n=h("span"),w(n,"class","mdi mdi-chevron-triple-right")},m(t,r){p(t,e,r),p(t,n,r)},d(t){t&&m(e),t&&m(n)}}}function De(t){let e,n;return{c(){e=h("span"),n=v(" Links uitstappen"),w(e,"class","mdi mdi-chevron-triple-left")},m(t,r){p(t,e,r),p(t,n,r)},d(t){t&&m(e),t&&m(n)}}}function Ae(e){let n;return{c(){n=v("Geen live data beschikbaar")},m(t,e){p(t,n,e)},p:t,d(t){t&&m(n)}}}function Le(t){let e;return{c(){e=v(t[2])},m(t,n){p(t,e,n)},p(t,n){4&n[0]&&k(e,t[2])},d(t){t&&m(e)}}}function Me(t){let e,n,r,s;function o(t,e){return t[13]?Le:Ae}let c=o(t),l=c(t);return{c(){e=h("span"),n=h("span"),s=y(),l.c(),w(n,"class",r="mdi mdi-rss "+(t[13]?"liveDataActive":"")+" svelte-hntb53"),w(e,"slot","left")},m(t,r){p(t,e,r),f(e,n),f(e,s),l.m(e,null)},p(t,s){8192&s[0]&&r!==(r="mdi mdi-rss "+(t[13]?"liveDataActive":"")+" svelte-hntb53")&&w(n,"class",r),c===(c=o(t))&&l?l.p(t,s):(l.d(1),l=c(t),l&&(l.c(),l.m(e,null)))},d(t){t&&m(e),l.d()}}}function Oe(t){let e;return{c(){e=h("span"),e.innerHTML='<span class="mdi mdi-routes"></span> Richting',w(e,"slot","left")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function Re(t){let e,n,r=t[3].headsign+"";return{c(){e=h("span"),n=v(r),w(e,"slot","right")},m(t,r){p(t,e,r),f(e,n)},p(t,e){8&e[0]&&r!==(r=t[3].headsign+"")&&k(n,r)},d(t){t&&m(e)}}}function ze(e){let n;return{c(){n=y()},m(t,e){p(t,n,e)},p:t,d(t){t&&m(n)}}}function Be(t){let e;return{c(){e=h("span"),e.innerHTML='<span class="mdi mdi-ruler"></span> Lengte',w(e,"slot","left")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function Pe(t){let e,n,r,s,o=t[1].lengte+"";return{c(){e=h("span"),n=h("b"),r=v(o),s=v(" delen"),w(e,"slot","right")},m(t,o){p(t,e,o),f(e,n),f(n,r),f(e,s)},p(t,e){2&e[0]&&o!==(o=t[1].lengte+"")&&k(r,o)},d(t){t&&m(e)}}}function qe(e){let n;return{c(){n=y()},m(t,e){p(t,n,e)},p:t,d(t){t&&m(n)}}}function Je(t){let e,n,r,s,o=t[31].materieelnummer+"";return{c(){e=h("span"),n=h("span"),r=v(" Treinstel "),s=v(o),w(n,"class","mdi mdi-barcode"),w(e,"slot","left")},m(t,o){p(t,e,o),f(e,n),f(e,r),f(e,s)},p(t,e){2&e[0]&&o!==(o=t[31].materieelnummer+"")&&k(s,o)},d(t){t&&m(e)}}}function Fe(t){let e,n;return{c(){e=h("span"),w(e,"class",n="facilityIcon mdi mdi-"+Gt(t[34])+" svelte-hntb53")},m(t,n){p(t,e,n)},p(t,r){2&r[0]&&n!==(n="facilityIcon mdi mdi-"+Gt(t[34])+" svelte-hntb53")&&w(e,"class",n)},d(t){t&&m(e)}}}function We(t){let e,n=t[31].faciliteiten,r=[];for(let e=0;e<n.length;e+=1)r[e]=Fe($e(t,n,e));return{c(){e=h("span");for(let t=0;t<r.length;t+=1)r[t].c();w(e,"slot","right")},m(t,n){p(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,s){if(2&s[0]){let o;for(n=t[31].faciliteiten,o=0;o<n.length;o+=1){const c=$e(t,n,o);r[o]?r[o].p(c,s):(r[o]=Fe(c),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){t&&m(e),g(r,t)}}}function Ge(e){let n,r;return{c(){n=y(),r=y()},m(t,e){p(t,n,e),p(t,r,e)},p:t,d(t){t&&m(n),t&&m(r)}}}function He(t){let e;const n=new se({props:{$$slots:{default:[Ge],right:[We],left:[Je]},$$scope:{ctx:t}}});return{c(){Q(n.$$.fragment)},m(t,r){U(n,t,r),e=!0},p(t,e){const r={};2&e[0]|256&e[1]&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){e||(Y(n.$$.fragment,t),e=!0)},o(t){Z(n.$$.fragment,t),e=!1},d(t){X(n,t)}}}function Ve(t){let e,n,r,s;const o=[je,Te],c=[];function l(t,e){return"loaded"===t[0]?0:"error"===t[0]?1:-1}return~(e=l(t))&&(n=c[e]=o[e](t)),{c(){n&&n.c(),r=x()},m(t,n){~e&&c[e].m(t,n),p(t,r,n),s=!0},p(t,s){let i=e;e=l(t),e===i?~e&&c[e].p(t,s):(n&&(H(),Z(c[i],1,1,()=>{c[i]=null}),V()),~e?(n=c[e],n||(n=c[e]=o[e](t),n.c()),Y(n,1),n.m(r.parentNode,r)):n=null)},i(t){s||(Y(n),s=!0)},o(t){Z(n),s=!1},d(t){~e&&c[e].d(t),t&&m(r)}}}function Ye(t){let e,n,r,s,o;const c=new se({props:{$$slots:{default:[ye],right:[ve],center:[he],left:[me]},$$scope:{ctx:t}}});let l=t[12]&&xe();const i=new se({props:{$$slots:{default:[ke],right:[we],left:[be]},$$scope:{ctx:t}}}),a=new se({props:{$$slots:{default:[_e],right:[Ce],left:[Se]},$$scope:{ctx:t}}}),u=new de({props:{$$slots:{default:[Ve]},$$scope:{ctx:t}}});return{c(){Q(c.$$.fragment),e=y(),l&&l.c(),n=y(),Q(i.$$.fragment),r=y(),Q(a.$$.fragment),s=y(),Q(u.$$.fragment)},m(t,d){U(c,t,d),p(t,e,d),l&&l.m(t,d),p(t,n,d),U(i,t,d),p(t,r,d),U(a,t,d),p(t,s,d),U(u,t,d),o=!0},p(t,e){const r={};496&e[0]|256&e[1]&&(r.$$scope={dirty:e,ctx:t}),c.$set(r),t[12]?l||(l=xe(),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null);const s={};520&e[0]|256&e[1]&&(s.$$scope={dirty:e,ctx:t}),i.$set(s);const o={};1032&e[0]|256&e[1]&&(o.$$scope={dirty:e,ctx:t}),a.$set(o);const d={};10255&e[0]|256&e[1]&&(d.$$scope={dirty:e,ctx:t}),u.$set(d)},i(t){o||(Y(c.$$.fragment,t),Y(i.$$.fragment,t),Y(a.$$.fragment,t),Y(u.$$.fragment,t),o=!0)},o(t){Z(c.$$.fragment,t),Z(i.$$.fragment,t),Z(a.$$.fragment,t),Z(u.$$.fragment,t),o=!1},d(t){X(c,t),t&&m(e),l&&l.d(t),t&&m(n),X(i,t),t&&m(r),X(a,t),t&&m(s),X(u,t)}}}function Ze(t,e,n){let r;var{step:s}=e;var o=En(s.id,{});l(t,o,t=>n(19,r=t)),$(o,r.maxAge=36e5,r),$(o,r.timestamp=Date.now(),r);var c,i,a,u,d="",f=[];async function p(){if(r.tripRefreshCode){n(16,i=await async function(t){return await mt(`/refreshTrainTrip?refreshToken=${t}`)}(r.tripRefreshCode));var t=function(t){return t.map(t=>Yt(t.lat,t.lng).stationCode)}(i.legs[0].stops),{coords:e}=await mt(`/trainRouteCoords?stations=${t.join(",")}`,36e5);f=e}}const m=setInterval(p,6e4);let g,h,v,y,x,b,w,k,S,C,_,T,j,I,D,A,L,M;return p(),E(async()=>{try{a=new Zt(h),n(1,c=await mt("/virtualTrain/"+h)),a.subscribe(t=>{if(t){var e,r,s,o=(e=f,r=t.lat,s=t.lng,(e=e.map(t=>{var e=Math.abs(t.lat-r),n=Math.abs(t.long-s),o=Math.sqrt(e**2+n**2);return{...t,directDifference:o}}).sort((t,e)=>t.directDifference-e.directDifference))[0]);if(o){var c=Ht(o.code);0===t.snelheid?n(2,u=`Trein aangekomen op ${c.namen.middel}`):n(2,u=`Trein rijd naar ${c.namen.middel}`)}else n(2,u=null)}else n(2,u=null)}),a.start(),n(0,d="loaded")}catch(t){throw n(0,d="error"),t}if(void 0===r.tripRefreshCode){var t=await async function(t){var e=t.transit_details.trip_short_name,n=t.start_location,r=t.end_location,s=Yt(n.lat,n.lng).stationCode,o=Yt(r.lat,r.lng).stationCode,{trips:c}=await mt(`/trainTrip/${s}/${o}`);return c=c.filter(t=>t.legs.some(t=>t.name.includes(e)))}(s);t.length>0&&(n(16,i=t[0]),$(o,r.tripRefreshCode=i.uid,r),o.set(r))}}),N(()=>clearInterval(m)),t.$set=t=>{"step"in t&&n(15,s=t.step)},t.$$.update=()=>{32768&t.$$.dirty[0]&&n(3,g=s.transit_details),8&t.$$.dirty[0]&&(h=g.trip_short_name),8&t.$$.dirty[0]&&n(4,v=g.line),8&t.$$.dirty[0]&&n(5,y=Sn("train",g)),8&t.$$.dirty[0]&&n(6,x=Cn("train",g)),8&t.$$.dirty[0]&&n(21,b=Bt(g.departure_time.value)),2097152&t.$$.dirty[0]&&n(7,w=zt(b)),8&t.$$.dirty[0]&&n(22,k=Bt(g.arrival_time.value)),4194304&t.$$.dirty[0]&&n(8,S=zt(k)),524288&t.$$.dirty[0]&&n(23,C=r.tripRefreshCode),8454144&t.$$.dirty[0]&&n(24,_=void 0!==i&&void 0!==C),16842752&t.$$.dirty[0]&&n(25,T=_?i.legs[0]:null),50331648&t.$$.dirty[0]&&n(9,j=_?T.origin.plannedTrack:"?"),50331648&t.$$.dirty[0]&&n(10,I=_?T.destination.plannedTrack:"?"),50331648&t.$$.dirty[0]&&n(11,D=!!_&&T.destination.exitSide),50331648&t.$$.dirty[0]&&n(12,A=!!_&&T.cancelled),50331648&t.$$.dirty[0]&&(L=_?T.stops:[]),4&t.$$.dirty[0]&&n(13,M=u)},[d,c,u,g,v,y,x,w,S,j,I,D,A,M,o,s]}async function Ke(t,e){return(await mt(`/busStop?latLong=${t},${e}`)).busStops[0]}function Qe(t){for(var e of t)if(e.isCurrentStop)return e;return null}function Ue(t){let e,n,r,s;const o=t[2].default,c=i(o,t,t[1],null);return{c(){e=h("div"),n=h("p"),c&&c.c(),w(n,"class","svelte-csyeyn"),w(e,"class",r="busStop "+(t[0]?"current":"")+" svelte-csyeyn")},m(t,r){p(t,e,r),f(e,n),c&&c.m(n,null),s=!0},p(t,[n]){c&&c.p&&2&n&&c.p(a(o,t,t[1],null),u(o,t[1],n,null)),(!s||1&n&&r!==(r="busStop "+(t[0]?"current":"")+" svelte-csyeyn"))&&w(e,"class",r)},i(t){s||(Y(c,t),s=!0)},o(t){Z(c,t),s=!1},d(t){t&&m(e),c&&c.d(t)}}}function Xe(t,e,n){var{current:r=!1}=e;let{$$slots:s={},$$scope:o}=e;return t.$set=t=>{"current"in t&&n(0,r=t.current),"$$scope"in t&&n(1,o=t.$$scope)},[r,o,s]}class tn extends nt{constructor(t){super(),et(this,t,Xe,Ue,o,{current:0})}}function en(t){let e,n,r,s,o=t[0].TimingPointName+"";return{c(){e=h("span"),r=y(),s=v(o),w(e,"class",n="mdi mdi-"+t[1])},m(t,n){p(t,e,n),p(t,r,n),p(t,s,n)},p(t,r){2&r&&n!==(n="mdi mdi-"+t[1])&&w(e,"class",n),1&r&&o!==(o=t[0].TimingPointName+"")&&k(s,o)},d(t){t&&m(e),t&&m(r),t&&m(s)}}}function nn(t){let e;const n=new tn({props:{current:t[0].isCurrentStop,$$slots:{default:[en]},$$scope:{ctx:t}}});return{c(){Q(n.$$.fragment)},m(t,r){U(n,t,r),e=!0},p(t,[e]){const r={};1&e&&(r.current=t[0].isCurrentStop),7&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){e||(Y(n.$$.fragment,t),e=!0)},o(t){Z(n.$$.fragment,t),e=!1},d(t){X(n,t)}}}function rn(t,e,n){var{stop:r}=e;let s;return t.$set=t=>{"stop"in t&&n(0,r=t.stop)},t.$$.update=()=>{1&t.$$.dirty&&n(1,s=function(t){var e=t.TripStopStatus;return"PASSED"===e?"check-all":"ARRIVED"===e?"check":"alarm"}(r))},[r,s]}class sn extends nt{constructor(t){super(),et(this,t,rn,nn,o,{stop:0})}}function on(t,e,n){const r=t.slice();return r[27]=e[n],r}function cn(t){let e,n;return{c(){e=h("span"),n=v(t[4]),w(e,"slot","left")},m(t,r){p(t,e,r),f(e,n)},p(t,e){16&e&&k(n,t[4])},d(t){t&&m(e)}}}function ln(t){let e,n=t[1].short_name+"";return{c(){e=v(n)},m(t,n){p(t,e,n)},p(t,r){2&r&&n!==(n=t[1].short_name+"")&&k(e,n)},d(t){t&&m(e)}}}function an(t){let e,n;const r=new le({props:{icon:"bus",backgroundColor:t[2],textColor:t[3],$$slots:{default:[ln]},$$scope:{ctx:t}}});return{c(){e=h("span"),Q(r.$$.fragment),w(e,"slot","center")},m(t,s){p(t,e,s),U(r,e,null),n=!0},p(t,e){const n={};4&e&&(n.backgroundColor=t[2]),8&e&&(n.textColor=t[3]),1073741826&e&&(n.$$scope={dirty:e,ctx:t}),r.$set(n)},i(t){n||(Y(r.$$.fragment,t),n=!0)},o(t){Z(r.$$.fragment,t),n=!1},d(t){t&&m(e),X(r)}}}function un(t){let e,n;return{c(){e=h("span"),n=v(t[5]),w(e,"slot","right")},m(t,r){p(t,e,r),f(e,n)},p(t,e){32&e&&k(n,t[5])},d(t){t&&m(e)}}}function dn(e){let n,r;return{c(){n=y(),r=y()},m(t,e){p(t,n,e),p(t,r,e)},p:t,i:t,o:t,d(t){t&&m(n),t&&m(r)}}}function $n(t){let e,n,r,s,o=t[0].departure_stop.name+"";return{c(){e=h("span"),n=h("span"),r=y(),s=v(o),w(n,"class","mdi mdi-arrow-expand-right"),w(e,"slot","left")},m(t,o){p(t,e,o),f(e,n),f(e,r),f(e,s)},p(t,e){1&e&&o!==(o=t[0].departure_stop.name+"")&&k(s,o)},d(t){t&&m(e)}}}function fn(t){let e,n,r,s,o=t[0].arrival_stop.name+"";return{c(){e=h("span"),n=h("span"),r=y(),s=v(o),w(n,"class","mdi mdi-arrow-collapse-right"),w(e,"slot","left")},m(t,o){p(t,e,o),f(e,n),f(e,r),f(e,s)},p(t,e){1&e&&o!==(o=t[0].arrival_stop.name+"")&&k(s,o)},d(t){t&&m(e)}}}function pn(t){let e,n,r,s,o=t[0].line.name+"";return{c(){e=h("span"),n=h("span"),r=y(),s=v(o),w(n,"class","mdi mdi-arrow-left-right"),w(e,"slot","left")},m(t,o){p(t,e,o),f(e,n),f(e,r),f(e,s)},p(t,e){1&e&&o!==(o=t[0].line.name+"")&&k(s,o)},d(t){t&&m(e)}}}function mn(t){let e,n,r,s;return{c(){e=h("span"),n=h("span"),r=y(),s=v(t[7]),w(n,"class","mdi mdi-rss"),w(e,"slot","left")},m(t,o){p(t,e,o),f(e,n),f(e,r),f(e,s)},p(t,e){128&e&&k(s,t[7])},d(t){t&&m(e)}}}function gn(t){let e;const n=new sn({props:{stop:t[27]}});return{c(){Q(n.$$.fragment)},m(t,r){U(n,t,r),e=!0},p(t,e){const r={};64&e&&(r.stop=t[27]),n.$set(r)},i(t){e||(Y(n.$$.fragment,t),e=!0)},o(t){Z(n.$$.fragment,t),e=!1},d(t){X(n,t)}}}function hn(t){let e,n,r,s;const o=new se({props:{$$slots:{left:[pn]},$$scope:{ctx:t}}}),c=new se({props:{$$slots:{left:[mn]},$$scope:{ctx:t}}});let l=t[6],i=[];for(let e=0;e<l.length;e+=1)i[e]=gn(on(t,l,e));const a=t=>Z(i[t],1,1,()=>{i[t]=null});return{c(){Q(o.$$.fragment),e=y(),Q(c.$$.fragment),n=y();for(let t=0;t<i.length;t+=1)i[t].c();r=x()},m(t,l){U(o,t,l),p(t,e,l),U(c,t,l),p(t,n,l);for(let e=0;e<i.length;e+=1)i[e].m(t,l);p(t,r,l),s=!0},p(t,e){const n={};1073741825&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n);const s={};if(1073741952&e&&(s.$$scope={dirty:e,ctx:t}),c.$set(s),64&e){let n;for(l=t[6],n=0;n<l.length;n+=1){const s=on(t,l,n);i[n]?(i[n].p(s,e),Y(i[n],1)):(i[n]=gn(s),i[n].c(),Y(i[n],1),i[n].m(r.parentNode,r))}for(H(),n=l.length;n<i.length;n+=1)a(n);V()}},i(t){if(!s){Y(o.$$.fragment,t),Y(c.$$.fragment,t);for(let t=0;t<l.length;t+=1)Y(i[t]);s=!0}},o(t){Z(o.$$.fragment,t),Z(c.$$.fragment,t),i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)Z(i[t]);s=!1},d(t){X(o,t),t&&m(e),X(c,t),t&&m(n),g(i,t),t&&m(r)}}}function vn(t){let e,n,r,s;const o=new se({props:{$$slots:{default:[dn],right:[un],center:[an],left:[cn]},$$scope:{ctx:t}}}),c=new se({props:{$$slots:{left:[$n]},$$scope:{ctx:t}}}),l=new se({props:{$$slots:{left:[fn]},$$scope:{ctx:t}}}),i=new de({props:{$$slots:{default:[hn]},$$scope:{ctx:t}}});return{c(){Q(o.$$.fragment),e=y(),Q(c.$$.fragment),n=y(),Q(l.$$.fragment),r=y(),Q(i.$$.fragment)},m(t,a){U(o,t,a),p(t,e,a),U(c,t,a),p(t,n,a),U(l,t,a),p(t,r,a),U(i,t,a),s=!0},p(t,[e]){const n={};1073741886&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n);const r={};1073741825&e&&(r.$$scope={dirty:e,ctx:t}),c.$set(r);const s={};1073741825&e&&(s.$$scope={dirty:e,ctx:t}),l.$set(s);const a={};1073742017&e&&(a.$$scope={dirty:e,ctx:t}),i.$set(a)},i(t){s||(Y(o.$$.fragment,t),Y(c.$$.fragment,t),Y(l.$$.fragment,t),Y(i.$$.fragment,t),s=!0)},o(t){Z(o.$$.fragment,t),Z(c.$$.fragment,t),Z(l.$$.fragment,t),Z(i.$$.fragment,t),s=!1},d(t){X(o,t),t&&m(e),X(c,t),t&&m(n),X(l,t),t&&m(r),X(i,t)}}}function yn(t,e,n){let r;var{step:s}=e;var o=En(s.id,{});l(t,o,t=>n(13,r=t)),$(o,r.maxAge=9e5,r),$(o,r.timestamp=Date.now(),r);var c,i,a,u=setInterval(d,15e3);async function d(){Date.now()-a>9e5?u&&clearInterval(u):b&&n(11,i=await async function(t){return mt(`/busJourney/${t}`)}(r.busJourneyCode))}let f,p,m,g,h,v,y,x,b,w,k,S,C;return E(async()=>{var{lat:t,lng:e}=s.start_location;c=await Ke(t,e),b&&(a=Date.now(),d());const n=l=>{setTimeout(async()=>{if(Date.now()-h>25e4)return!1;c=await Ke(t,e);var l,i,u,f=(l=s.transit_details.departure_time.value,i=p.short_name,u=c.Passes,l=Bt(l),Object.entries(u).map(([t,e])=>({...e,key:t})).filter(t=>{var{key:e}=t,[n,r,s,o,c]=e.split("_");return console.log(s,i),s.includes(i)}).map(t=>{var e=Bt(new Date(t.ExpectedArrivalTime).getTime()),n=e-l,r=Date.now()-e;return{...t,differenceToExpectedTime:n,differenceToCurrentTime:r}}).filter(t=>{var e=t.differenceToExpectedTime>=-3e5&&t.differenceToExpectedTime<=3e5,n=t.differenceToCurrentTime<=6e5;return e&&n}).sort((t,e)=>t.differenceToExpectedTime-e.differenceToExpectedTime));f.length>0?($(o,r.busJourneyCode=f[0].key,r),a=Date.now(),queueMicrotask(d)):n(3e4)},l)};var l=Date.now(),i=h-l-3e5;i>0&&n(0),n(i)}),N(()=>{clearInterval(u)}),t.$set=t=>{"step"in t&&n(9,s=t.step)},t.$$.update=()=>{512&t.$$.dirty&&n(0,f=s.transit_details),1&t.$$.dirty&&n(1,p=f.line),1&t.$$.dirty&&n(2,m=Sn("bus",f)),1&t.$$.dirty&&n(3,g=Cn("bus",f)),1&t.$$.dirty&&n(14,h=Bt(f.departure_time.value)),16384&t.$$.dirty&&n(4,v=zt(h)),1&t.$$.dirty&&n(15,y=Bt(f.arrival_time.value)),32768&t.$$.dirty&&n(5,x=zt(y)),8192&t.$$.dirty&&n(16,b=void 0!==r.busJourneyCode),2048&t.$$.dirty&&n(17,w=function(t){if(void 0===t||void 0===t.Stops)return[];var e=Object.values(t.Stops),n=!1;return e=e.map(t=>(t.isCurrentStop=!1,"DRIVING"!==t.TripStopStatus||n||(t.isCurrentStop=!0,n=!0),t))}(i)),131072&t.$$.dirty&&n(6,k=function(t){var e=Qe(t),n=t.indexOf(e);if(-1===n)return[];var r=[],s=t[n-1],o=t[n+1],c=t[n+2];return void 0!==s&&r.push(s),r.push(e),void 0!==o&&r.push(o),void 0!==c&&r.push(c),r}(w)),131072&t.$$.dirty&&n(18,S=Qe(w)),262144&t.$$.dirty&&n(7,C=function(t){return t?"ARRIVED"===t.TripStopStatus?`Aangekomen op ${t.TimingPointName}`:`Rijd naar ${t.TimingPointName}`:"Geen live data"}(S)),73728&t.$$.dirty&&console.log(r,b)},[f,p,m,g,v,x,k,C,o,s]}function xn(e){let n,r,s,o,c;return{c(){n=h("span"),r=y(),s=v(e[0]),o=y(),c=v(e[1]),w(n,"class","mdi mdi-swap-horizontal")},m(t,e){p(t,n,e),p(t,r,e),p(t,s,e),p(t,o,e),p(t,c,e)},p(t,[e]){1&e&&k(s,t[0]),2&e&&k(c,t[1])},i:t,o:t,d(t){t&&m(n),t&&m(r),t&&m(s),t&&m(o),t&&m(c)}}}function bn(t,e,n){var{step:r}=e;let s,o;return t.$set=t=>{"step"in t&&n(2,r=t.step)},t.$$.update=()=>{4&t.$$.dirty&&n(0,s=Math.round(r.duration.value/60)),1&t.$$.dirty&&n(1,o=s>1?"minuten":"minuut")},[s,o,r]}const wn={walking:class extends nt{constructor(t){super(),et(this,t,Rt,Ot,o,{step:2})}},train:class extends nt{constructor(t){super(),et(this,t,Ze,Ye,o,{step:15},[-1,-1])}},bus:class extends nt{constructor(t){super(),et(this,t,yn,vn,o,{step:9})}},platformChange:class extends nt{constructor(t){super(),et(this,t,bn,xn,o,{step:2})}}};function kn(t){if(void 0!==t.stepType)return t.stepType;var e=t.travel_mode.toLowerCase();if("transit"!==e)return e;var n=t.html_instructions.toLowerCase();return n.includes("bus")?"bus":n.includes("train")?"train":void 0}function Sn(t,e){return"string"!=typeof t&&(e=t.transit_details,t=kn(t)),"walking"===t||"platformChange"===t?"var(--stepWalkingColor)":"bus"===t?e.line.color:"train"===t?"intercity"===jn(e)?"var(--stepTrainIntercityColor)":"var(--stepTrainSprinterColor)":void 0}function Cn(t,e){return"walking"===t||"platformChange"===t?"":"bus"===t?e.line.text_color:"train"===t?"intercity"===jn(e)?"var(--stepTrainIntercityTextColor)":"var(--stepTrainSprinterTextColor)":void 0}function _n(t){var e=kn(t);return"walking"===e?"walk":e.toLowerCase()}function Tn(t){var e=kn(t);return"bus"===e?"dashed":"train"===e?"solid":"dotted"}function jn(t){return t.line.short_name.toLowerCase()}function En(t,e={}){var n=ot({...e});return it(n,"store_"+t),n}var Nn=function(t,e){var n,r,s,o,c,l,i,a;for(1,n=3&t.length,r=t.length-n,s=1,c=3432918353,l=461845907,a=0;a<r;)i=255&t.charCodeAt(a)|(255&t.charCodeAt(++a))<<8|(255&t.charCodeAt(++a))<<16|(255&t.charCodeAt(++a))<<24,++a,s=27492+(65535&(o=5*(65535&(s=(s^=i=(65535&(i=(i=(65535&i)*c+(((i>>>16)*c&65535)<<16)&4294967295)<<15|i>>>17))*l+(((i>>>16)*l&65535)<<16)&4294967295)<<13|s>>>19))+((5*(s>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(i=0,n){case 3:i^=(255&t.charCodeAt(a+2))<<16;case 2:i^=(255&t.charCodeAt(a+1))<<8;case 1:s^=i=(65535&(i=(i=(65535&(i^=255&t.charCodeAt(a)))*c+(((i>>>16)*c&65535)<<16)&4294967295)<<15|i>>>17))*l+(((i>>>16)*l&65535)<<16)&4294967295}return s^=t.length,s=2246822507*(65535&(s^=s>>>16))+((2246822507*(s>>>16)&65535)<<16)&4294967295,s=3266489909*(65535&(s^=s>>>13))+((3266489909*(s>>>16)&65535)<<16)&4294967295,((s^=s>>>16)>>>0).toString(36)};const In=ot({});function Dn(){return 0===Object.keys(In.get()).length?[]:Ln(In.get().legs[0].steps)}function An(){In.set({})}function Ln(t){return t=(t=t.map((t,e)=>({...t,index:e,stepType:kn(t),travelMode:t.travel_mode.toLowerCase(),id:Nn(JSON.stringify(t))}))).map((e,n)=>{var r=null,s=null;n>0&&(r=t[n-1]),n<t.length-1&&(s=t[n+1]);var o=1===Math.round(e.duration.value/120);return"walking"===e.stepType&&o&&r&&s&&"transit"===r.travelMode&&"transit"===s.travelMode?{...e,stepType:"platformChange"}:e})}function Mn(){if(0===Dn().length||!Ft())return 9999999;var{lat:t,long:e}=qt.get(),n=Dn().map(t=>Mt(t.polyline.points).map(e=>({...e,step:t}))).flat(1);return(n=n.map(n=>{var r=n.lat,s=n.lng,o=t-r,c=e-s,l=Math.sqrt(o**2+c**2);return{...n,distance:l}}).sort((t,e)=>t.distance-e.distance))[0].step}function On(t){let e,n;return{c(){e=h("div"),w(e,"class",n="routeStep firstStep "+t[1]+" "+t[2]+" svelte-1943zfs"),C(e,"border-color",t[3])},m(t,n){p(t,e,n)},p(t,r){6&r&&n!==(n="routeStep firstStep "+t[1]+" "+t[2]+" svelte-1943zfs")&&w(e,"class",n),8&r&&C(e,"border-color",t[3])},d(t){t&&m(e)}}}function Rn(t){let e,n;return{c(){e=h("div"),w(e,"class",n="routeStep firstStep "+t[1]+" "+t[2]+" svelte-1943zfs"),C(e,"border-color",t[3])},m(t,n){p(t,e,n)},p(t,r){6&r&&n!==(n="routeStep firstStep "+t[1]+" "+t[2]+" svelte-1943zfs")&&w(e,"class",n),8&r&&C(e,"border-color",t[3])},d(t){t&&m(e)}}}function zn(t){let e,n,r,s,o,c,l=t[5]&&t[7]&&On(t);var i=t[4];function a(t){return{props:{step:t[0]}}}if(i)var u=new i(a(t));let d=t[5]&&t[8]&&Rn(t);return{c(){l&&l.c(),e=y(),n=h("div"),u&&Q(u.$$.fragment),s=y(),d&&d.c(),o=x(),w(n,"class",r="routeStep "+t[1]+" "+t[2]+" "+t[6]+" svelte-1943zfs"),C(n,"border-color",t[3])},m(t,r){l&&l.m(t,r),p(t,e,r),p(t,n,r),u&&U(u,n,null),p(t,s,r),d&&d.m(t,r),p(t,o,r),c=!0},p(t,[s]){t[5]&&t[7]?l?l.p(t,s):(l=On(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null);const $={};if(1&s&&($.step=t[0]),i!==(i=t[4])){if(u){H();const t=u;Z(t.$$.fragment,1,0,()=>{X(t,1)}),V()}i?(Q((u=new i(a(t))).$$.fragment),Y(u.$$.fragment,1),U(u,n,null)):u=null}else i&&u.$set($);(!c||70&s&&r!==(r="routeStep "+t[1]+" "+t[2]+" "+t[6]+" svelte-1943zfs"))&&w(n,"class",r),(!c||8&s)&&C(n,"border-color",t[3]),t[5]&&t[8]?d?d.p(t,s):(d=Rn(t),d.c(),d.m(o.parentNode,o)):d&&(d.d(1),d=null)},i(t){c||(u&&Y(u.$$.fragment,t),c=!0)},o(t){u&&Z(u.$$.fragment,t),c=!1},d(t){l&&l.d(t),t&&m(e),t&&m(n),u&&X(u),t&&m(s),d&&d.d(t),t&&m(o)}}}function Bn(t,e,n){let r;l(t,qt,t=>n(11,r=t));var{step:s}=e;let o,c,i,a,u,d,$,f,p,m;return t.$set=t=>{"step"in t&&n(0,s=t.step)},t.$$.update=()=>{1&t.$$.dirty&&n(1,o=s.travel_mode.toLowerCase()),3&t.$$.dirty&&n(9,c="transit"===o?s.transit_details:{}),1&t.$$.dirty&&n(2,i=kn(s)),516&t.$$.dirty&&n(3,a=Sn(i,c)),516&t.$$.dirty&&(u=Cn(i,c)),4&t.$$.dirty&&n(4,d=function(t){return wn[t]}(i)),2048&t.$$.dirty&&n(5,$=Mn().index===s.index),32&t.$$.dirty&&n(6,f=$?"current":""),1&t.$$.dirty&&n(7,p=0===s.index),1&t.$$.dirty&&n(8,m=s.index===Dn().length-1)},[s,o,i,a,d,$,f,p,m]}it(In,"currentRoute");class Pn extends nt{constructor(t){super(),et(this,t,Bn,zn,o,{step:0})}}function qn(t){let e,n;const r=t[2].default,s=i(r,t,t[1],null);return{c(){e=h("div"),s&&s.c(),w(e,"class","buttonContainer svelte-1xhgpq8"),C(e,"grid-template-columns","repeat("+t[0]+", 1fr)")},m(t,r){p(t,e,r),s&&s.m(e,null),n=!0},p(t,[o]){s&&s.p&&2&o&&s.p(a(r,t,t[1],null),u(r,t[1],o,null)),(!n||1&o)&&C(e,"grid-template-columns","repeat("+t[0]+", 1fr)")},i(t){n||(Y(s,t),n=!0)},o(t){Z(s,t),n=!1},d(t){t&&m(e),s&&s.d(t)}}}function Jn(t,e,n){var{buttons:r=1}=e;let{$$slots:s={},$$scope:o}=e;return t.$set=t=>{"buttons"in t&&n(0,r=t.buttons),"$$scope"in t&&n(1,o=t.$$scope)},[r,o,s]}class Fn extends nt{constructor(t){super(),et(this,t,Jn,qn,o,{buttons:0})}}function Wn(t){let e,n,r,s,o,c;const l=t[4].default,d=i(l,t,t[3],null);return{c(){e=h("button"),n=h("span"),s=y(),d&&d.c(),w(n,"class",r="mdi mdi-"+t[0]+" svelte-ialjis"),w(e,"class","svelte-ialjis")},m(r,l){p(r,e,l),f(e,n),f(e,s),d&&d.m(e,null),o=!0,c=b(e,"click",t[1])},p(t,[e]){(!o||1&e&&r!==(r="mdi mdi-"+t[0]+" svelte-ialjis"))&&w(n,"class",r),d&&d.p&&8&e&&d.p(a(l,t,t[3],null),u(l,t[3],e,null))},i(t){o||(Y(d,t),o=!0)},o(t){Z(d,t),o=!1},d(t){t&&m(e),d&&d.d(t),c()}}}function Gn(t,e,n){const r=I();var{icon:s=""}=e;let{$$slots:o={},$$scope:c}=e;return t.$set=t=>{"icon"in t&&n(0,s=t.icon),"$$scope"in t&&n(3,c=t.$$scope)},[s,function(){r("click")},r,c,o]}class Hn extends nt{constructor(t){super(),et(this,t,Gn,Wn,o,{icon:0})}}function Vn(t){let e,n,r;const s=t[1].default,o=i(s,t,t[0],null);return{c(){e=h("div"),n=h("h3"),o&&o.c(),w(n,"class","svelte-1u37zj9"),w(e,"class","emptyState svelte-1u37zj9")},m(t,s){p(t,e,s),f(e,n),o&&o.m(n,null),r=!0},p(t,[e]){o&&o.p&&1&e&&o.p(a(s,t,t[0],null),u(s,t[0],e,null))},i(t){r||(Y(o,t),r=!0)},o(t){Z(o,t),r=!1},d(t){t&&m(e),o&&o.d(t)}}}function Yn(t,e,n){let{$$slots:r={},$$scope:s}=e;return t.$set=t=>{"$$scope"in t&&n(0,s=t.$$scope)},[s,r]}class Zn extends nt{constructor(t){super(),et(this,t,Yn,Vn,o,{})}}function Kn(t,e,n){const r=t.slice();return r[6]=e[n],r}function Qn(t){let e;const n=new Zn({props:{$$slots:{default:[Xn]},$$scope:{ctx:t}}});return{c(){Q(n.$$.fragment)},m(t,r){U(n,t,r),e=!0},p(t,e){const r={};512&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){e||(Y(n.$$.fragment,t),e=!0)},o(t){Z(n.$$.fragment,t),e=!1},d(t){X(n,t)}}}function Un(t){let e,n,r,s,o,c,l,i,a,u,d,$,x,b,S,C=t[0],_=[];for(let e=0;e<C.length;e+=1)_[e]=tr(Kn(t,C,e));const T=t=>Z(_[t],1,1,()=>{_[t]=null});return{c(){e=h("div"),n=h("p"),r=h("span"),s=v(" Vertrek om "),o=h("b"),c=v(t[2]),l=y();for(let t=0;t<_.length;t+=1)_[t].c();i=y(),a=h("div"),u=h("p"),d=h("span"),$=v(" Aankomst om "),x=h("b"),b=v(t[3]),w(r,"class","mdi mdi-flag svelte-m9ndfe"),w(n,"class","svelte-m9ndfe"),w(e,"class","tripStartInfo svelte-m9ndfe"),w(d,"class","mdi mdi-flag-checkered svelte-m9ndfe"),w(u,"class","svelte-m9ndfe"),w(a,"class","tripStartInfo svelte-m9ndfe")},m(t,m){p(t,e,m),f(e,n),f(n,r),f(n,s),f(n,o),f(o,c),p(t,l,m);for(let e=0;e<_.length;e+=1)_[e].m(t,m);p(t,i,m),p(t,a,m),f(a,u),f(u,d),f(u,$),f(u,x),f(x,b),S=!0},p(t,e){if((!S||4&e)&&k(c,t[2]),1&e){let n;for(C=t[0],n=0;n<C.length;n+=1){const r=Kn(t,C,n);_[n]?(_[n].p(r,e),Y(_[n],1)):(_[n]=tr(r),_[n].c(),Y(_[n],1),_[n].m(i.parentNode,i))}for(H(),n=C.length;n<_.length;n+=1)T(n);V()}(!S||8&e)&&k(b,t[3])},i(t){if(!S){for(let t=0;t<C.length;t+=1)Y(_[t]);S=!0}},o(t){_=_.filter(Boolean);for(let t=0;t<_.length;t+=1)Z(_[t]);S=!1},d(t){t&&m(e),t&&m(l),g(_,t),t&&m(i),t&&m(a)}}}function Xn(t){let e;return{c(){e=v("Geen route gestart")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function tr(t){let e;const n=new Pn({props:{step:t[6]}});return{c(){Q(n.$$.fragment)},m(t,r){U(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.step=t[6]),n.$set(r)},i(t){e||(Y(n.$$.fragment,t),e=!0)},o(t){Z(n.$$.fragment,t),e=!1},d(t){X(n,t)}}}function er(t){let e;const n=new Hn({props:{icon:"stop-circle-outline",$$slots:{default:[nr]},$$scope:{ctx:t}}});return n.$on("click",An),{c(){Q(n.$$.fragment)},m(t,r){U(n,t,r),e=!0},p(t,e){const r={};512&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){e||(Y(n.$$.fragment,t),e=!0)},o(t){Z(n.$$.fragment,t),e=!1},d(t){X(n,t)}}}function nr(t){let e;return{c(){e=v("Stop route")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function rr(t){let e,n,r=t[1]&&er(t);return{c(){r&&r.c(),e=x()},m(t,s){r&&r.m(t,s),p(t,e,s),n=!0},p(t,n){t[1]?r?(r.p(t,n),Y(r,1)):(r=er(t),r.c(),Y(r,1),r.m(e.parentNode,e)):r&&(H(),Z(r,1,1,()=>{r=null}),V())},i(t){n||(Y(r),n=!0)},o(t){Z(r),n=!1},d(t){r&&r.d(t),t&&m(e)}}}function sr(t){let e,n,r,s,o;const c=[Un,Qn],l=[];function i(t,e){return t[1]?0:1}n=i(t),r=l[n]=c[n](t);const a=new Fn({props:{buttons:1,$$slots:{default:[rr]},$$scope:{ctx:t}}});return{c(){e=h("div"),r.c(),s=y(),Q(a.$$.fragment),w(e,"class","routeGuide svelte-m9ndfe")},m(t,r){p(t,e,r),l[n].m(e,null),p(t,s,r),U(a,t,r),o=!0},p(t,[s]){let o=n;n=i(t),n===o?l[n].p(t,s):(H(),Z(l[o],1,1,()=>{l[o]=null}),V(),r=l[n],r||(r=l[n]=c[n](t),r.c()),Y(r,1),r.m(e,null));const u={};514&s&&(u.$$scope={dirty:s,ctx:t}),a.$set(u)},i(t){o||(Y(r),Y(a.$$.fragment,t),o=!0)},o(t){Z(r),Z(a.$$.fragment,t),o=!1},d(t){t&&m(e),l[n].d(),t&&m(s),X(a,t)}}}function or(t,e,n){let r,s,o,c,i,a;return l(t,In,t=>n(4,r=t)),void 0===Jt&&void 0!==navigator&&void 0!==navigator.geolocation&&(Jt=navigator.geolocation.watchPosition(t=>{var e;qt.set({lat:(e=t).coords.latitude,long:e.coords.longitude})})),t.$$.update=()=>{16&t.$$.dirty&&n(0,s=Dn()),1&t.$$.dirty&&n(1,o=s.length>0),18&t.$$.dirty&&n(5,c=o?r.legs[0]:{}),34&t.$$.dirty&&n(2,i=o?zt(c.departure_time.value):""),34&t.$$.dirty&&n(3,a=o?zt(c.arrival_time.value):"")},[s,o,i,a]}class cr extends nt{constructor(t){super(),et(this,t,or,sr,o,{})}}function lr(t,e,n){const r=t.slice();return r[3]=e[n],r}function ir(t){let e,n;return{c(){e=h("div"),w(e,"class","tripSection svelte-58ylv0"),w(e,"style",n=t[1](t[3]))},m(t,n){p(t,e,n)},p(t,r){1&r&&n!==(n=t[1](t[3]))&&w(e,"style",n)},d(t){t&&m(e)}}}function ar(e){let n,r=e[0],s=[];for(let t=0;t<r.length;t+=1)s[t]=ir(lr(e,r,t));return{c(){n=h("div");for(let t=0;t<s.length;t+=1)s[t].c();w(n,"class","tripOverviewBar svelte-58ylv0")},m(t,e){p(t,n,e);for(let t=0;t<s.length;t+=1)s[t].m(n,null)},p(t,[e]){if(3&e){let o;for(r=t[0],o=0;o<r.length;o+=1){const c=lr(t,r,o);s[o]?s[o].p(c,e):(s[o]=ir(c),s[o].c(),s[o].m(n,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=r.length}},i:t,o:t,d(t){t&&m(n),g(s,t)}}}function ur(t,e,n){var{steps:r}=e;return console.log(r),t.$set=t=>{"steps"in t&&n(0,r=t.steps)},[r,function(t){return`width: ${function(t){var e=t.duration.value,n=r.reduce((t,e)=>t+e.duration.value,0);return e/n*100}(t)}%;\n    border-color: ${Sn(t)};\n    border-style: ${Tn(t)}`}]}class dr extends nt{constructor(t){super(),et(this,t,ur,ar,o,{steps:0})}}function $r(t){let e,n,r,s,o,c;const l=t[4].default,d=i(l,t,t[3],null);return{c(){e=h("button"),n=h("span"),s=y(),d&&d.c(),w(n,"class",r="mdi mdi-"+t[0]+" svelte-jxzbue"),w(e,"class","svelte-jxzbue")},m(r,l){p(r,e,l),f(e,n),f(e,s),d&&d.m(e,null),o=!0,c=b(e,"click",t[1])},p(t,[e]){(!o||1&e&&r!==(r="mdi mdi-"+t[0]+" svelte-jxzbue"))&&w(n,"class",r),d&&d.p&&8&e&&d.p(a(l,t,t[3],null),u(l,t[3],e,null))},i(t){o||(Y(d,t),o=!0)},o(t){Z(d,t),o=!1},d(t){t&&m(e),d&&d.d(t),c()}}}function fr(t,e,n){const r=I();var{icon:s=""}=e;let{$$slots:o={},$$scope:c}=e;return t.$set=t=>{"icon"in t&&n(0,s=t.icon),"$$scope"in t&&n(3,c=t.$$scope)},[s,function(){r("click")},r,c,o]}class pr extends nt{constructor(t){super(),et(this,t,fr,$r,o,{icon:0})}}function mr(e){let n,r,s,o,c,l,i=e[0].html_instructions+"";return{c(){n=h("div"),r=h("p"),s=h("span"),c=y(),l=v(i),w(s,"class",o="mdi mdi-"+e[2]+" svelte-zohrbc"),w(r,"class","svelte-zohrbc"),w(n,"class","stepSmall svelte-zohrbc"),w(n,"style",e[1])},m(t,e){p(t,n,e),f(n,r),f(r,s),f(r,c),f(r,l)},p(t,[e]){4&e&&o!==(o="mdi mdi-"+t[2]+" svelte-zohrbc")&&w(s,"class",o),1&e&&i!==(i=t[0].html_instructions+"")&&k(l,i),2&e&&w(n,"style",t[1])},i:t,o:t,d(t){t&&m(n)}}}function gr(t,e,n){var{step:r}=e;let s,o;return t.$set=t=>{"step"in t&&n(0,r=t.step)},t.$$.update=()=>{1&t.$$.dirty&&n(1,s=function(t){return`border-style: ${Tn(t)};\n    border-color: ${Sn(t)};`}(r)),1&t.$$.dirty&&n(2,o=_n(r))},[r,s,o]}class hr extends nt{constructor(t){super(),et(this,t,gr,mr,o,{step:0})}}function vr(t,e,n){const r=t.slice();return r[17]=e[n],r}function yr(t,e,n){const r=t.slice();return r[20]=e[n],r}function xr(t){let e,n;return{c(){e=h("span"),n=v(t[3]),w(e,"slot","left")},m(t,r){p(t,e,r),f(e,n)},p(t,e){8&e&&k(n,t[3])},d(t){t&&m(e)}}}function br(t){let e,n;return{c(){e=h("span"),n=v(t[4]),w(e,"slot","left")},m(t,r){p(t,e,r),f(e,n)},p(t,e){16&e&&k(n,t[4])},d(t){t&&m(e)}}}function wr(t){let e,n;return{c(){e=h("span"),w(e,"class",n="mdi mdi-"+t[20]+" svelte-1t9hvl9")},m(t,n){p(t,e,n)},p(t,r){512&r&&n!==(n="mdi mdi-"+t[20]+" svelte-1t9hvl9")&&w(e,"class",n)},d(t){t&&m(e)}}}function kr(t){let e,n=t[9],r=[];for(let e=0;e<n.length;e+=1)r[e]=wr(yr(t,n,e));return{c(){e=h("span");for(let t=0;t<r.length;t+=1)r[t].c();w(e,"class","tripIcons svelte-1t9hvl9"),w(e,"slot","center")},m(t,n){p(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,s){if(512&s){let o;for(n=t[9],o=0;o<n.length;o+=1){const c=yr(t,n,o);r[o]?r[o].p(c,s):(r[o]=wr(c),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){t&&m(e),g(r,t)}}}function Sr(t){let e,n;return{c(){e=h("span"),n=v(t[5]),w(e,"slot","right")},m(t,r){p(t,e,r),f(e,n)},p(t,e){32&e&&k(n,t[5])},d(t){t&&m(e)}}}function Cr(e){let n,r;return{c(){n=y(),r=y()},m(t,e){p(t,n,e),p(t,r,e)},p:t,d(t){t&&m(n),t&&m(r)}}}function _r(t){let e;return{c(){e=v("Start")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function Tr(t){let e;return{c(){e=v("Minder Info")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function jr(t){let e;return{c(){e=v("Meer Info")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function Er(t){let e;function n(t,e){return t[1]?Tr:jr}let r=n(t),s=r(t);return{c(){s.c(),e=x()},m(t,n){s.m(t,n),p(t,e,n)},p(t,o){r!==(r=n(t))&&(s.d(1),s=r(t),s&&(s.c(),s.m(e.parentNode,e)))},d(t){s.d(t),t&&m(e)}}}function Nr(t){let e,n,r=t[2].steps,s=[];for(let e=0;e<r.length;e+=1)s[e]=Ir(vr(t,r,e));const o=t=>Z(s[t],1,1,()=>{s[t]=null});return{c(){e=h("div");for(let t=0;t<s.length;t+=1)s[t].c();w(e,"class","tripSteps svelte-1t9hvl9")},m(t,r){p(t,e,r);for(let t=0;t<s.length;t+=1)s[t].m(e,null);n=!0},p(t,n){if(4&n){let c;for(r=t[2].steps,c=0;c<r.length;c+=1){const o=vr(t,r,c);s[c]?(s[c].p(o,n),Y(s[c],1)):(s[c]=Ir(o),s[c].c(),Y(s[c],1),s[c].m(e,null))}for(H(),c=r.length;c<s.length;c+=1)o(c);V()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)Y(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)Z(s[t]);n=!1},d(t){t&&m(e),g(s,t)}}}function Ir(t){let e;const n=new hr({props:{step:t[17]}});return{c(){Q(n.$$.fragment)},m(t,r){U(n,t,r),e=!0},p(t,e){const r={};4&e&&(r.step=t[17]),n.$set(r)},i(t){e||(Y(n.$$.fragment,t),e=!0)},o(t){Z(n.$$.fragment,t),e=!1},d(t){X(n,t)}}}function Dr(t){let e,n,r,s,o,c,l,i,a;const u=new se({props:{$$slots:{left:[xr]},$$scope:{ctx:t}}}),d=new se({props:{$$slots:{default:[Cr],right:[Sr],center:[kr],left:[br]},$$scope:{ctx:t}}}),$=new dr({props:{steps:t[6]}}),g=new pr({props:{icon:"play-circle-outline",$$slots:{default:[_r]},$$scope:{ctx:t}}});g.$on("click",t[16]);const v=new pr({props:{icon:t[8],$$slots:{default:[Er]},$$scope:{ctx:t}}});v.$on("click",t[10]);let x=t[1]&&Nr(t);return{c(){e=h("div"),Q(u.$$.fragment),n=y(),Q(d.$$.fragment),r=y(),Q($.$$.fragment),s=y(),o=h("div"),Q(g.$$.fragment),c=y(),Q(v.$$.fragment),l=y(),x&&x.c(),w(o,"class","buttons svelte-1t9hvl9"),w(e,"class",i="trip "+t[7]+" svelte-1t9hvl9")},m(t,i){p(t,e,i),U(u,e,null),f(e,n),U(d,e,null),f(e,r),U($,e,null),f(e,s),f(e,o),U(g,o,null),f(o,c),U(v,o,null),f(e,l),x&&x.m(e,null),a=!0},p(t,[n]){const r={};8388616&n&&(r.$$scope={dirty:n,ctx:t}),u.$set(r);const s={};8389168&n&&(s.$$scope={dirty:n,ctx:t}),d.$set(s);const o={};64&n&&(o.steps=t[6]),$.$set(o);const c={};8388608&n&&(c.$$scope={dirty:n,ctx:t}),g.$set(c);const l={};256&n&&(l.icon=t[8]),8388610&n&&(l.$$scope={dirty:n,ctx:t}),v.$set(l),t[1]?x?(x.p(t,n),Y(x,1)):(x=Nr(t),x.c(),Y(x,1),x.m(e,null)):x&&(H(),Z(x,1,1,()=>{x=null}),V()),(!a||128&n&&i!==(i="trip "+t[7]+" svelte-1t9hvl9"))&&w(e,"class",i)},i(t){a||(Y(u.$$.fragment,t),Y(d.$$.fragment,t),Y($.$$.fragment,t),Y(g.$$.fragment,t),Y(v.$$.fragment,t),Y(x),a=!0)},o(t){Z(u.$$.fragment,t),Z(d.$$.fragment,t),Z($.$$.fragment,t),Z(g.$$.fragment,t),Z(v.$$.fragment,t),Z(x),a=!1},d(t){t&&m(e),X(u),X(d),X($),X(g),X(v),x&&x.d()}}}function Ar(t){var e;document.querySelector("main").scrollTo(0,0),e=t,An(),queueMicrotask(()=>{In.set(e)})}function Lr(t,e,n){var{trip:r}=e;console.log(r);var s=!1;function o(t){var e=t.end_address.split(", ");return e.pop(),e.pop(),e.join(", ")}function c(t){return t.map(t=>_n(t))}let l,i,a,u,d,$,f,p,m,g,h;return t.$set=t=>{"trip"in t&&n(0,r=t.trip)},t.$$.update=()=>{1&t.$$.dirty&&n(2,l=r.legs[0]),4&t.$$.dirty&&(i=l.steps[l.steps.length-1]),4&t.$$.dirty&&n(3,a=o(l)),4&t.$$.dirty&&n(12,u=Bt(l.departure_time.value)),4&t.$$.dirty&&n(13,d=Bt(l.arrival_time.value)),4096&t.$$.dirty&&n(4,$=zt(u)),8192&t.$$.dirty&&n(5,f=zt(d)),4&t.$$.dirty&&n(6,p=Ln(l.steps)),2&t.$$.dirty&&n(7,m=s?"open":""),2&t.$$.dirty&&n(8,g=s?"minus-circle-outline":"plus-circle-outline"),64&t.$$.dirty&&n(9,h=c(p))},[r,s,l,a,$,f,p,m,g,h,function(){n(1,s=!s)},i,u,d,o,c,()=>Ar(r)]}class Mr extends nt{constructor(t){super(),et(this,t,Lr,Dr,o,{trip:0})}}function Or(t,e,n){const r=t.slice();return r[1]=e[n],r}function Rr(t){let e,n,r;const s=new Zn({props:{$$slots:{default:[zr]},$$scope:{ctx:t}}});return{c(){e=h("div"),Q(s.$$.fragment),n=y(),w(e,"class","emptyStateWrapper svelte-1obgyek")},m(t,o){p(t,e,o),U(s,e,null),f(e,n),r=!0},p(t,e){const n={};16&e&&(n.$$scope={dirty:e,ctx:t}),s.$set(n)},i(t){r||(Y(s.$$.fragment,t),r=!0)},o(t){Z(s.$$.fragment,t),r=!1},d(t){t&&m(e),X(s)}}}function zr(t){let e;return{c(){e=v("Geen routes gevonden")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function Br(t){let e;const n=new Mr({props:{trip:t[1]}});return{c(){Q(n.$$.fragment)},m(t,r){U(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.trip=t[1]),n.$set(r)},i(t){e||(Y(n.$$.fragment,t),e=!0)},o(t){Z(n.$$.fragment,t),e=!1},d(t){X(n,t)}}}function Pr(t){let e,n,r,s,o=t[0],c=[];for(let e=0;e<o.length;e+=1)c[e]=Br(Or(t,o,e));const l=t=>Z(c[t],1,1,()=>{c[t]=null});let i=null;return o.length||(i=Rr(t)),{c(){e=h("section"),n=h("h3"),n.textContent="Routes",r=y();for(let t=0;t<c.length;t+=1)c[t].c();i&&i.c(),w(n,"class","svelte-1obgyek"),w(e,"class","trips svelte-1obgyek")},m(t,o){p(t,e,o),f(e,n),f(e,r);for(let t=0;t<c.length;t+=1)c[t].m(e,null);i&&i.m(e,null),s=!0},p(t,[n]){if(1&n){let r;for(o=t[0],r=0;r<o.length;r+=1){const s=Or(t,o,r);c[r]?(c[r].p(s,n),Y(c[r],1)):(c[r]=Br(s),c[r].c(),Y(c[r],1),c[r].m(e,null))}for(H(),r=o.length;r<c.length;r+=1)l(r);V()}!o.length&&i?i.p(t,n):o.length?i&&(i.d(1),i=null):(i=Rr(t),i.c(),i.m(e,null))},i(t){if(!s){for(let t=0;t<o.length;t+=1)Y(c[t]);s=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)Z(c[t]);s=!1},d(t){t&&m(e),g(c,t),i&&i.d()}}}function qr(t,e,n){var{trips:r}=e;return t.$set=t=>{"trips"in t&&n(0,r=t.trips)},[r]}class Jr extends nt{constructor(t){super(),et(this,t,qr,Pr,o,{trips:0})}}function Fr(e){let n;return{c(){n=h("div"),w(n,"class","divider svelte-77ikm")},m(t,e){p(t,n,e)},p:t,i:t,o:t,d(t){t&&m(n)}}}class Wr extends nt{constructor(t){super(),et(this,t,null,Fr,o,{})}}function Gr(t){let e;return{c(){e=h("p"),e.innerHTML='<span class="mdi mdi-crosshairs-question"></span> Locatie kan niet worden gevonden',w(e,"class","svelte-9kh0hl")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function Hr(t){let e;return{c(){e=h("p"),e.innerHTML='<span class="mdi mdi-wifi-strength-alert-outline"></span> Je bent offline. Gegevens worden niet bijgewerkt',w(e,"class","svelte-9kh0hl")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function Vr(t){let e,n,r,s,o,c=!t[2]&&Gr(),l=!t[1]&&Hr();const i=new cr({}),a=new Wr({}),u=new Jr({props:{trips:t[0].routes}});return{c(){c&&c.c(),e=y(),l&&l.c(),n=y(),Q(i.$$.fragment),r=y(),Q(a.$$.fragment),s=y(),Q(u.$$.fragment)},m(t,d){c&&c.m(t,d),p(t,e,d),l&&l.m(t,d),p(t,n,d),U(i,t,d),p(t,r,d),U(a,t,d),p(t,s,d),U(u,t,d),o=!0},p(t,[r]){t[2]?c&&(c.d(1),c=null):c||(c=Gr(),c.c(),c.m(e.parentNode,e)),t[1]?l&&(l.d(1),l=null):l||(l=Hr(),l.c(),l.m(n.parentNode,n));const s={};1&r&&(s.trips=t[0].routes),u.$set(s)},i(t){o||(Y(i.$$.fragment,t),Y(a.$$.fragment,t),Y(u.$$.fragment,t),o=!0)},o(t){Z(i.$$.fragment,t),Z(a.$$.fragment,t),Z(u.$$.fragment,t),o=!1},d(t){c&&c.d(t),t&&m(e),l&&l.d(t),t&&m(n),X(i,t),t&&m(r),X(a,t),t&&m(s),X(u,t)}}}function Yr(t,e,n){let r;l(t,qt,t=>n(3,r=t));var s={routes:[]},o=navigator.onLine||!0;let c;return window.addEventListener("online",()=>n(1,o=!0)),window.addEventListener("offline",()=>n(1,o=!1)),mt("/trips?fromLatLong=52.640718,4.821434&toLatLong=52.387116,4.614627").then(t=>n(0,s=t)),t.$$.update=()=>{8&t.$$.dirty&&n(2,c=Ft())},[s,o,c]}const Zr=ot({home:{name:"Huis",icon:"home-outline",canBeDeleted:!1,address:"",location:{lat:0,long:0}},work:{name:"Werk",icon:"briefcase-outline",canBeDeleted:!1,address:"",location:{lat:0,long:0}}});function Kr(t,e){const n=n=>{var{target:r}=n;t.isSameNode(r)||((t,e)=>{for(var n=e;null!==n;){if(n.parentNode===t)return!0;n=n.parentNode}return!1})(t,r)||e()};return document.addEventListener("click",n),{destroy(){document.removeEventListener("click",n)}}}function Qr(t,e,n){const r=t.slice();return r[10]=e[n],r}function Ur(t){let e,n,r,s,o,c=t[10].properties.search+"";function l(...e){return t[9](t[10],...e)}return{c(){e=h("div"),n=h("p"),r=v(c),s=y(),w(n,"class","svelte-1v8etiy"),w(e,"class","result svelte-1v8etiy")},m(t,c){p(t,e,c),f(e,n),f(n,r),f(e,s),o=b(e,"click",l)},p(e,n){t=e,2&n&&c!==(c=t[10].properties.search+"")&&k(r,c)},d(t){t&&m(e),o()}}}function Xr(e){let n,s,o,c,l=e[1],i=[];for(let t=0;t<l.length;t+=1)i[t]=Ur(Qr(e,l,t));return{c(){n=h("input"),s=y();for(let t=0;t<i.length;t+=1)i[t].c();o=x(),w(n,"type","text"),w(n,"placeholder","Zoek locatie"),w(n,"class","svelte-1v8etiy")},m(t,r){p(t,n,r),S(n,e[0]),p(t,s,r);for(let e=0;e<i.length;e+=1)i[e].m(t,r);p(t,o,r),c=[b(n,"input",e[8]),b(n,"keydown",e[2])]},p(t,[e]){if(1&e&&n.value!==t[0]&&S(n,t[0]),10&e){let n;for(l=t[1],n=0;n<l.length;n+=1){const r=Qr(t,l,n);i[n]?i[n].p(r,e):(i[n]=Ur(r),i[n].c(),i[n].m(o.parentNode,o))}for(;n<i.length;n+=1)i[n].d(1);i.length=l.length}},i:t,o:t,d(t){t&&m(n),t&&m(s),g(i,t),t&&m(o),r(c)}}}function ts(t,e,n){const r=I();var s,{addressString:o}=e,{coordinates:c={lat:0,long:0}}=e,l="",i=[];function a(t){var[e,s]=t.geometry.coordinates;n(0,l=t.properties.search),n(4,o=l),n(5,c.lat=s,c),n(5,c.long=e,c),n(5,c),r("choise")}return t.$set=t=>{"addressString"in t&&n(4,o=t.addressString),"coordinates"in t&&n(5,c=t.coordinates)},[l,i,function(){s&&clearTimeout(s),s=setTimeout(async()=>{var t=await fetch(`https://1313.nl/geocoder/${l}*`).then(t=>t.json());n(1,i=t.features)},1e3)},a,o,c,s,r,function(){l=this.value,n(0,l)},t=>a(t)]}it(Zr,"addresses");class es extends nt{constructor(t){super(),et(this,t,ts,Xr,o,{addressString:4,coordinates:5})}}function ns(t){let e,n,r;function s(e){t[4].call(null,e)}function o(e){t[5].call(null,e)}let c={};void 0!==t[0].location&&(c.coordinates=t[0].location),void 0!==t[0].address&&(c.addressString=t[0].address);const l=new es({props:c});return A.push(()=>K(l,"coordinates",s)),A.push(()=>K(l,"addressString",o)),l.$on("choise",t[1]),{c(){Q(l.$$.fragment)},m(t,e){U(l,t,e),r=!0},p(t,[r]){const s={};!e&&1&r&&(e=!0,s.coordinates=t[0].location,B(()=>e=!1)),!n&&1&r&&(n=!0,s.addressString=t[0].address,B(()=>n=!1)),l.$set(s)},i(t){r||(Y(l.$$.fragment,t),r=!0)},o(t){Z(l.$$.fragment,t),r=!1},d(t){X(l,t)}}}function rs(t,e,n){let r;l(t,Zr,t=>n(3,r=t));var{address:s}=e;let o;return t.$set=t=>{"address"in t&&n(0,s=t.address)},t.$$.update=()=>{1&t.$$.dirty&&(o=s.id)},[s,function(){$(Zr,r[o]=s,r)},o,r,function(t){s.location=t,n(0,s)},function(t){s.address=t,n(0,s)}]}class ss extends nt{constructor(t){super(),et(this,t,rs,ns,o,{address:0})}}function os(t){let e,n,r,s;return{c(){e=h("span"),n=h("span"),r=y(),s=v(t[2]),w(n,"class","mdi mdi-road-variant"),w(e,"slot","left")},m(t,o){p(t,e,o),f(e,n),f(e,r),f(e,s)},p(t,e){4&e&&k(s,t[2])},d(t){t&&m(e)}}}function cs(t){let e;return{c(){e=v("Pas aan")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function ls(t){let e;return{c(){e=v("Regels")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function is(t){let e,n,r;function s(e){t[6].call(null,e)}let o={};void 0!==t[0]&&(o.address=t[0]);const c=new ss({props:o});return A.push(()=>K(c,"address",s)),{c(){e=h("div"),Q(c.$$.fragment),w(e,"class","expandable svelte-utomgs")},m(t,n){p(t,e,n),U(c,e,null),r=!0},p(t,e){const r={};!n&&1&e&&(n=!0,r.address=t[0],B(()=>n=!1)),c.$set(r)},i(t){r||(Y(c.$$.fragment,t),r=!0)},o(t){Z(c.$$.fragment,t),r=!1},d(t){t&&m(e),X(c)}}}function as(e){let n,r,o,c,l,i,a,u,d,$,g,x,b,S,C,_=e[0].name+"";const T=new se({props:{$$slots:{left:[os]},$$scope:{ctx:e}}}),j=new pr({props:{icon:"pencil",$$slots:{default:[cs]},$$scope:{ctx:e}}});j.$on("click",e[5]);const E=new pr({props:{icon:"format-list-numbered",$$slots:{default:[ls]},$$scope:{ctx:e}}});let N="changeAddress"===e[1]&&is(e);return{c(){n=h("div"),r=h("h3"),o=h("span"),l=y(),i=v(_),a=y(),Q(T.$$.fragment),u=y(),d=h("div"),Q(j.$$.fragment),$=y(),Q(E.$$.fragment),g=y(),N&&N.c(),w(o,"class",c="mdi mdi-"+e[0].icon+" svelte-utomgs"),w(r,"class","header svelte-utomgs"),w(d,"class","buttons svelte-utomgs"),w(n,"class",x="address "+(""!==e[1]?"tabOpen":"")+" svelte-utomgs")},m(c,m){var h;p(c,n,m),f(n,r),f(r,o),f(r,l),f(r,i),f(n,a),U(T,n,null),f(n,u),f(n,d),U(j,d,null),f(d,$),U(E,d,null),f(n,g),N&&N.m(n,null),S=!0,h=b=Kr.call(null,n,e[4]),C=h&&s(h.destroy)?h.destroy:t},p(t,[e]){(!S||1&e&&c!==(c="mdi mdi-"+t[0].icon+" svelte-utomgs"))&&w(o,"class",c),(!S||1&e)&&_!==(_=t[0].name+"")&&k(i,_);const r={};132&e&&(r.$$scope={dirty:e,ctx:t}),T.$set(r);const s={};128&e&&(s.$$scope={dirty:e,ctx:t}),j.$set(s);const l={};128&e&&(l.$$scope={dirty:e,ctx:t}),E.$set(l),"changeAddress"===t[1]?N?(N.p(t,e),Y(N,1)):(N=is(t),N.c(),Y(N,1),N.m(n,null)):N&&(H(),Z(N,1,1,()=>{N=null}),V()),(!S||2&e&&x!==(x="address "+(""!==t[1]?"tabOpen":"")+" svelte-utomgs"))&&w(n,"class",x)},i(t){S||(Y(T.$$.fragment,t),Y(j.$$.fragment,t),Y(E.$$.fragment,t),Y(N),S=!0)},o(t){Z(T.$$.fragment,t),Z(j.$$.fragment,t),Z(E.$$.fragment,t),Z(N),S=!1},d(t){t&&m(n),X(T),X(j),X(E),N&&N.d(),C()}}}function us(t,e,n){var{address:r}=e,s="";function o(t){n(1,s=t)}let c;return t.$set=t=>{"address"in t&&n(0,r=t.address)},t.$$.update=()=>{1&t.$$.dirty&&n(2,c=r.address?r.address:"(geen address ingesteld)")},[r,s,c,o,function(){n(1,s="")},()=>o("changeAddress"),function(t){n(0,r=t)}]}class ds extends nt{constructor(t){super(),et(this,t,us,as,o,{address:0})}}function $s(t,e,n){const r=t.slice();return r[3]=e[n],r[4]=e,r[5]=n,r}function fs(t){let e,n;function r(e){t[2].call(null,e,t[3],t[4],t[5])}let s={};void 0!==t[3]&&(s.address=t[3]);const o=new ds({props:s});return A.push(()=>K(o,"address",r)),o.$on("change",ms),{c(){Q(o.$$.fragment)},m(t,e){U(o,t,e),n=!0},p(n,r){t=n;const s={};!e&&1&r&&(e=!0,s.address=t[3],B(()=>e=!1)),o.$set(s)},i(t){n||(Y(o.$$.fragment,t),n=!0)},o(t){Z(o.$$.fragment,t),n=!1},d(t){X(o,t)}}}function ps(t){let e,n,r=t[0],s=[];for(let e=0;e<r.length;e+=1)s[e]=fs($s(t,r,e));const o=t=>Z(s[t],1,1,()=>{s[t]=null});return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=x()},m(t,r){for(let e=0;e<s.length;e+=1)s[e].m(t,r);p(t,e,r),n=!0},p(t,[n]){if(1&n){let c;for(r=t[0],c=0;c<r.length;c+=1){const o=$s(t,r,c);s[c]?(s[c].p(o,n),Y(s[c],1)):(s[c]=fs(o),s[c].c(),Y(s[c],1),s[c].m(e.parentNode,e))}for(H(),c=r.length;c<s.length;c+=1)o(c);V()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)Y(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)Z(s[t]);n=!1},d(t){g(s,t),t&&m(e)}}}function ms(){}function gs(t,e,n){let r,s;return l(t,Zr,t=>n(1,r=t)),t.$$.update=()=>{2&t.$$.dirty&&n(0,s=function(){var t=Zr.get();return Object.entries(t).map(([t,e])=>({canBeDeleted:!0,id:t,...e}))}())},[s,r,function(t,e,o,c){o[c]=t,n(0,s),n(1,r)}]}var hs={"/":class extends nt{constructor(t){super(),et(this,t,Yr,Vr,o,{})}},"/addressbook":class extends nt{constructor(t){super(),et(this,t,gs,ps,o,{})}}};function vs(e){let n;const r=new _t({props:{routes:hs}});return{c(){Q(r.$$.fragment)},m(t,e){U(r,t,e),n=!0},p:t,i(t){n||(Y(r.$$.fragment,t),n=!0)},o(t){Z(r.$$.fragment,t),n=!1},d(t){X(r,t)}}}function ys(e){let n;return{c(){n=v("loading")},m(t,e){p(t,n,e)},p:t,i:t,o:t,d(t){t&&m(n)}}}function xs(t){let e,n,r,s,o;const c=new Lt({}),l=[ys,vs],i=[];function a(t,e){return t[0]?0:1}return r=a(t),s=i[r]=l[r](t),{c(){e=h("main"),Q(c.$$.fragment),n=y(),s.c(),w(e,"class","svelte-1bsbukl")},m(t,s){p(t,e,s),U(c,e,null),f(e,n),i[r].m(e,null),o=!0},p(t,[n]){let o=r;r=a(t),r===o?i[r].p(t,n):(H(),Z(i[o],1,1,()=>{i[o]=null}),V(),s=i[r],s||(s=i[r]=l[r](t),s.c()),Y(s,1),s.m(e,null))},i(t){o||(Y(c.$$.fragment,t),Y(s),o=!0)},o(t){Z(c.$$.fragment,t),Z(s),o=!1},d(t){t&&m(e),X(c),i[r].d()}}}function bs(t,e,n){var r=!0;return function(){if(void 0===window.navigator)return;if(void 0===navigator.serviceWorker)return;const{serviceWorker:t}=navigator;t.register("./serviceWorker.js").then(t=>console.log("Success",t)).catch(t=>console.log("Fail",t))}(),async function(){return Promise.all([pt(ut,"./json/stationCodes.json"),pt(dt,"./json/stationCodesSearchable.json"),pt($t,"./json/stationLocations.json"),pt(ft,"./json/stationsFullDetails.json")])}().then(()=>n(0,r=!1)),[r]}return new class extends nt{constructor(t){super(),et(this,t,bs,xs,o,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
