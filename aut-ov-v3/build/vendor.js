/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var le=function(e,t){return le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},le(e,t)};function W(e,t){le(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var d=function(){return d=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},d.apply(this,arguments)};function Xe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function at(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ot(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ot(arguments[t]));return e}var B;(function(e){e.Ok="ok",e.Exited="exited",e.Crashed="crashed",e.Abnormal="abnormal"})(B||(B={}));var Je;(function(e){e.Ok="ok",e.Errored="errored",e.Crashed="crashed"})(Je||(Je={}));var U;(function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"})(U||(U={}));(function(e){function t(r){switch(r){case"debug":return e.Debug;case"info":return e.Info;case"warn":case"warning":return e.Warning;case"error":return e.Error;case"fatal":return e.Fatal;case"critical":return e.Critical;case"log":default:return e.Log}}e.fromString=t})(U||(U={}));var Q;(function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.Invalid="invalid",e.Failed="failed"})(Q||(Q={}));(function(e){function t(r){return r>=200&&r<300?e.Success:r===429?e.RateLimit:r>=400&&r<500?e.Invalid:r>=500?e.Failed:e.Unknown}e.fromHttpCode=t})(Q||(Q={}));var st;(function(e){e.Explicit="explicitly_set",e.Sampler="client_sampler",e.Rate="client_rate",e.Inheritance="inheritance"})(st||(st={}));var P;(function(e){e.BeforeSend="before_send",e.EventProcessor="event_processor",e.NetworkError="network_error",e.QueueOverflow="queue_overflow",e.RateLimitBackoff="ratelimit_backoff",e.SampleRate="sample_rate"})(P||(P={}));function sn(e){e.then(null,function(t){console.error(t)})}function bt(){return Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}function Y(e,t){return e.require(t)}function Mt(e){var t;try{t=Y(module,e)}catch{}try{var r=Y(module,"process").cwd;t=Y(module,r()+"/node_modules/"+e)}catch{}return t}var un={};function b(){return bt()?global:typeof window!="undefined"?window:typeof self!="undefined"?self:un}function Ve(e){switch(Object.prototype.toString.call(e)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return q(e,Error)}}function Ke(e){return Object.prototype.toString.call(e)==="[object ErrorEvent]"}function Qe(e){return Object.prototype.toString.call(e)==="[object DOMError]"}function cn(e){return Object.prototype.toString.call(e)==="[object DOMException]"}function ut(e){return Object.prototype.toString.call(e)==="[object String]"}function Ft(e){return e===null||typeof e!="object"&&typeof e!="function"}function ct(e){return Object.prototype.toString.call(e)==="[object Object]"}function de(e){return typeof Event!="undefined"&&q(e,Event)}function Ze(e){return typeof Element!="undefined"&&q(e,Element)}function fn(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Et(e){return Boolean(e&&e.then&&typeof e.then=="function")}function ln(e){return ct(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function q(e,t){try{return e instanceof t}catch{return!1}}function ft(e,t){try{for(var r=e,n=5,i=80,o=[],a=0,s=0,u=" > ",c=u.length,f=void 0;r&&a++<n&&(f=dn(r,t),!(f==="html"||a>1&&s+o.length*c+f.length>=i));)o.push(f),s+=f.length,r=r.parentNode;return o.reverse().join(u)}catch{return"<unknown>"}}function dn(e,t){var r,n,i=e,o=[],a,s,u,c,f;if(!i||!i.tagName)return"";o.push(i.tagName.toLowerCase());var l=((r=t)===null||r===void 0?void 0:r.length)?t.filter(function(h){return i.getAttribute(h)}).map(function(h){return[h,i.getAttribute(h)]}):null;if((n=l)===null||n===void 0?void 0:n.length)l.forEach(function(h){o.push("["+h[0]+'="'+h[1]+'"]')});else if(i.id&&o.push("#"+i.id),a=i.className,a&&ut(a))for(s=a.split(/\s+/),f=0;f<s.length;f++)o.push("."+s[f]);var p=["type","name","title","alt"];for(f=0;f<p.length;f++)u=p[f],c=i.getAttribute(u),c&&o.push("["+u+'="'+c+'"]');return o.join("")}function pn(){var e=b();try{return e.document.location.href}catch{return""}}var hn=Object.setPrototypeOf||({__proto__:[]}instanceof Array?vn:_n);function vn(e,t){return e.__proto__=t,e}function _n(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=t[r]);return e}var w=function(e){W(t,e);function t(r){var n=this.constructor,i=e.call(this,r)||this;return i.message=r,i.name=n.prototype.constructor.name,hn(i,n.prototype),i}return t}(Error),mn=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,St="Invalid Dsn",tr=function(){function e(t){typeof t=="string"?this._fromString(t):this._fromComponents(t),this._validate()}return e.prototype.toString=function(t){t===void 0&&(t=!1);var r=this,n=r.host,i=r.path,o=r.pass,a=r.port,s=r.projectId,u=r.protocol,c=r.publicKey;return u+"://"+c+(t&&o?":"+o:"")+("@"+n+(a?":"+a:"")+"/"+(i&&i+"/")+s)},e.prototype._fromString=function(t){var r=mn.exec(t);if(!r)throw new w(St);var n=ot(r.slice(1),6),i=n[0],o=n[1],a=n[2],s=a===void 0?"":a,u=n[3],c=n[4],f=c===void 0?"":c,l=n[5],p="",h=l,v=h.split("/");if(v.length>1&&(p=v.slice(0,-1).join("/"),h=v.pop()),h){var m=h.match(/^\d+/);m&&(h=m[0])}this._fromComponents({host:u,pass:s,path:p,projectId:h,port:f,protocol:i,publicKey:o})},e.prototype._fromComponents=function(t){"user"in t&&!("publicKey"in t)&&(t.publicKey=t.user),this.user=t.publicKey||"",this.protocol=t.protocol,this.publicKey=t.publicKey||"",this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},e.prototype._validate=function(){var t=this;if(["protocol","publicKey","host","projectId"].forEach(function(r){if(!t[r])throw new w(St+": "+r+" missing")}),!this.projectId.match(/^\d+$/))throw new w(St+": Invalid projectId "+this.projectId);if(this.protocol!=="http"&&this.protocol!=="https")throw new w(St+": Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new w(St+": Invalid port "+this.port)},e}(),Z=b(),pe="Sentry Logger ";function Dt(e){var t=b(),r=["debug","info","warn","error","log","assert"];if(!("console"in t))return e();var n=t.console,i={};r.forEach(function(a){a in t.console&&n[a].__sentry_original__&&(i[a]=n[a],n[a]=n[a].__sentry_original__)});var o=e();return Object.keys(i).forEach(function(a){n[a]=i[a]}),o}var gn=function(){function e(){this._enabled=!1}return e.prototype.disable=function(){this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},e.prototype.log=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];!this._enabled||Dt(function(){Z.console.log(pe+"[Log]: "+t.join(" "))})},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];!this._enabled||Dt(function(){Z.console.warn(pe+"[Warn]: "+t.join(" "))})},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];!this._enabled||Dt(function(){Z.console.error(pe+"[Error]: "+t.join(" "))})},e}();Z.__SENTRY__=Z.__SENTRY__||{};var _=Z.__SENTRY__.logger||(Z.__SENTRY__.logger=new gn),yn=function(){function e(){this._hasWeakSet=typeof WeakSet=="function",this._inner=this._hasWeakSet?new WeakSet:[]}return e.prototype.memoize=function(t){if(this._hasWeakSet)return this._inner.has(t)?!0:(this._inner.add(t),!1);for(var r=0;r<this._inner.length;r++){var n=this._inner[r];if(n===t)return!0}return this._inner.push(t),!1},e.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var r=0;r<this._inner.length;r++)if(this._inner[r]===t){this._inner.splice(r,1);break}},e}(),he="<anonymous>";function z(e){try{return!e||typeof e!="function"?he:e.name||he}catch{return he}}function Tt(e,t){return t===void 0&&(t=0),typeof e!="string"||t===0||e.length<=t?e:e.substr(0,t)+"..."}function er(e,t){if(!Array.isArray(e))return"";for(var r=[],n=0;n<e.length;n++){var i=e[n];try{r.push(String(i))}catch{r.push("[value cannot be serialized]")}}return r.join(t)}function wt(e,t){return ut(e)?fn(t)?t.test(e):typeof t=="string"?e.indexOf(t)!==-1:!1:!1}function O(e,t,r){if(t in e){var n=e[t],i=r(n);if(typeof i=="function")try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:n}})}catch{}e[t]=i}}function bn(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}function rr(e){if(Ve(e)){var t=e,r={message:t.message,name:t.name,stack:t.stack};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}if(de(e)){var i=e,o={};o.type=i.type;try{o.target=Ze(i.target)?ft(i.target):Object.prototype.toString.call(i.target)}catch{o.target="<unknown>"}try{o.currentTarget=Ze(i.currentTarget)?ft(i.currentTarget):Object.prototype.toString.call(i.currentTarget)}catch{o.currentTarget="<unknown>"}typeof CustomEvent!="undefined"&&q(e,CustomEvent)&&(o.detail=i.detail);for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=i[a]);return o}return e}function En(e){return~-encodeURI(e).split(/%..|./).length}function Sn(e){return En(JSON.stringify(e))}function nr(e,t,r){t===void 0&&(t=3),r===void 0&&(r=100*1024);var n=lt(e,t);return Sn(n)>r?nr(e,t-1,r):n}function Tn(e){var t=Object.prototype.toString.call(e);if(typeof e=="string")return e;if(t==="[object Object]")return"[Object]";if(t==="[object Array]")return"[Array]";var r=ir(e);return Ft(r)?r:t}function ir(e,t){return t==="domain"&&e&&typeof e=="object"&&e._events?"[Domain]":t==="domainEmitter"?"[DomainEmitter]":typeof global!="undefined"&&e===global?"[Global]":typeof window!="undefined"&&e===window?"[Window]":typeof document!="undefined"&&e===document?"[Document]":ln(e)?"[SyntheticEvent]":typeof e=="number"&&e!==e?"[NaN]":e===void 0?"[undefined]":typeof e=="function"?"[Function: "+z(e)+"]":typeof e=="symbol"?"["+String(e)+"]":typeof e=="bigint"?"[BigInt: "+String(e)+"]":e}function ar(e,t,r,n){if(r===void 0&&(r=1/0),n===void 0&&(n=new yn),r===0)return Tn(t);if(t!=null&&typeof t.toJSON=="function")return t.toJSON();var i=ir(t,e);if(Ft(i))return i;var o=rr(t),a=Array.isArray(t)?[]:{};if(n.memoize(t))return"[Circular ~]";for(var s in o)!Object.prototype.hasOwnProperty.call(o,s)||(a[s]=ar(s,o[s],r-1,n));return n.unmemoize(t),a}function lt(e,t){try{return JSON.parse(JSON.stringify(e,function(r,n){return ar(r,n,t)}))}catch{return"**non-serializable**"}}function wn(e,t){t===void 0&&(t=40);var r=Object.keys(rr(e));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=t)return Tt(r[0],t);for(var n=r.length;n>0;n--){var i=r.slice(0,n).join(", ");if(!(i.length>t))return n===r.length?i:Tt(i,t)}return""}function G(e){var t,r;if(ct(e)){var n=e,i={};try{for(var o=at(Object.keys(n)),a=o.next();!a.done;a=o.next()){var s=a.value;typeof n[s]!="undefined"&&(i[s]=G(n[s]))}}catch(u){t={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i}return Array.isArray(e)?e.map(G):e}function Lt(){if(!("fetch"in b()))return!1;try{return new Headers,new Request(""),new Response,!0}catch{return!1}}function ve(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function kn(){if(!Lt())return!1;var e=b();if(ve(e.fetch))return!0;var t=!1,r=e.document;if(r&&typeof r.createElement=="function")try{var n=r.createElement("iframe");n.hidden=!0,r.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=ve(n.contentWindow.fetch)),r.head.removeChild(n)}catch(i){_.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return t}function On(){if(!Lt())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch{return!1}}function xn(){var e=b(),t=e.chrome,r=t&&t.app&&t.app.runtime,n="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!r&&n}var T=b(),kt={},or={};function Rn(e){if(!or[e])switch(or[e]=!0,e){case"console":In();break;case"dom":Ln();break;case"xhr":Cn();break;case"fetch":Nn();break;case"history":Pn();break;case"error":Hn();break;case"unhandledrejection":Un();break;default:_.warn("unknown instrumentation type:",e)}}function C(e){!e||typeof e.type!="string"||typeof e.callback!="function"||(kt[e.type]=kt[e.type]||[],kt[e.type].push(e.callback),Rn(e.type))}function F(e,t){var r,n;if(!(!e||!kt[e]))try{for(var i=at(kt[e]||[]),o=i.next();!o.done;o=i.next()){var a=o.value;try{a(t)}catch(s){_.error(`Error while triggering instrumentation handler.
Type: `+e+`
Name: `+z(a)+`
Error: `+s)}}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}function In(){"console"in T&&["debug","info","warn","error","log","assert"].forEach(function(e){e in T.console&&O(T.console,e,function(t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];F("console",{args:r,level:e}),t&&Function.prototype.apply.call(t,T.console,r)}})})}function Nn(){!kn()||O(T,"fetch",function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n={args:t,fetchData:{method:An(t),url:jn(t)},startTimestamp:Date.now()};return F("fetch",d({},n)),e.apply(T,t).then(function(i){return F("fetch",d(d({},n),{endTimestamp:Date.now(),response:i})),i},function(i){throw F("fetch",d(d({},n),{endTimestamp:Date.now(),error:i})),i})}})}function An(e){return e===void 0&&(e=[]),"Request"in T&&q(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function jn(e){return e===void 0&&(e=[]),typeof e[0]=="string"?e[0]:"Request"in T&&q(e[0],Request)?e[0].url:String(e[0])}function Cn(){if("XMLHttpRequest"in T){var e=[],t=[],r=XMLHttpRequest.prototype;O(r,"open",function(n){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=this,s=i[1];a.__sentry_xhr__={method:ut(i[0])?i[0].toUpperCase():i[0],url:i[1]},ut(s)&&a.__sentry_xhr__.method==="POST"&&s.match(/sentry_key/)&&(a.__sentry_own_request__=!0);var u=function(){if(a.readyState===4){try{a.__sentry_xhr__&&(a.__sentry_xhr__.status_code=a.status)}catch{}try{var c=e.indexOf(a);if(c!==-1){e.splice(c);var f=t.splice(c)[0];a.__sentry_xhr__&&f[0]!==void 0&&(a.__sentry_xhr__.body=f[0])}}catch{}F("xhr",{args:i,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:a})}};return"onreadystatechange"in a&&typeof a.onreadystatechange=="function"?O(a,"onreadystatechange",function(c){return function(){for(var f=[],l=0;l<arguments.length;l++)f[l]=arguments[l];return u(),c.apply(a,f)}}):a.addEventListener("readystatechange",u),n.apply(a,i)}}),O(r,"send",function(n){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return e.push(this),t.push(i),F("xhr",{args:i,startTimestamp:Date.now(),xhr:this}),n.apply(this,i)}})}}var Ht;function Pn(){if(!xn())return;var e=T.onpopstate;T.onpopstate=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=T.location.href,o=Ht;if(Ht=i,F("history",{from:o,to:i}),e)try{return e.apply(this,r)}catch{}};function t(r){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=n.length>2?n[2]:void 0;if(o){var a=Ht,s=String(o);Ht=s,F("history",{from:a,to:s})}return r.apply(this,n)}}O(T.history,"pushState",t),O(T.history,"replaceState",t)}var Mn=1e3,Ut,qt;function Fn(e,t){if(!e||e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch{}return!1}function Dn(e){if(e.type!=="keypress")return!1;try{var t=e.target;if(!t||!t.tagName)return!0;if(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)return!1}catch{}return!0}function sr(e,t){return t===void 0&&(t=!1),function(r){if(!(!r||qt===r)&&!Dn(r)){var n=r.type==="keypress"?"input":r.type;Ut===void 0?(e({event:r,name:n,global:t}),qt=r):Fn(qt,r)&&(e({event:r,name:n,global:t}),qt=r),clearTimeout(Ut),Ut=T.setTimeout(function(){Ut=void 0},Mn)}}}function Ln(){if("document"in T){var e=F.bind(null,"dom"),t=sr(e,!0);T.document.addEventListener("click",t,!1),T.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(function(r){var n=T[r]&&T[r].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(O(n,"addEventListener",function(i){return function(o,a,s){if(o==="click"||o=="keypress")try{var u=this,c=u.__sentry_instrumentation_handlers__=u.__sentry_instrumentation_handlers__||{},f=c[o]=c[o]||{refCount:0};if(!f.handler){var l=sr(e);f.handler=l,i.call(this,o,l,s)}f.refCount+=1}catch{}return i.call(this,o,a,s)}}),O(n,"removeEventListener",function(i){return function(o,a,s){if(o==="click"||o=="keypress")try{var u=this,c=u.__sentry_instrumentation_handlers__||{},f=c[o];f&&(f.refCount-=1,f.refCount<=0&&(i.call(this,o,f.handler,s),f.handler=void 0,delete c[o]),Object.keys(c).length===0&&delete u.__sentry_instrumentation_handlers__)}catch{}return i.call(this,o,a,s)}}))})}}var _e=null;function Hn(){_e=T.onerror,T.onerror=function(e,t,r,n,i){return F("error",{column:n,error:i,line:r,msg:e,url:t}),_e?_e.apply(this,arguments):!1}}var me=null;function Un(){me=T.onunhandledrejection,T.onunhandledrejection=function(e){return F("unhandledrejection",e),me?me.apply(this,arguments):!0}}function X(){var e=b(),t=e.crypto||e.msCrypto;if(t!==void 0&&t.getRandomValues){var r=new Uint16Array(8);t.getRandomValues(r),r[3]=r[3]&4095|16384,r[4]=r[4]&16383|32768;var n=function(i){for(var o=i.toString(16);o.length<4;)o="0"+o;return o};return n(r[0])+n(r[1])+n(r[2])+n(r[3])+n(r[4])+n(r[5])+n(r[6])+n(r[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(i){var o=Math.random()*16|0,a=i==="x"?o:o&3|8;return a.toString(16)})}function ge(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+r+n}}function tt(e){if(e.message)return e.message;if(e.exception&&e.exception.values&&e.exception.values[0]){var t=e.exception.values[0];return t.type&&t.value?t.type+": "+t.value:t.type||t.value||e.event_id||"<unknown>"}return e.event_id||"<unknown>"}function ye(e,t,r){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].value=e.exception.values[0].value||t||"",e.exception.values[0].type=e.exception.values[0].type||r||"Error"}function dt(e,t){var r;if(!(!e.exception||!e.exception.values)){var n=e.exception.values[0],i={type:"generic",handled:!0},o=n.mechanism;if(n.mechanism=d(d(d({},i),o),t),t&&"data"in t){var a=d(d({},(r=o)===null||r===void 0?void 0:r.data),t.data);n.mechanism.data=a}}}var ur=60*1e3;function qn(e,t){if(!t)return ur;var r=parseInt(""+t,10);if(!isNaN(r))return r*1e3;var n=Date.parse(""+t);return isNaN(n)?ur:n-e}function cr(e){var t;if((t=e)===null||t===void 0?void 0:t.__sentry_captured__)return!0;try{Object.defineProperty(e,"__sentry_captured__",{value:!0})}catch{}return!1}var $;(function(e){e.PENDING="PENDING",e.RESOLVED="RESOLVED",e.REJECTED="REJECTED"})($||($={}));var j=function(){function e(t){var r=this;this._state=$.PENDING,this._handlers=[],this._resolve=function(n){r._setResult($.RESOLVED,n)},this._reject=function(n){r._setResult($.REJECTED,n)},this._setResult=function(n,i){if(r._state===$.PENDING){if(Et(i)){i.then(r._resolve,r._reject);return}r._state=n,r._value=i,r._executeHandlers()}},this._attachHandler=function(n){r._handlers=r._handlers.concat(n),r._executeHandlers()},this._executeHandlers=function(){if(r._state!==$.PENDING){var n=r._handlers.slice();r._handlers=[],n.forEach(function(i){i.done||(r._state===$.RESOLVED&&i.onfulfilled&&i.onfulfilled(r._value),r._state===$.REJECTED&&i.onrejected&&i.onrejected(r._value),i.done=!0)})}};try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}return e.resolve=function(t){return new e(function(r){r(t)})},e.reject=function(t){return new e(function(r,n){n(t)})},e.all=function(t){return new e(function(r,n){if(!Array.isArray(t)){n(new TypeError("Promise.all requires an array as input."));return}if(t.length===0){r([]);return}var i=t.length,o=[];t.forEach(function(a,s){e.resolve(a).then(function(u){o[s]=u,i-=1,i===0&&r(o)}).then(null,n)})})},e.prototype.then=function(t,r){var n=this;return new e(function(i,o){n._attachHandler({done:!1,onfulfilled:function(a){if(!t){i(a);return}try{i(t(a));return}catch(s){o(s);return}},onrejected:function(a){if(!r){o(a);return}try{i(r(a));return}catch(s){o(s);return}}})})},e.prototype.catch=function(t){return this.then(function(r){return r},t)},e.prototype.finally=function(t){var r=this;return new e(function(n,i){var o,a;return r.then(function(s){a=!1,o=s,t&&t()},function(s){a=!0,o=s,t&&t()}).then(function(){if(a){i(o);return}n(o)})})},e.prototype.toString=function(){return"[object SyncPromise]"},e}(),Bn=function(){function e(t){this._limit=t,this._buffer=[]}return e.prototype.isReady=function(){return this._limit===void 0||this.length()<this._limit},e.prototype.add=function(t){var r=this;if(!this.isReady())return j.reject(new w("Not adding Promise due to buffer limit reached."));var n=t();return this._buffer.indexOf(n)===-1&&this._buffer.push(n),n.then(function(){return r.remove(n)}).then(null,function(){return r.remove(n).then(null,function(){})}),n},e.prototype.remove=function(t){var r=this._buffer.splice(this._buffer.indexOf(t),1)[0];return r},e.prototype.length=function(){return this._buffer.length},e.prototype.drain=function(t){var r=this;return new j(function(n){var i=setTimeout(function(){t&&t>0&&n(!1)},t);j.all(r._buffer).then(function(){clearTimeout(i),n(!0)}).then(null,function(){n(!0)})})},e}(),be={nowSeconds:function(){return Date.now()/1e3}};function $n(){var e=b().performance;if(!(!e||!e.now)){var t=Date.now()-e.now();return{now:function(){return e.now()},timeOrigin:t}}}function Wn(){try{var e=Y(module,"perf_hooks");return e.performance}catch{return}}var Ee=bt()?Wn():$n(),fr=Ee===void 0?be:{nowSeconds:function(){return(Ee.timeOrigin+Ee.now())/1e3}},Bt=be.nowSeconds.bind(be),Se=fr.nowSeconds.bind(fr),Ot=Se,xt=function(){var e=b().performance;if(!(!e||!e.now)){var t=3600*1e3,r=e.now(),n=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+r-n):t,o=i<t,a=e.timing&&e.timing.navigationStart,s=typeof a=="number",u=s?Math.abs(a+r-n):t,c=u<t;return o||c?i<=u?e.timeOrigin:a:n}}(),lr=100,$t=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return e.clone=function(t){var r=new e;return t&&(r._breadcrumbs=y(t._breadcrumbs),r._tags=d({},t._tags),r._extra=d({},t._extra),r._contexts=d({},t._contexts),r._user=t._user,r._level=t._level,r._span=t._span,r._session=t._session,r._transactionName=t._transactionName,r._fingerprint=t._fingerprint,r._eventProcessors=y(t._eventProcessors),r._requestSession=t._requestSession),r},e.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},e.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},e.prototype.setUser=function(t){return this._user=t||{},this._session&&this._session.update({user:t}),this._notifyScopeListeners(),this},e.prototype.getUser=function(){return this._user},e.prototype.getRequestSession=function(){return this._requestSession},e.prototype.setRequestSession=function(t){return this._requestSession=t,this},e.prototype.setTags=function(t){return this._tags=d(d({},this._tags),t),this._notifyScopeListeners(),this},e.prototype.setTag=function(t,r){var n;return this._tags=d(d({},this._tags),(n={},n[t]=r,n)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(t){return this._extra=d(d({},this._extra),t),this._notifyScopeListeners(),this},e.prototype.setExtra=function(t,r){var n;return this._extra=d(d({},this._extra),(n={},n[t]=r,n)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},e.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},e.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},e.prototype.setTransaction=function(t){return this.setTransactionName(t)},e.prototype.setContext=function(t,r){var n;return r===null?delete this._contexts[t]:this._contexts=d(d({},this._contexts),(n={},n[t]=r,n)),this._notifyScopeListeners(),this},e.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.prototype.getTransaction=function(){var t,r,n,i,o=this.getSpan();if((t=o)===null||t===void 0?void 0:t.transaction)return(r=o)===null||r===void 0?void 0:r.transaction;if((i=(n=o)===null||n===void 0?void 0:n.spanRecorder)===null||i===void 0?void 0:i.spans[0])return o.spanRecorder.spans[0]},e.prototype.setSession=function(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this},e.prototype.getSession=function(){return this._session},e.prototype.update=function(t){if(!t)return this;if(typeof t=="function"){var r=t(this);return r instanceof e?r:this}return t instanceof e?(this._tags=d(d({},this._tags),t._tags),this._extra=d(d({},this._extra),t._extra),this._contexts=d(d({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):ct(t)&&(t=t,this._tags=d(d({},this._tags),t.tags),this._extra=d(d({},this._extra),t.extra),this._contexts=d(d({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(t,r){var n=typeof r=="number"?Math.min(r,lr):lr;if(n<=0)return this;var i=d({timestamp:Bt()},t);return this._breadcrumbs=y(this._breadcrumbs,[i]).slice(-n),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype.applyToEvent=function(t,r){var n;if(this._extra&&Object.keys(this._extra).length&&(t.extra=d(d({},this._extra),t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=d(d({},this._tags),t.tags)),this._user&&Object.keys(this._user).length&&(t.user=d(d({},this._user),t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=d(d({},this._contexts),t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts=d({trace:this._span.getTraceContext()},t.contexts);var i=(n=this._span.transaction)===null||n===void 0?void 0:n.name;i&&(t.tags=d({transaction:i},t.tags))}return this._applyFingerprint(t),t.breadcrumbs=y(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this._notifyEventProcessors(y(dr(),this._eventProcessors),t,r)},e.prototype._notifyEventProcessors=function(t,r,n,i){var o=this;return i===void 0&&(i=0),new j(function(a,s){var u=t[i];if(r===null||typeof u!="function")a(r);else{var c=u(d({},r),n);Et(c)?c.then(function(f){return o._notifyEventProcessors(t,f,n,i+1).then(a)}).then(null,s):o._notifyEventProcessors(t,c,n,i+1).then(a).then(null,s)}})},e.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(r){r(t)}),this._notifyingListeners=!1)},e.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},e}();function dr(){var e=b();return e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.globalEventProcessors=e.__SENTRY__.globalEventProcessors||[],e.__SENTRY__.globalEventProcessors}function Wt(e){dr().push(e)}var Yn=function(){function e(t){this.errors=0,this.sid=X(),this.duration=0,this.status=B.Ok,this.init=!0,this.ignoreDuration=!1;var r=Se();this.timestamp=r,this.started=r,t&&this.update(t)}return e.prototype.update=function(t){if(t===void 0&&(t={}),t.user&&(!this.ipAddress&&t.user.ip_address&&(this.ipAddress=t.user.ip_address),!this.did&&!t.did&&(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||Se(),t.ignoreDuration&&(this.ignoreDuration=t.ignoreDuration),t.sid&&(this.sid=t.sid.length===32?t.sid:X()),t.init!==void 0&&(this.init=t.init),!this.did&&t.did&&(this.did=""+t.did),typeof t.started=="number"&&(this.started=t.started),this.ignoreDuration)this.duration=void 0;else if(typeof t.duration=="number")this.duration=t.duration;else{var r=this.timestamp-this.started;this.duration=r>=0?r:0}t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),!this.ipAddress&&t.ipAddress&&(this.ipAddress=t.ipAddress),!this.userAgent&&t.userAgent&&(this.userAgent=t.userAgent),typeof t.errors=="number"&&(this.errors=t.errors),t.status&&(this.status=t.status)},e.prototype.close=function(t){t?this.update({status:t}):this.status===B.Ok?this.update({status:B.Exited}):this.update()},e.prototype.toJSON=function(){return G({sid:""+this.sid,init:this.init,started:new Date(this.started*1e3).toISOString(),timestamp:new Date(this.timestamp*1e3).toISOString(),status:this.status,errors:this.errors,did:typeof this.did=="number"||typeof this.did=="string"?""+this.did:void 0,duration:this.duration,attrs:G({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},e}(),Te=4,zn=100,Yt=function(){function e(t,r,n){r===void 0&&(r=new $t),n===void 0&&(n=Te),this._version=n,this._stack=[{}],this.getStackTop().scope=r,t&&this.bindClient(t)}return e.prototype.isOlderThan=function(t){return this._version<t},e.prototype.bindClient=function(t){var r=this.getStackTop();r.client=t,t&&t.setupIntegrations&&t.setupIntegrations()},e.prototype.pushScope=function(){var t=$t.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},e.prototype.popScope=function(){return this.getStack().length<=1?!1:!!this.getStack().pop()},e.prototype.withScope=function(t){var r=this.pushScope();try{t(r)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(t,r){var n=this._lastEventId=X(),i=r;if(!r){var o=void 0;try{throw new Error("Sentry syntheticException")}catch(a){o=a}i={originalException:t,syntheticException:o}}return this._invokeClient("captureException",t,d(d({},i),{event_id:n})),n},e.prototype.captureMessage=function(t,r,n){var i=this._lastEventId=X(),o=n;if(!n){var a=void 0;try{throw new Error(t)}catch(s){a=s}o={originalException:t,syntheticException:a}}return this._invokeClient("captureMessage",t,r,d(d({},o),{event_id:i})),i},e.prototype.captureEvent=function(t,r){var n=X();return t.type!=="transaction"&&(this._lastEventId=n),this._invokeClient("captureEvent",t,d(d({},r),{event_id:n})),n},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(t,r){var n=this.getStackTop(),i=n.scope,o=n.client;if(!(!i||!o)){var a=o.getOptions&&o.getOptions()||{},s=a.beforeBreadcrumb,u=s===void 0?null:s,c=a.maxBreadcrumbs,f=c===void 0?zn:c;if(!(f<=0)){var l=Bt(),p=d({timestamp:l},t),h=u?Dt(function(){return u(p,r)}):p;h!==null&&i.addBreadcrumb(h,f)}}},e.prototype.setUser=function(t){var r=this.getScope();r&&r.setUser(t)},e.prototype.setTags=function(t){var r=this.getScope();r&&r.setTags(t)},e.prototype.setExtras=function(t){var r=this.getScope();r&&r.setExtras(t)},e.prototype.setTag=function(t,r){var n=this.getScope();n&&n.setTag(t,r)},e.prototype.setExtra=function(t,r){var n=this.getScope();n&&n.setExtra(t,r)},e.prototype.setContext=function(t,r){var n=this.getScope();n&&n.setContext(t,r)},e.prototype.configureScope=function(t){var r=this.getStackTop(),n=r.scope,i=r.client;n&&i&&t(n)},e.prototype.run=function(t){var r=pr(this);try{t(this)}finally{pr(r)}},e.prototype.getIntegration=function(t){var r=this.getClient();if(!r)return null;try{return r.getIntegration(t)}catch{return _.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},e.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},e.prototype.startTransaction=function(t,r){return this._callExtensionMethod("startTransaction",t,r)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype.captureSession=function(t){if(t===void 0&&(t=!1),t)return this.endSession();this._sendSessionUpdate()},e.prototype.endSession=function(){var t,r,n,i,o;(n=(r=(t=this.getStackTop())===null||t===void 0?void 0:t.scope)===null||r===void 0?void 0:r.getSession())===null||n===void 0||n.close(),this._sendSessionUpdate(),(o=(i=this.getStackTop())===null||i===void 0?void 0:i.scope)===null||o===void 0||o.setSession()},e.prototype.startSession=function(t){var r=this.getStackTop(),n=r.scope,i=r.client,o=i&&i.getOptions()||{},a=o.release,s=o.environment,u=b(),c=(u.navigator||{}).userAgent,f=new Yn(d(d(d({release:a,environment:s},n&&{user:n.getUser()}),c&&{userAgent:c}),t));if(n){var l=n.getSession&&n.getSession();l&&l.status===B.Ok&&l.update({status:B.Exited}),this.endSession(),n.setSession(f)}return f},e.prototype._sendSessionUpdate=function(){var t=this.getStackTop(),r=t.scope,n=t.client;if(!!r){var i=r.getSession&&r.getSession();i&&n&&n.captureSession&&n.captureSession(i)}},e.prototype._invokeClient=function(t){for(var r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=this.getStackTop(),a=o.scope,s=o.client;s&&s[t]&&(r=s)[t].apply(r,y(n,[a]))},e.prototype._callExtensionMethod=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=pt(),o=i.__SENTRY__;if(o&&o.extensions&&typeof o.extensions[t]=="function")return o.extensions[t].apply(this,r);_.warn("Extension method "+t+" couldn't be found, doing nothing.")},e}();function pt(){var e=b();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function pr(e){var t=pt(),r=J(t);return we(t,e),r}function x(){var e=pt();return(!hr(e)||J(e).isOlderThan(Te))&&we(e,new Yt),bt()?Gn(e):J(e)}function Gn(e){var t,r,n;try{var i=(n=(r=(t=pt().__SENTRY__)===null||t===void 0?void 0:t.extensions)===null||r===void 0?void 0:r.domain)===null||n===void 0?void 0:n.active;if(!i)return J(e);if(!hr(i)||J(i).isOlderThan(Te)){var o=J(e).getStackTop();we(i,new Yt(o.client,$t.clone(o.scope)))}return J(i)}catch{return J(e)}}function hr(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function J(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub||(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=new Yt),e.__SENTRY__.hub}function we(e,t){return e?(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=t,!0):!1}function vr(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=x();if(n&&n[e])return n[e].apply(n,y(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function Xn(e,t){var r;try{throw new Error("Sentry syntheticException")}catch(n){r=n}return vr("captureException",e,{captureContext:t,originalException:e,syntheticException:r})}function Jn(e){vr("withScope",e)}var _r="7",mr=function(){function e(t,r,n){r===void 0&&(r={}),this.dsn=t,this._dsnObject=new tr(t),this.metadata=r,this._tunnel=n}return e.prototype.getDsn=function(){return this._dsnObject},e.prototype.forceEnvelope=function(){return!!this._tunnel},e.prototype.getBaseApiEndpoint=function(){var t=this.getDsn(),r=t.protocol?t.protocol+":":"",n=t.port?":"+t.port:"";return r+"//"+t.host+n+(t.path?"/"+t.path:"")+"/api/"},e.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},e.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},e.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this.forceEnvelope()?this._tunnel:this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},e.prototype.getStoreEndpointPath=function(){var t=this.getDsn();return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},e.prototype.getRequestHeaders=function(t,r){var n=this.getDsn(),i=["Sentry sentry_version="+_r];return i.push("sentry_client="+t+"/"+r),i.push("sentry_key="+n.publicKey),n.pass&&i.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":i.join(", ")}},e.prototype.getReportDialogEndpoint=function(t){t===void 0&&(t={});var r=this.getDsn(),n=this.getBaseApiEndpoint()+"embed/error-page/",i=[];i.push("dsn="+r.toString());for(var o in t)if(o!=="dsn")if(o==="user"){if(!t.user)continue;t.user.name&&i.push("name="+encodeURIComponent(t.user.name)),t.user.email&&i.push("email="+encodeURIComponent(t.user.email))}else i.push(encodeURIComponent(o)+"="+encodeURIComponent(t[o]));return i.length?n+"?"+i.join("&"):n},e.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},e.prototype._getIngestEndpoint=function(t){if(this._tunnel)return this._tunnel;var r=this.getBaseApiEndpoint(),n=this.getDsn();return""+r+n.projectId+"/"+t+"/"},e.prototype._encodedAuth=function(){var t=this.getDsn(),r={sentry_key:t.publicKey,sentry_version:_r};return bn(r)},e}(),gr=[];function yr(e){return e.reduce(function(t,r){return t.every(function(n){return r.name!==n.name})&&t.push(r),t},[])}function Vn(e){var t=e.defaultIntegrations&&y(e.defaultIntegrations)||[],r=e.integrations,n=y(yr(t));Array.isArray(r)?n=y(n.filter(function(a){return r.every(function(s){return s.name!==a.name})}),yr(r)):typeof r=="function"&&(n=r(n),n=Array.isArray(n)?n:[n]);var i=n.map(function(a){return a.name}),o="Debug";return i.indexOf(o)!==-1&&n.push.apply(n,y(n.splice(i.indexOf(o),1))),n}function Kn(e){gr.indexOf(e.name)===-1&&(e.setupOnce(Wt,x),gr.push(e.name),_.log("Integration installed: "+e.name))}function Qn(e){var t={};return Vn(e).forEach(function(r){t[r.name]=r,Kn(r)}),Object.defineProperty(t,"initialized",{value:!0}),t}var br="Not capturing exception because it's already been captured.",Zn=function(){function e(t,r){this._integrations={},this._numProcessing=0,this._backend=new t(r),this._options=r,r.dsn&&(this._dsn=new tr(r.dsn))}return e.prototype.captureException=function(t,r,n){var i=this;if(cr(t)){_.log(br);return}var o=r&&r.event_id;return this._process(this._getBackend().eventFromException(t,r).then(function(a){return i._captureEvent(a,r,n)}).then(function(a){o=a})),o},e.prototype.captureMessage=function(t,r,n,i){var o=this,a=n&&n.event_id,s=Ft(t)?this._getBackend().eventFromMessage(String(t),r,n):this._getBackend().eventFromException(t,n);return this._process(s.then(function(u){return o._captureEvent(u,n,i)}).then(function(u){a=u})),a},e.prototype.captureEvent=function(t,r,n){var i;if(((i=r)===null||i===void 0?void 0:i.originalException)&&cr(r.originalException)){_.log(br);return}var o=r&&r.event_id;return this._process(this._captureEvent(t,r,n).then(function(a){o=a})),o},e.prototype.captureSession=function(t){if(!this._isEnabled()){_.warn("SDK not enabled, will not capture session.");return}typeof t.release!="string"?_.warn("Discarded session because of missing or non-string release"):(this._sendSession(t),t.update({init:!1}))},e.prototype.getDsn=function(){return this._dsn},e.prototype.getOptions=function(){return this._options},e.prototype.getTransport=function(){return this._getBackend().getTransport()},e.prototype.flush=function(t){var r=this;return this._isClientDoneProcessing(t).then(function(n){return r.getTransport().close(t).then(function(i){return n&&i})})},e.prototype.close=function(t){var r=this;return this.flush(t).then(function(n){return r.getOptions().enabled=!1,n})},e.prototype.setupIntegrations=function(){this._isEnabled()&&!this._integrations.initialized&&(this._integrations=Qn(this._options))},e.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch{return _.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},e.prototype._updateSessionFromEvent=function(t,r){var n,i,o=!1,a=!1,s=r.exception&&r.exception.values;if(s){a=!0;try{for(var u=at(s),c=u.next();!c.done;c=u.next()){var f=c.value,l=f.mechanism;if(l&&l.handled===!1){o=!0;break}}}catch(v){n={error:v}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}}var p=t.status===B.Ok,h=p&&t.errors===0||p&&o;h&&(t.update(d(d({},o&&{status:B.Crashed}),{errors:t.errors||Number(a||o)})),this.captureSession(t))},e.prototype._sendSession=function(t){this._getBackend().sendSession(t)},e.prototype._isClientDoneProcessing=function(t){var r=this;return new j(function(n){var i=0,o=1,a=setInterval(function(){r._numProcessing==0?(clearInterval(a),n(!0)):(i+=o,t&&i>=t&&(clearInterval(a),n(!1)))},o)})},e.prototype._getBackend=function(){return this._backend},e.prototype._isEnabled=function(){return this.getOptions().enabled!==!1&&this._dsn!==void 0},e.prototype._prepareEvent=function(t,r,n){var i=this,o=this.getOptions().normalizeDepth,a=o===void 0?3:o,s=d(d({},t),{event_id:t.event_id||(n&&n.event_id?n.event_id:X()),timestamp:t.timestamp||Bt()});this._applyClientOptions(s),this._applyIntegrationsMetadata(s);var u=r;n&&n.captureContext&&(u=$t.clone(u).update(n.captureContext));var c=j.resolve(s);return u&&(c=u.applyToEvent(s,n)),c.then(function(f){return typeof a=="number"&&a>0?i._normalizeEvent(f,a):f})},e.prototype._normalizeEvent=function(t,r){if(!t)return null;var n=d(d(d(d(d({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(function(a){return d(d({},a),a.data&&{data:lt(a.data,r)})})}),t.user&&{user:lt(t.user,r)}),t.contexts&&{contexts:lt(t.contexts,r)}),t.extra&&{extra:lt(t.extra,r)});t.contexts&&t.contexts.trace&&(n.contexts.trace=t.contexts.trace);var i=this.getOptions()._experiments,o=i===void 0?{}:i;return o.ensureNoCircularStructures?lt(n):n},e.prototype._applyClientOptions=function(t){var r=this.getOptions(),n=r.environment,i=r.release,o=r.dist,a=r.maxValueLength,s=a===void 0?250:a;"environment"in t||(t.environment="environment"in r?n:"production"),t.release===void 0&&i!==void 0&&(t.release=i),t.dist===void 0&&o!==void 0&&(t.dist=o),t.message&&(t.message=Tt(t.message,s));var u=t.exception&&t.exception.values&&t.exception.values[0];u&&u.value&&(u.value=Tt(u.value,s));var c=t.request;c&&c.url&&(c.url=Tt(c.url,s))},e.prototype._applyIntegrationsMetadata=function(t){var r=Object.keys(this._integrations);r.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=y(t.sdk.integrations||[],r))},e.prototype._sendEvent=function(t){this._getBackend().sendEvent(t)},e.prototype._captureEvent=function(t,r,n){return this._processEvent(t,r,n).then(function(i){return i.event_id},function(i){_.error(i)})},e.prototype._processEvent=function(t,r,n){var i=this,o,a,s=this.getOptions(),u=s.beforeSend,c=s.sampleRate,f=this.getTransport();if(!this._isEnabled())return j.reject(new w("SDK not enabled, will not capture event."));var l=t.type==="transaction";return!l&&typeof c=="number"&&Math.random()>c?((a=(o=f).recordLostEvent)===null||a===void 0||a.call(o,P.SampleRate,"event"),j.reject(new w("Discarding event because it's not included in the random sample (sampling rate = "+c+")"))):this._prepareEvent(t,n,r).then(function(p){var h,v;if(p===null)throw(v=(h=f).recordLostEvent)===null||v===void 0||v.call(h,P.EventProcessor,t.type||"event"),new w("An event processor returned null, will not send event.");var m=r&&r.data&&r.data.__sentry__===!0;if(m||l||!u)return p;var g=u(p,r);return i._ensureBeforeSendRv(g)}).then(function(p){var h,v;if(p===null)throw(v=(h=f).recordLostEvent)===null||v===void 0||v.call(h,P.BeforeSend,t.type||"event"),new w("`beforeSend` returned `null`, will not send event.");var m=n&&n.getSession&&n.getSession();return!l&&m&&i._updateSessionFromEvent(m,p),i._sendEvent(p),p}).then(null,function(p){throw p instanceof w?p:(i.captureException(p,{data:{__sentry__:!0},originalException:p}),new w(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: `+p))})},e.prototype._process=function(t){var r=this;this._numProcessing+=1,t.then(function(n){return r._numProcessing-=1,n},function(n){return r._numProcessing-=1,n})},e.prototype._ensureBeforeSendRv=function(t){var r="`beforeSend` method has to return `null` or a valid event.";if(Et(t))return t.then(function(n){if(!(ct(n)||n===null))throw new w(r);return n},function(n){throw new w("beforeSend rejected with "+n)});if(!(ct(t)||t===null))throw new w(r);return t},e}(),ti=function(){function e(){}return e.prototype.sendEvent=function(t){return j.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:Q.Skipped})},e.prototype.close=function(t){return j.resolve(!0)},e}(),ei=function(){function e(t){this._options=t,this._options.dsn||_.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return e.prototype.eventFromException=function(t,r){throw new w("Backend has to implement `eventFromException` method")},e.prototype.eventFromMessage=function(t,r,n){throw new w("Backend has to implement `eventFromMessage` method")},e.prototype.sendEvent=function(t){this._transport.sendEvent(t).then(null,function(r){_.error("Error while sending event: "+r)})},e.prototype.sendSession=function(t){if(!this._transport.sendSession){_.warn("Dropping session because custom transport doesn't implement sendSession");return}this._transport.sendSession(t).then(null,function(r){_.error("Error while sending session: "+r)})},e.prototype.getTransport=function(){return this._transport},e.prototype._setupTransport=function(){return new ti},e}();function Er(e){if(!(!e.metadata||!e.metadata.sdk)){var t=e.metadata.sdk,r=t.name,n=t.version;return{name:r,version:n}}}function ri(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=y(e.sdk.integrations||[],t.integrations||[]),e.sdk.packages=y(e.sdk.packages||[],t.packages||[])),e}function Sr(e,t){var r=Er(t),n=JSON.stringify(d(d({sent_at:new Date().toISOString()},r&&{sdk:r}),t.forceEnvelope()&&{dsn:t.getDsn().toString()})),i="aggregates"in e?"sessions":"session",o=JSON.stringify({type:i});return{body:n+`
`+o+`
`+JSON.stringify(e),type:i,url:t.getEnvelopeEndpointWithUrlEncodedAuth()}}function Tr(e,t){var r=Er(t),n=e.type||"event",i=n==="transaction"||t.forceEnvelope(),o=e.debug_meta||{},a=o.transactionSampling,s=Xe(o,["transactionSampling"]),u=a||{},c=u.method,f=u.rate;Object.keys(s).length===0?delete e.debug_meta:e.debug_meta=s;var l={body:JSON.stringify(r?ri(e,t.metadata.sdk):e),type:n,url:i?t.getEnvelopeEndpointWithUrlEncodedAuth():t.getStoreEndpointWithUrlEncodedAuth()};if(i){var p=JSON.stringify(d(d({event_id:e.event_id,sent_at:new Date().toISOString()},r&&{sdk:r}),t.forceEnvelope()&&{dsn:t.getDsn().toString()})),h=JSON.stringify({type:n,sample_rates:[{id:c,rate:f}]}),v=p+`
`+h+`
`+l.body;l.body=v}return l}function ni(e,t){var r;t.debug===!0&&_.enable();var n=x();(r=n.getScope())===null||r===void 0||r.update(t.initialScope);var i=new e(t);n.bindClient(i)}var wr="6.14.1",kr,ii=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){kr=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=this.__sentry_original__||this;return kr.apply(n,t)}},e.id="FunctionToString",e}(),ai=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],oi=function(){function e(t){t===void 0&&(t={}),this._options=t,this.name=e.id}return e.prototype.setupOnce=function(){Wt(function(t){var r=x();if(!r)return t;var n=r.getIntegration(e);if(n){var i=r.getClient(),o=i?i.getOptions():{},a=typeof n._mergeOptions=="function"?n._mergeOptions(o):{};return typeof n._shouldDropEvent!="function"?t:n._shouldDropEvent(t,a)?null:t}return t})},e.prototype._shouldDropEvent=function(t,r){return this._isSentryError(t,r)?(_.warn(`Event dropped due to being internal Sentry Error.
Event: `+tt(t)),!0):this._isIgnoredError(t,r)?(_.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+tt(t)),!0):this._isDeniedUrl(t,r)?(_.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+tt(t)+`.
Url: `+this._getEventFilterUrl(t)),!0):this._isAllowedUrl(t,r)?!1:(_.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+tt(t)+`.
Url: `+this._getEventFilterUrl(t)),!0)},e.prototype._isSentryError=function(t,r){if(!r.ignoreInternal)return!1;try{return t&&t.exception&&t.exception.values&&t.exception.values[0]&&t.exception.values[0].type==="SentryError"||!1}catch{return!1}},e.prototype._isIgnoredError=function(t,r){return!r.ignoreErrors||!r.ignoreErrors.length?!1:this._getPossibleEventMessages(t).some(function(n){return r.ignoreErrors.some(function(i){return wt(n,i)})})},e.prototype._isDeniedUrl=function(t,r){if(!r.denyUrls||!r.denyUrls.length)return!1;var n=this._getEventFilterUrl(t);return n?r.denyUrls.some(function(i){return wt(n,i)}):!1},e.prototype._isAllowedUrl=function(t,r){if(!r.allowUrls||!r.allowUrls.length)return!0;var n=this._getEventFilterUrl(t);return n?r.allowUrls.some(function(i){return wt(n,i)}):!0},e.prototype._mergeOptions=function(t){return t===void 0&&(t={}),{allowUrls:y(this._options.whitelistUrls||[],this._options.allowUrls||[],t.whitelistUrls||[],t.allowUrls||[]),denyUrls:y(this._options.blacklistUrls||[],this._options.denyUrls||[],t.blacklistUrls||[],t.denyUrls||[]),ignoreErrors:y(this._options.ignoreErrors||[],t.ignoreErrors||[],ai),ignoreInternal:typeof this._options.ignoreInternal!="undefined"?this._options.ignoreInternal:!0}},e.prototype._getPossibleEventMessages=function(t){if(t.message)return[t.message];if(t.exception)try{var r=t.exception.values&&t.exception.values[0]||{},n=r.type,i=n===void 0?"":n,o=r.value,a=o===void 0?"":o;return[""+a,i+": "+a]}catch{return _.error("Cannot extract message for event "+tt(t)),[]}return[]},e.prototype._getLastValidUrl=function(t){t===void 0&&(t=[]);for(var r,n,i=t.length-1;i>=0;i--){var o=t[i];if(((r=o)===null||r===void 0?void 0:r.filename)!=="<anonymous>"&&((n=o)===null||n===void 0?void 0:n.filename)!=="[native code]")return o.filename||null}return null},e.prototype._getEventFilterUrl=function(t){try{if(t.stacktrace){var r=t.stacktrace.frames;return this._getLastValidUrl(r)}if(t.exception){var n=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames;return this._getLastValidUrl(n)}return null}catch{return _.error("Cannot extract url for event "+tt(t)),null}},e.id="InboundFilters",e}(),ht="?",si=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,ui=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,ci=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,fi=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,li=/\((\S*)(?::(\d+))(?::(\d+))\)/,di=/Minified React error #\d+;/i;function Rt(e){var t=null,r=0;e&&(typeof e.framesToPop=="number"?r=e.framesToPop:di.test(e.message)&&(r=1));try{if(t=hi(e),t)return xr(t,r)}catch{}try{if(t=pi(e),t)return xr(t,r)}catch{}return{message:ke(e),name:e&&e.name,stack:[],failed:!0}}function pi(e){var t,r;if(!e||!e.stack)return null;for(var n=[],i=e.stack.split(`
`),o,a,s,u,c=0;c<i.length;++c){if(s=si.exec(i[c])){var f=s[2]&&s[2].indexOf("native")===0;o=s[2]&&s[2].indexOf("eval")===0,o&&(a=li.exec(s[2]))&&(s[2]=a[1],s[3]=a[2],s[4]=a[3]);var l=s[2]&&s[2].indexOf("address at ")===0?s[2].substr("address at ".length):s[2],p=s[1]||ht;t=ot(Or(p,l),2),p=t[0],l=t[1],u={url:l,func:p,args:f?[s[2]]:[],line:s[3]?+s[3]:null,column:s[4]?+s[4]:null}}else if(s=ci.exec(i[c]))u={url:s[2],func:s[1]||ht,args:[],line:+s[3],column:s[4]?+s[4]:null};else if(s=ui.exec(i[c])){o=s[3]&&s[3].indexOf(" > eval")>-1,o&&(a=fi.exec(s[3]))?(s[1]=s[1]||"eval",s[3]=a[1],s[4]=a[2],s[5]=""):c===0&&!s[5]&&e.columnNumber!==void 0&&(n[0].column=e.columnNumber+1);var l=s[3],p=s[1]||ht;r=ot(Or(p,l),2),p=r[0],l=r[1],u={url:l,func:p,args:s[2]?s[2].split(","):[],line:s[4]?+s[4]:null,column:s[5]?+s[5]:null}}else continue;!u.func&&u.line&&(u.func=ht),n.push(u)}return n.length?{message:ke(e),name:e.name,stack:n}:null}function hi(e){if(!e||!e.stacktrace)return null;for(var t=e.stacktrace,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,n=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,i=t.split(`
`),o=[],a,s=0;s<i.length;s+=2){var u=null;(a=r.exec(i[s]))?u={url:a[2],func:a[3],args:[],line:+a[1],column:null}:(a=n.exec(i[s]))&&(u={url:a[6],func:a[3]||a[4],args:a[5]?a[5].split(","):[],line:+a[1],column:+a[2]}),u&&(!u.func&&u.line&&(u.func=ht),o.push(u))}return o.length?{message:ke(e),name:e.name,stack:o}:null}var Or=function(e,t){var r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:ht,r?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]};function xr(e,t){try{return d(d({},e),{stack:e.stack.slice(t)})}catch{return e}}function ke(e){var t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}var vi=50;function Rr(e){var t=Oe(e.stack),r={type:e.name,value:e.message};return t&&t.length&&(r.stacktrace={frames:t}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function _i(e,t,r){var n={exception:{values:[{type:de(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:"Non-Error "+(r?"promise rejection":"exception")+" captured with keys: "+wn(e)}]},extra:{__serialized__:nr(e)}};if(t){var i=Rt(t),o=Oe(i.stack);n.stacktrace={frames:o}}return n}function Ir(e){var t=Rr(e);return{exception:{values:[t]}}}function Oe(e){if(!e||!e.length)return[];var t=e,r=t[0].func||"",n=t[t.length-1].func||"";return(r.indexOf("captureMessage")!==-1||r.indexOf("captureException")!==-1)&&(t=t.slice(1)),n.indexOf("sentryWrapped")!==-1&&(t=t.slice(0,-1)),t.slice(0,vi).map(function(i){return{colno:i.column===null?void 0:i.column,filename:i.url||t[0].url,function:i.func||"?",in_app:!0,lineno:i.line===null?void 0:i.line}}).reverse()}function mi(e,t,r){var n=r&&r.syntheticException||void 0,i=xe(t,n,{attachStacktrace:e.attachStacktrace});return dt(i),i.level=U.Error,r&&r.event_id&&(i.event_id=r.event_id),j.resolve(i)}function gi(e,t,r,n){r===void 0&&(r=U.Info);var i=n&&n.syntheticException||void 0,o=Re(t,i,{attachStacktrace:e.attachStacktrace});return o.level=r,n&&n.event_id&&(o.event_id=n.event_id),j.resolve(o)}function xe(e,t,r){r===void 0&&(r={});var n;if(Ke(e)&&e.error){var i=e;return e=i.error,n=Ir(Rt(e)),n}if(Qe(e)||cn(e)){var o=e,a=o.name||(Qe(o)?"DOMError":"DOMException"),s=o.message?a+": "+o.message:a;return n=Re(s,t,r),ye(n,s),"code"in o&&(n.tags=d(d({},n.tags),{"DOMException.code":""+o.code})),n}if(Ve(e))return n=Ir(Rt(e)),n;if(ct(e)||de(e)){var u=e;return n=_i(u,t,r.rejection),dt(n,{synthetic:!0}),n}return n=Re(e,t,r),ye(n,""+e,void 0),dt(n,{synthetic:!0}),n}function Re(e,t,r){r===void 0&&(r={});var n={message:e};if(r.attachStacktrace&&t){var i=Rt(t),o=Oe(i.stack);n.stacktrace={frames:o}}return n}var D=b(),zt;function Nr(){var e,t;if(zt)return zt;if(ve(D.fetch))return zt=D.fetch.bind(D);var r=D.document,n=D.fetch;if(typeof((e=r)===null||e===void 0?void 0:e.createElement)=="function")try{var i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i),((t=i.contentWindow)===null||t===void 0?void 0:t.fetch)&&(n=i.contentWindow.fetch),r.head.removeChild(i)}catch(o){_.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",o)}return zt=n.bind(D)}function yi(e,t){var r=Object.prototype.toString.call(D&&D.navigator)==="[object Navigator]",n=r&&typeof D.navigator.sendBeacon=="function";if(n){var i=D.navigator.sendBeacon.bind(D.navigator);return i(e,t)}if(Lt()){var o=Nr();return sn(o(e,{body:t,method:"POST",credentials:"omit",keepalive:!0}))}}var Ar={event:"error",transaction:"transaction",session:"session",attachment:"attachment"},Ie=b(),jr=function(){function e(t){var r=this;this.options=t,this._buffer=new Bn(30),this._rateLimits={},this._outcomes={},this._api=new mr(t.dsn,t._metadata,t.tunnel),this.url=this._api.getStoreEndpointWithUrlEncodedAuth(),this.options.sendClientReports&&Ie.document&&Ie.document.addEventListener("visibilitychange",function(){Ie.document.visibilityState==="hidden"&&r._flushOutcomes()})}return e.prototype.sendEvent=function(t){throw new w("Transport Class has to implement `sendEvent` method")},e.prototype.close=function(t){return this._buffer.drain(t)},e.prototype.recordLostEvent=function(t,r){var n;if(!!this.options.sendClientReports){var i=Ar[r]+":"+t;_.log("Adding outcome: "+i),this._outcomes[i]=(n=this._outcomes[i],(n!=null?n:0)+1)}},e.prototype._flushOutcomes=function(){if(!!this.options.sendClientReports){var t=this._outcomes;if(this._outcomes={},!Object.keys(t).length){_.log("No outcomes to flush");return}_.log(`Flushing outcomes:
`+JSON.stringify(t,null,2));var r=this._api.getEnvelopeEndpointWithUrlEncodedAuth(),n=JSON.stringify(d({},this.options.tunnel&&{dsn:this._api.getDsn().toString()})),i=JSON.stringify({type:"client_report"}),o=JSON.stringify({timestamp:Bt(),discarded_events:Object.keys(t).map(function(s){var u=ot(s.split(":"),2),c=u[0],f=u[1];return{reason:f,category:c,quantity:t[s]}})}),a=n+`
`+i+`
`+o;try{yi(r,a)}catch(s){_.error(s)}}},e.prototype._handleResponse=function(t){var r=t.requestType,n=t.response,i=t.headers,o=t.resolve,a=t.reject,s=Q.fromHttpCode(n.status),u=this._handleRateLimit(i);if(u&&_.warn("Too many "+r+" requests, backing off until: "+this._disabledUntil(r)),s===Q.Success){o({status:s});return}a(n)},e.prototype._disabledUntil=function(t){var r=Ar[t];return this._rateLimits[r]||this._rateLimits.all},e.prototype._isRateLimited=function(t){return this._disabledUntil(t)>new Date(Date.now())},e.prototype._handleRateLimit=function(t){var r,n,i,o,a=Date.now(),s=t["x-sentry-rate-limits"],u=t["retry-after"];if(s){try{for(var c=at(s.trim().split(",")),f=c.next();!f.done;f=c.next()){var l=f.value,p=l.split(":",2),h=parseInt(p[0],10),v=(isNaN(h)?60:h)*1e3;try{for(var m=(i=void 0,at(p[1].split(";"))),g=m.next();!g.done;g=m.next()){var E=g.value;this._rateLimits[E||"all"]=new Date(a+v)}}catch(S){i={error:S}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(i)throw i.error}}}}catch(S){r={error:S}}finally{try{f&&!f.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}return!0}else if(u)return this._rateLimits.all=new Date(a+qn(a,u)),!0;return!1},e}(),bi=function(e){W(t,e);function t(r,n){n===void 0&&(n=Nr());var i=e.call(this,r)||this;return i._fetch=n,i}return t.prototype.sendEvent=function(r){return this._sendRequest(Tr(r,this._api),r)},t.prototype.sendSession=function(r){return this._sendRequest(Sr(r,this._api),r)},t.prototype._sendRequest=function(r,n){var i=this;if(this._isRateLimited(r.type))return this.recordLostEvent(P.RateLimitBackoff,r.type),Promise.reject({event:n,type:r.type,reason:"Transport for "+r.type+" requests locked till "+this._disabledUntil(r.type)+" due to too many requests.",status:429});var o={body:r.body,method:"POST",referrerPolicy:On()?"origin":""};return this.options.fetchParameters!==void 0&&Object.assign(o,this.options.fetchParameters),this.options.headers!==void 0&&(o.headers=this.options.headers),this._buffer.add(function(){return new j(function(a,s){i._fetch(r.url,o).then(function(u){var c={"x-sentry-rate-limits":u.headers.get("X-Sentry-Rate-Limits"),"retry-after":u.headers.get("Retry-After")};i._handleResponse({requestType:r.type,response:u,headers:c,resolve:a,reject:s})}).catch(s)})}).then(void 0,function(a){throw a instanceof w?i.recordLostEvent(P.QueueOverflow,r.type):i.recordLostEvent(P.NetworkError,r.type),a})},t}(jr),Ei=function(e){W(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.sendEvent=function(r){return this._sendRequest(Tr(r,this._api),r)},t.prototype.sendSession=function(r){return this._sendRequest(Sr(r,this._api),r)},t.prototype._sendRequest=function(r,n){var i=this;return this._isRateLimited(r.type)?(this.recordLostEvent(P.RateLimitBackoff,r.type),Promise.reject({event:n,type:r.type,reason:"Transport for "+r.type+" requests locked till "+this._disabledUntil(r.type)+" due to too many requests.",status:429})):this._buffer.add(function(){return new j(function(o,a){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState===4){var c={"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")};i._handleResponse({requestType:r.type,response:s,headers:c,resolve:o,reject:a})}},s.open("POST",r.url);for(var u in i.options.headers)Object.prototype.hasOwnProperty.call(i.options.headers,u)&&s.setRequestHeader(u,i.options.headers[u]);s.send(r.body)})}).then(void 0,function(o){throw o instanceof w?i.recordLostEvent(P.QueueOverflow,r.type):i.recordLostEvent(P.NetworkError,r.type),o})},t}(jr),Si=function(e){W(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.eventFromException=function(r,n){return mi(this._options,r,n)},t.prototype.eventFromMessage=function(r,n,i){return n===void 0&&(n=U.Info),gi(this._options,r,n,i)},t.prototype._setupTransport=function(){if(!this._options.dsn)return e.prototype._setupTransport.call(this);var r=d(d({},this._options.transportOptions),{dsn:this._options.dsn,tunnel:this._options.tunnel,sendClientReports:this._options.sendClientReports,_metadata:this._options._metadata});return this._options.transport?new this._options.transport(r):Lt()?new bi(r):new Ei(r)},t}(ei),Gt=b(),Ne=0;function Cr(){return Ne>0}function Ti(){Ne+=1,setTimeout(function(){Ne-=1})}function vt(e,t,r){if(t===void 0&&(t={}),typeof e!="function")return e;try{if(e.__sentry__)return e;if(e.__sentry_wrapped__)return e.__sentry_wrapped__}catch{return e}var n=function(){var a=Array.prototype.slice.call(arguments);try{r&&typeof r=="function"&&r.apply(this,arguments);var s=a.map(function(u){return vt(u,t)});return e.handleEvent?e.handleEvent.apply(this,s):e.apply(this,s)}catch(u){throw Ti(),Jn(function(c){c.addEventProcessor(function(f){var l=d({},f);return t.mechanism&&(ye(l,void 0,void 0),dt(l,t.mechanism)),l.extra=d(d({},l.extra),{arguments:a}),l}),Xn(u)}),u}};try{for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}catch{}e.prototype=e.prototype||{},n.prototype=e.prototype,Object.defineProperty(e,"__sentry_wrapped__",{enumerable:!1,value:n}),Object.defineProperties(n,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:e}});try{var o=Object.getOwnPropertyDescriptor(n,"name");o.configurable&&Object.defineProperty(n,"name",{get:function(){return e.name}})}catch{}return n}function wi(e){if(e===void 0&&(e={}),!!Gt.document){if(!e.eventId){_.error("Missing eventId option in showReportDialog call");return}if(!e.dsn){_.error("Missing dsn option in showReportDialog call");return}var t=Gt.document.createElement("script");t.async=!0,t.src=new mr(e.dsn).getReportDialogEndpoint(e),e.onLoad&&(t.onload=e.onLoad);var r=Gt.document.head||Gt.document.body;r&&r.appendChild(t)}}var ki=function(){function e(t){this.name=e.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=d({onerror:!0,onunhandledrejection:!0},t)}return e.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(_.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(_.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},e.prototype._installGlobalOnErrorHandler=function(){var t=this;this._onErrorHandlerInstalled||(C({callback:function(r){var n=r.error,i=x(),o=i.getIntegration(e),a=n&&n.__sentry_own_request__===!0;if(!(!o||Cr()||a)){var s=i.getClient(),u=n===void 0&&ut(r.msg)?t._eventFromIncompleteOnError(r.msg,r.url,r.line,r.column):t._enhanceEventWithInitialFrame(xe(n||r.msg,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!1}),r.url,r.line,r.column);dt(u,{handled:!1,type:"onerror"}),i.captureEvent(u,{originalException:n})}},type:"error"}),this._onErrorHandlerInstalled=!0)},e.prototype._installGlobalOnUnhandledRejectionHandler=function(){var t=this;this._onUnhandledRejectionHandlerInstalled||(C({callback:function(r){var n=r;try{"reason"in r?n=r.reason:"detail"in r&&"reason"in r.detail&&(n=r.detail.reason)}catch{}var i=x(),o=i.getIntegration(e),a=n&&n.__sentry_own_request__===!0;if(!o||Cr()||a)return!0;var s=i.getClient(),u=Ft(n)?t._eventFromRejectionWithPrimitive(n):xe(n,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!0});u.level=U.Error,dt(u,{handled:!1,type:"onunhandledrejection"}),i.captureEvent(u,{originalException:n})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},e.prototype._eventFromIncompleteOnError=function(t,r,n,i){var o=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,a=Ke(t)?t.message:t,s,u=a.match(o);u&&(s=u[1],a=u[2]);var c={exception:{values:[{type:s||"Error",value:a}]}};return this._enhanceEventWithInitialFrame(c,r,n,i)},e.prototype._eventFromRejectionWithPrimitive=function(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(t)}]}}},e.prototype._enhanceEventWithInitialFrame=function(t,r,n,i){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].stacktrace=t.exception.values[0].stacktrace||{},t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames||[];var o=isNaN(parseInt(i,10))?void 0:i,a=isNaN(parseInt(n,10))?void 0:n,s=ut(r)&&r.length>0?r:pn();return t.exception.values[0].stacktrace.frames.length===0&&t.exception.values[0].stacktrace.frames.push({colno:o,filename:s,function:"?",in_app:!0,lineno:a}),t},e.id="GlobalHandlers",e}(),Oi=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],xi=function(){function e(t){this.name=e.id,this._options=d({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}return e.prototype.setupOnce=function(){var t=b();if(this._options.setTimeout&&O(t,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&O(t,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&O(t,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&O(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget){var r=Array.isArray(this._options.eventTarget)?this._options.eventTarget:Oi;r.forEach(this._wrapEventTarget.bind(this))}},e.prototype._wrapTimeFunction=function(t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=r[0];return r[0]=vt(i,{mechanism:{data:{function:z(t)},handled:!0,type:"instrument"}}),t.apply(this,r)}},e.prototype._wrapRAF=function(t){return function(r){return t.call(this,vt(r,{mechanism:{data:{function:"requestAnimationFrame",handler:z(t)},handled:!0,type:"instrument"}}))}},e.prototype._wrapEventTarget=function(t){var r=b(),n=r[t]&&r[t].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(O(n,"addEventListener",function(i){return function(o,a,s){try{typeof a.handleEvent=="function"&&(a.handleEvent=vt(a.handleEvent.bind(a),{mechanism:{data:{function:"handleEvent",handler:z(a),target:t},handled:!0,type:"instrument"}}))}catch{}return i.call(this,o,vt(a,{mechanism:{data:{function:"addEventListener",handler:z(a),target:t},handled:!0,type:"instrument"}}),s)}}),O(n,"removeEventListener",function(i){return function(o,a,s){var u,c=a;try{var f=(u=c)===null||u===void 0?void 0:u.__sentry_wrapped__;f&&i.call(this,o,f,s)}catch{}return i.call(this,o,c,s)}}))},e.prototype._wrapXHR=function(t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=this,o=["onload","onerror","onprogress","onreadystatechange"];return o.forEach(function(a){a in i&&typeof i[a]=="function"&&O(i,a,function(s){var u={mechanism:{data:{function:a,handler:z(s)},handled:!0,type:"instrument"}};return s.__sentry_original__&&(u.mechanism.data.handler=z(s.__sentry_original__)),vt(s,u)})}),t.apply(this,r)}},e.id="TryCatch",e}(),Pr=function(){function e(t){this.name=e.id,this._options=d({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return e.prototype.addSentryBreadcrumb=function(t){!this._options.sentry||x().addBreadcrumb({category:"sentry."+(t.type==="transaction"?"transaction":"event"),event_id:t.event_id,level:t.level,message:tt(t)},{event:t})},e.prototype.setupOnce=function(){var t=this;this._options.console&&C({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];t._consoleBreadcrumb.apply(t,y(r))},type:"console"}),this._options.dom&&C({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];t._domBreadcrumb.apply(t,y(r))},type:"dom"}),this._options.xhr&&C({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];t._xhrBreadcrumb.apply(t,y(r))},type:"xhr"}),this._options.fetch&&C({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];t._fetchBreadcrumb.apply(t,y(r))},type:"fetch"}),this._options.history&&C({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];t._historyBreadcrumb.apply(t,y(r))},type:"history"})},e.prototype._consoleBreadcrumb=function(t){var r={category:"console",data:{arguments:t.args,logger:"console"},level:U.fromString(t.level),message:er(t.args," ")};if(t.level==="assert")if(t.args[0]===!1)r.message="Assertion failed: "+(er(t.args.slice(1)," ")||"console.assert"),r.data.arguments=t.args.slice(1);else return;x().addBreadcrumb(r,{input:t.args,level:t.level})},e.prototype._domBreadcrumb=function(t){var r,n=typeof this._options.dom=="object"?this._options.dom.serializeAttribute:void 0;typeof n=="string"&&(n=[n]);try{r=t.event.target?ft(t.event.target,n):ft(t.event,n)}catch{r="<unknown>"}r.length!==0&&x().addBreadcrumb({category:"ui."+t.name,message:r},{event:t.event,name:t.name,global:t.global})},e.prototype._xhrBreadcrumb=function(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;var r=t.xhr.__sentry_xhr__||{},n=r.method,i=r.url,o=r.status_code,a=r.body;x().addBreadcrumb({category:"xhr",data:{method:n,url:i,status_code:o},type:"http"},{xhr:t.xhr,input:a});return}},e.prototype._fetchBreadcrumb=function(t){!t.endTimestamp||t.fetchData.url.match(/sentry_key/)&&t.fetchData.method==="POST"||(t.error?x().addBreadcrumb({category:"fetch",data:t.fetchData,level:U.Error,type:"http"},{data:t.error,input:t.args}):x().addBreadcrumb({category:"fetch",data:d(d({},t.fetchData),{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response}))},e.prototype._historyBreadcrumb=function(t){var r=b(),n=t.from,i=t.to,o=ge(r.location.href),a=ge(n),s=ge(i);a.path||(a=o),o.protocol===s.protocol&&o.host===s.host&&(i=s.relative),o.protocol===a.protocol&&o.host===a.host&&(n=a.relative),x().addBreadcrumb({category:"navigation",data:{from:n,to:i}})},e.id="Breadcrumbs",e}(),Ri="cause",Ii=5,Ni=function(){function e(t){t===void 0&&(t={}),this.name=e.id,this._key=t.key||Ri,this._limit=t.limit||Ii}return e.prototype.setupOnce=function(){Wt(function(t,r){var n=x().getIntegration(e);if(n){var i=n._handler&&n._handler.bind(n);return typeof i=="function"?i(t,r):t}return t})},e.prototype._handler=function(t,r){if(!t.exception||!t.exception.values||!r||!q(r.originalException,Error))return t;var n=this._walkErrorTree(r.originalException,this._key);return t.exception.values=y(n,t.exception.values),t},e.prototype._walkErrorTree=function(t,r,n){if(n===void 0&&(n=[]),!q(t[r],Error)||n.length+1>=this._limit)return n;var i=Rt(t[r]),o=Rr(i);return this._walkErrorTree(t[r],r,y([o],n))},e.id="LinkedErrors",e}(),_t=b(),Ai=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){Wt(function(t){var r,n,i;if(x().getIntegration(e)){if(!_t.navigator&&!_t.location&&!_t.document)return t;var o=((r=t.request)===null||r===void 0?void 0:r.url)||((n=_t.location)===null||n===void 0?void 0:n.href),a=(_t.document||{}).referrer,s=(_t.navigator||{}).userAgent,u=d(d(d({},(i=t.request)===null||i===void 0?void 0:i.headers),a&&{Referer:a}),s&&{"User-Agent":s}),c=d(d({},o&&{url:o}),{headers:u});return d(d({},t),{request:c})}return t})},e.id="UserAgent",e}(),ji=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(t,r){t(function(n){var i=r().getIntegration(e);if(i){try{if(i._shouldDropEvent(n,i._previousEvent))return _.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return i._previousEvent=n}return i._previousEvent=n}return n})},e.prototype._shouldDropEvent=function(t,r){return r?!!(this._isSameMessageEvent(t,r)||this._isSameExceptionEvent(t,r)):!1},e.prototype._isSameMessageEvent=function(t,r){var n=t.message,i=r.message;return!(!n&&!i||n&&!i||!n&&i||n!==i||!this._isSameFingerprint(t,r)||!this._isSameStacktrace(t,r))},e.prototype._getFramesFromEvent=function(t){var r=t.exception;if(r)try{return r.values[0].stacktrace.frames}catch{return}else if(t.stacktrace)return t.stacktrace.frames},e.prototype._isSameStacktrace=function(t,r){var n=this._getFramesFromEvent(t),i=this._getFramesFromEvent(r);if(!n&&!i)return!0;if(n&&!i||!n&&i||(n=n,i=i,i.length!==n.length))return!1;for(var o=0;o<i.length;o++){var a=i[o],s=n[o];if(a.filename!==s.filename||a.lineno!==s.lineno||a.colno!==s.colno||a.function!==s.function)return!1}return!0},e.prototype._getExceptionFromEvent=function(t){return t.exception&&t.exception.values&&t.exception.values[0]},e.prototype._isSameExceptionEvent=function(t,r){var n=this._getExceptionFromEvent(r),i=this._getExceptionFromEvent(t);return!(!n||!i||n.type!==i.type||n.value!==i.value||!this._isSameFingerprint(t,r)||!this._isSameStacktrace(t,r))},e.prototype._isSameFingerprint=function(t,r){var n=t.fingerprint,i=r.fingerprint;if(!n&&!i)return!0;if(n&&!i||!n&&i)return!1;n=n,i=i;try{return n.join("")===i.join("")}catch{return!1}},e.id="Dedupe",e}(),Ci=function(e){W(t,e);function t(r){r===void 0&&(r={});var n=this;return r._metadata=r._metadata||{},r._metadata.sdk=r._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:wr}],version:wr},n=e.call(this,Si,r)||this,n}return t.prototype.showReportDialog=function(r){r===void 0&&(r={});var n=b().document;if(!!n){if(!this._isEnabled()){_.error("Trying to call showReportDialog with Sentry Client disabled");return}wi(d(d({},r),{dsn:r.dsn||this.getDsn()}))}},t.prototype._prepareEvent=function(r,n,i){return r.platform=r.platform||"javascript",e.prototype._prepareEvent.call(this,r,n,i)},t.prototype._sendEvent=function(r){var n=this.getIntegration(Pr);n&&n.addSentryBreadcrumb(r),e.prototype._sendEvent.call(this,r)},t}(Zn),Pi=[new oi,new ii,new xi,new Pr,new ki,new Ni,new ji,new Ai];function uo(e){if(e===void 0&&(e={}),e.defaultIntegrations===void 0&&(e.defaultIntegrations=Pi),e.release===void 0){var t=b();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0),ni(Ci,e),e.autoSessionTracking&&Mi()}function Mi(){var e=b(),t=e.document;if(typeof t=="undefined"){_.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}var r=x();typeof r.startSession!="function"||typeof r.captureSession!="function"||(r.startSession({ignoreDuration:!0}),r.captureSession(),C({callback:function(n){var i=n.from,o=n.to;i===void 0||i===o||(r.startSession({ignoreDuration:!0}),r.captureSession())},type:"history"}))}var N;(function(e){e.Ok="ok",e.DeadlineExceeded="deadline_exceeded",e.Unauthenticated="unauthenticated",e.PermissionDenied="permission_denied",e.NotFound="not_found",e.ResourceExhausted="resource_exhausted",e.InvalidArgument="invalid_argument",e.Unimplemented="unimplemented",e.Unavailable="unavailable",e.InternalError="internal_error",e.UnknownError="unknown_error",e.Cancelled="cancelled",e.AlreadyExists="already_exists",e.FailedPrecondition="failed_precondition",e.Aborted="aborted",e.OutOfRange="out_of_range",e.DataLoss="data_loss"})(N||(N={}));(function(e){function t(r){if(r<400)return e.Ok;if(r>=400&&r<500)switch(r){case 401:return e.Unauthenticated;case 403:return e.PermissionDenied;case 404:return e.NotFound;case 409:return e.AlreadyExists;case 413:return e.FailedPrecondition;case 429:return e.ResourceExhausted;default:return e.InvalidArgument}if(r>=500&&r<600)switch(r){case 501:return e.Unimplemented;case 503:return e.Unavailable;case 504:return e.DeadlineExceeded;default:return e.InternalError}return e.UnknownError}e.fromHttpCode=t})(N||(N={}));var Fi=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Ae(e){e===void 0&&(e=(t=x().getClient())===null||t===void 0?void 0:t.getOptions());var t;return e?"tracesSampleRate"in e||"tracesSampler"in e:!1}function Di(e){var t=e.match(Fi);if(t){var r=void 0;return t[3]==="1"?r=!0:t[3]==="0"&&(r=!1),{traceId:t[1],parentSampled:r,parentSpanId:t[2]}}}function Xt(e){e===void 0&&(e=x());var t,r;return(r=(t=e)===null||t===void 0?void 0:t.getScope())===null||r===void 0?void 0:r.getTransaction()}function I(e){return e/1e3}function Li(e){return e*1e3}function Hi(){C({callback:Mr,type:"error"}),C({callback:Mr,type:"unhandledrejection"})}function Mr(){var e=Xt();e&&(_.log("[Tracing] Transaction: "+N.InternalError+" -> Global error occured"),e.setStatus(N.InternalError))}var Fr=function(){function e(t){t===void 0&&(t=1e3),this.spans=[],this._maxlen=t}return e.prototype.add=function(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)},e}(),Ui=function(){function e(t){if(this.traceId=X(),this.spanId=X().substring(16),this.startTimestamp=Ot(),this.tags={},this.data={},!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}return e.prototype.child=function(t){return this.startChild(t)},e.prototype.startChild=function(t){var r=new e(d(d({},t),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return r.spanRecorder=this.spanRecorder,r.spanRecorder&&r.spanRecorder.add(r),r.transaction=this.transaction,r},e.prototype.setTag=function(t,r){var n;return this.tags=d(d({},this.tags),(n={},n[t]=r,n)),this},e.prototype.setData=function(t,r){var n;return this.data=d(d({},this.data),(n={},n[t]=r,n)),this},e.prototype.setStatus=function(t){return this.status=t,this},e.prototype.setHttpStatus=function(t){this.setTag("http.status_code",String(t));var r=N.fromHttpCode(t);return r!==N.UnknownError&&this.setStatus(r),this},e.prototype.isSuccess=function(){return this.status===N.Ok},e.prototype.finish=function(t){this.endTimestamp=typeof t=="number"?t:Ot()},e.prototype.toTraceparent=function(){var t="";return this.sampled!==void 0&&(t=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+t},e.prototype.toContext=function(){return G({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},e.prototype.updateWithContext=function(t){var r,n,i,o,a;return this.data=(r=t.data,r!=null?r:{}),this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=(n=t.spanId,n!=null?n:this.spanId),this.startTimestamp=(i=t.startTimestamp,i!=null?i:this.startTimestamp),this.status=t.status,this.tags=(o=t.tags,o!=null?o:{}),this.traceId=(a=t.traceId,a!=null?a:this.traceId),this},e.prototype.getTraceContext=function(){return G({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},e.prototype.toJSON=function(){return G({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},e}(),Dr=function(e){W(t,e);function t(r,n){var i=e.call(this,r)||this;return i._measurements={},i._hub=x(),q(n,Yt)&&(i._hub=n),i.name=r.name||"",i.metadata=r.metadata||{},i._trimEnd=r.trimEnd,i.transaction=i,i}return t.prototype.setName=function(r){this.name=r},t.prototype.initSpanRecorder=function(r){r===void 0&&(r=1e3),this.spanRecorder||(this.spanRecorder=new Fr(r)),this.spanRecorder.add(this)},t.prototype.setMeasurements=function(r){this._measurements=d({},r)},t.prototype.setMetadata=function(r){this.metadata=d(d({},this.metadata),r)},t.prototype.finish=function(r){var n=this,i,o,a,s,u;if(this.endTimestamp===void 0){if(this.name||(_.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),e.prototype.finish.call(this,r),this.sampled!==!0){_.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),(u=(a=(i=this._hub.getClient())===null||i===void 0?void 0:(o=i).getTransport)===null||a===void 0?void 0:(s=a.call(o)).recordLostEvent)===null||u===void 0||u.call(s,P.SampleRate,"transaction");return}var c=this.spanRecorder?this.spanRecorder.spans.filter(function(p){return p!==n&&p.endTimestamp}):[];this._trimEnd&&c.length>0&&(this.endTimestamp=c.reduce(function(p,h){return p.endTimestamp&&h.endTimestamp?p.endTimestamp>h.endTimestamp?p:h:p}).endTimestamp);var f={contexts:{trace:this.getTraceContext()},spans:c,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this.metadata},l=Object.keys(this._measurements).length>0;return l&&(_.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),f.measurements=this._measurements),_.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(f)}},t.prototype.toContext=function(){var r=e.prototype.toContext.call(this);return G(d(d({},r),{name:this.name,trimEnd:this._trimEnd}))},t.prototype.updateWithContext=function(r){var n;return e.prototype.updateWithContext.call(this,r),this.name=(n=r.name,n!=null?n:""),this._trimEnd=r.trimEnd,this},t}(Ui),Lr=1e3,qi=5e3,Bi=function(e){W(t,e);function t(r,n,i,o){i===void 0&&(i="");var a=e.call(this,o)||this;return a._pushActivity=r,a._popActivity=n,a.transactionSpanId=i,a}return t.prototype.add=function(r){var n=this;r.spanId!==this.transactionSpanId&&(r.finish=function(i){r.endTimestamp=typeof i=="number"?i:Ot(),n._popActivity(r.spanId)},r.endTimestamp===void 0&&this._pushActivity(r.spanId)),e.prototype.add.call(this,r)},t}(Fr),$i=function(e){W(t,e);function t(r,n,i,o){i===void 0&&(i=Lr),o===void 0&&(o=!1);var a=e.call(this,r,n)||this;return a._idleHub=n,a._idleTimeout=i,a._onScope=o,a.activities={},a._heartbeatCounter=0,a._finished=!1,a._beforeFinishCallbacks=[],n&&o&&(Hr(n),_.log("Setting idle transaction on scope. Span ID: "+a.spanId),n.configureScope(function(s){return s.setSpan(a)})),a._initTimeout=setTimeout(function(){a._finished||a.finish()},a._idleTimeout),a}return t.prototype.finish=function(r){var n,i,o=this;if(r===void 0&&(r=Ot()),this._finished=!0,this.activities={},this.spanRecorder){_.log("[Tracing] finishing IdleTransaction",new Date(r*1e3).toISOString(),this.op);try{for(var a=at(this._beforeFinishCallbacks),s=a.next();!s.done;s=a.next()){var u=s.value;u(this,r)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter(function(c){if(c.spanId===o.spanId)return!0;c.endTimestamp||(c.endTimestamp=r,c.setStatus(N.Cancelled),_.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(c,void 0,2)));var f=c.startTimestamp<r;return f||_.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(c,void 0,2)),f}),_.log("[Tracing] flushing IdleTransaction")}else _.log("[Tracing] No active IdleTransaction");return this._onScope&&Hr(this._idleHub),e.prototype.finish.call(this,r)},t.prototype.registerBeforeFinishCallback=function(r){this._beforeFinishCallbacks.push(r)},t.prototype.initSpanRecorder=function(r){var n=this;if(!this.spanRecorder){var i=function(a){n._finished||n._pushActivity(a)},o=function(a){n._finished||n._popActivity(a)};this.spanRecorder=new Bi(i,o,this.spanId,r),_.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},t.prototype._pushActivity=function(r){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),_.log("[Tracing] pushActivity: "+r),this.activities[r]=!0,_.log("[Tracing] new activities count",Object.keys(this.activities).length)},t.prototype._popActivity=function(r){var n=this;if(this.activities[r]&&(_.log("[Tracing] popActivity "+r),delete this.activities[r],_.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){var i=this._idleTimeout,o=Ot()+i/1e3;setTimeout(function(){n._finished||n.finish(o)},i)}},t.prototype._beat=function(){if(!this._finished){var r=Object.keys(this.activities).join("");r===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=r,this._heartbeatCounter>=3?(_.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(N.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},t.prototype._pingHeartbeat=function(){var r=this;_.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),setTimeout(function(){r._beat()},qi)},t}(Dr);function Hr(e){if(e){var t=e.getScope();if(t){var r=t.getTransaction();r&&t.setSpan(void 0)}}}function Wi(){var e=this.getScope();if(e){var t=e.getSpan();if(t)return{"sentry-trace":t.toTraceparent()}}return{}}function Ur(e,t,r){if(!Ae(t))return e.sampled=!1,e;if(e.sampled!==void 0)return e.setMetadata({transactionSampling:{method:st.Explicit}}),e;var n;return typeof t.tracesSampler=="function"?(n=t.tracesSampler(r),e.setMetadata({transactionSampling:{method:st.Sampler,rate:Number(n)}})):r.parentSampled!==void 0?(n=r.parentSampled,e.setMetadata({transactionSampling:{method:st.Inheritance}})):(n=t.tracesSampleRate,e.setMetadata({transactionSampling:{method:st.Rate,rate:Number(n)}})),Yi(n)?n?(e.sampled=Math.random()<n,e.sampled?(_.log("[Tracing] starting "+e.op+" transaction - "+e.name),e):(_.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(n)+")"),e)):(_.log("[Tracing] Discarding transaction because "+(typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(_.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function Yi(e){return isNaN(e)||!(typeof e=="number"||typeof e=="boolean")?(_.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(e)+" of type "+JSON.stringify(typeof e)+"."),!1):e<0||e>1?(_.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+e+"."),!1):!0}function zi(e,t){var r,n,i=((r=this.getClient())===null||r===void 0?void 0:r.getOptions())||{},o=new Dr(e,this);return o=Ur(o,i,d({parentSampled:e.parentSampled,transactionContext:e},t)),o.sampled&&o.initSpanRecorder((n=i._experiments)===null||n===void 0?void 0:n.maxSpans),o}function Gi(e,t,r,n,i){var o,a,s=((o=e.getClient())===null||o===void 0?void 0:o.getOptions())||{},u=new $i(t,e,r,n);return u=Ur(u,s,d({parentSampled:t.parentSampled,transactionContext:t},i)),u.sampled&&u.initSpanRecorder((a=s._experiments)===null||a===void 0?void 0:a.maxSpans),u}function Xi(){var e=pt();!e.__SENTRY__||(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=zi),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=Wi))}function Ji(){var e=pt();if(!!e.__SENTRY__){var t={mongodb:function(){var n=Y(module,"./integrations/node/mongo");return new n.Mongo},mongoose:function(){var n=Y(module,"./integrations/node/mongo");return new n.Mongo({mongoose:!0})},mysql:function(){var n=Y(module,"./integrations/node/mysql");return new n.Mysql},pg:function(){var n=Y(module,"./integrations/node/postgres");return new n.Postgres}},r=Object.keys(t).filter(function(n){return!!Mt(n)}).map(function(n){try{return t[n]()}catch{return}}).filter(function(n){return n});r.length>0&&(e.__SENTRY__.integrations=y(e.__SENTRY__.integrations||[],r))}}function Vi(){Xi(),bt()&&Ji(),Hi()}var Jt=b();function Ki(){Jt&&Jt.document?Jt.document.addEventListener("visibilitychange",function(){var e=Xt();Jt.document.hidden&&e&&(_.log("[Tracing] Transaction: "+N.Cancelled+" -> since tab moved to the background, op: "+e.op),e.status||e.setStatus(N.Cancelled),e.setTag("visibilitychange","document.hidden"),e.finish())}):_.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var je=function(e,t,r){var n;return function(i){t.value>=0&&(i||r)&&(t.delta=t.value-(n||0),(t.delta||n===void 0)&&(n=t.value,e(t)))}},Qi=function(){return"v2-"+Date.now()+"-"+(Math.floor(Math.random()*(9e12-1))+1e12)},Ce=function(e,t){return{name:e,value:t!=null?t:-1,delta:0,entries:[],id:Qi()}},Pe=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if(e==="first-input"&&!("PerformanceEventTiming"in self))return;var r=new PerformanceObserver(function(n){return n.getEntries().map(t)});return r.observe({type:e,buffered:!0}),r}}catch{}},Vt=function(e,t){var r=function(n){(n.type==="pagehide"||b().document.visibilityState==="hidden")&&(e(n),t&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0)},Zi=function(e,t){var r=Ce("CLS",0),n,i=0,o=[],a=function(u){if(u&&!u.hadRecentInput){var c=o[0],f=o[o.length-1];i&&o.length!==0&&u.startTime-f.startTime<1e3&&u.startTime-c.startTime<5e3?(i+=u.value,o.push(u)):(i=u.value,o=[u]),i>r.value&&(r.value=i,r.entries=o,n&&n())}},s=Pe("layout-shift",a);s&&(n=je(e,r,t),Vt(function(){s.takeRecords().map(a),n(!0)}))},Kt=-1,ta=function(){return b().document.visibilityState==="hidden"?0:1/0},ea=function(){Vt(function(e){var t=e.timeStamp;Kt=t},!0)},Me=function(){return Kt<0&&(Kt=ta(),ea()),{get firstHiddenTime(){return Kt}}},ra=function(e,t){var r=Me(),n=Ce("FID"),i,o=function(s){i&&s.startTime<r.firstHiddenTime&&(n.value=s.processingStart-s.startTime,n.entries.push(s),i(!0))},a=Pe("first-input",o);a&&(i=je(e,n,t),Vt(function(){a.takeRecords().map(o),a.disconnect()},!0))},qr={},na=function(e,t){var r=Me(),n=Ce("LCP"),i,o=function(u){var c=u.startTime;c<r.firstHiddenTime&&(n.value=c,n.entries.push(u)),i&&i()},a=Pe("largest-contentful-paint",o);if(a){i=je(e,n,t);var s=function(){qr[n.id]||(a.takeRecords().map(o),a.disconnect(),qr[n.id]=!0,i(!0))};["keydown","click"].forEach(function(u){addEventListener(u,s,{once:!0,capture:!0})}),Vt(s,!0)}},A=b(),ia={_reportAllChanges:!1},aa=function(){function e(t){var r,n;this._measurements={},this._performanceCursor=0,!bt()&&((r=A)===null||r===void 0?void 0:r.performance)&&((n=A)===null||n===void 0?void 0:n.document)&&(A.performance.mark&&A.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(t._reportAllChanges),this._trackFID())}return e.prototype.addPerformanceEntries=function(t){var r=this;if(!(!A||!A.performance||!A.performance.getEntries||!xt)){_.log("[Tracing] Adding & adjusting spans using Performance API");var n=I(xt),i;if(A.document&&A.document.scripts){for(var o=0;o<A.document.scripts.length;o++)if(A.document.scripts[o].dataset.entry==="true"){i=A.document.scripts[o].src;break}}var a,s,u,c;if(A.performance.getEntries().slice(this._performanceCursor).forEach(function(l){var p=I(l.startTime),h=I(l.duration);if(!(t.op==="navigation"&&n+p<t.startTimestamp))switch(l.entryType){case"navigation":{oa(t,l,n),u=n+I(l.responseStart),c=n+I(l.requestStart);break}case"mark":case"paint":case"measure":{var v=sa(t,l,p,h,n);s===void 0&&l.name==="sentry-tracing-init"&&(s=v);var m=Me(),g=l.startTime<m.firstHiddenTime;l.name==="first-paint"&&g&&(_.log("[Measurements] Adding FP"),r._measurements.fp={value:l.startTime},r._measurements["mark.fp"]={value:v}),l.name==="first-contentful-paint"&&g&&(_.log("[Measurements] Adding FCP"),r._measurements.fcp={value:l.startTime},r._measurements["mark.fcp"]={value:v});break}case"resource":{var E=l.name.replace(A.location.origin,""),S=ua(t,l,E,p,h,n);a===void 0&&(i||"").indexOf(E)>-1&&(a=S);break}}}),a!==void 0&&s!==void 0&&et(t,{description:"evaluation",endTimestamp:s,op:"script",startTimestamp:a}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(t),t.op==="pageload"){var f=I(xt);typeof u=="number"&&(_.log("[Measurements] Adding TTFB"),this._measurements.ttfb={value:(u-t.startTimestamp)*1e3},typeof c=="number"&&c<=u&&(this._measurements["ttfb.requestTime"]={value:(u-c)*1e3})),["fcp","fp","lcp"].forEach(function(l){if(!(!r._measurements[l]||f>=t.startTimestamp)){var p=r._measurements[l].value,h=f+I(p),v=Math.abs((h-t.startTimestamp)*1e3),m=v-p;_.log("[Measurements] Normalized "+l+" from "+p+" to "+v+" ("+m+")"),r._measurements[l].value=v}}),this._measurements["mark.fid"]&&this._measurements.fid&&et(t,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+I(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),"fcp"in this._measurements||delete this._measurements.cls,t.setMeasurements(this._measurements),this._tagMetricInfo(t)}}},e.prototype._tagMetricInfo=function(t){this._lcpEntry&&(_.log("[Measurements] Adding LCP Data"),this._lcpEntry.element&&t.setTag("lcp.element",ft(this._lcpEntry.element)),this._lcpEntry.id&&t.setTag("lcp.id",this._lcpEntry.id),this._lcpEntry.url&&t.setTag("lcp.url",this._lcpEntry.url.trim().slice(0,200)),t.setTag("lcp.size",this._lcpEntry.size)),this._clsEntry&&this._clsEntry.sources&&(_.log("[Measurements] Adding CLS Data"),this._clsEntry.sources.forEach(function(r,n){return t.setTag("cls.source."+(n+1),ft(r.node))}))},e.prototype._trackCLS=function(){var t=this;Zi(function(r){var n=r.entries.pop();!n||(_.log("[Measurements] Adding CLS"),t._measurements.cls={value:r.value},t._clsEntry=n)})},e.prototype._trackNavigator=function(t){var r=A.navigator;if(!!r){var n=r.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),Qt(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),Qt(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),Qt(r.deviceMemory)&&t.setTag("deviceMemory",String(r.deviceMemory)),Qt(r.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(r.hardwareConcurrency))}},e.prototype._trackLCP=function(t){var r=this;na(function(n){var i=n.entries.pop();if(!!i){var o=I(xt),a=I(i.startTime);_.log("[Measurements] Adding LCP"),r._measurements.lcp={value:n.value},r._measurements["mark.lcp"]={value:o+a},r._lcpEntry=i}},t)},e.prototype._trackFID=function(){var t=this;ra(function(r){var n=r.entries.pop();if(!!n){var i=I(xt),o=I(n.startTime);_.log("[Measurements] Adding FID"),t._measurements.fid={value:r.value},t._measurements["mark.fid"]={value:i+o}}})},e}();function oa(e,t,r){V({transaction:e,entry:t,event:"unloadEvent",timeOrigin:r}),V({transaction:e,entry:t,event:"redirect",timeOrigin:r}),V({transaction:e,entry:t,event:"domContentLoadedEvent",timeOrigin:r}),V({transaction:e,entry:t,event:"loadEvent",timeOrigin:r}),V({transaction:e,entry:t,event:"connect",timeOrigin:r}),V({transaction:e,entry:t,event:"secureConnection",timeOrigin:r,eventEnd:"connectEnd",description:"TLS/SSL"}),V({transaction:e,entry:t,event:"fetch",timeOrigin:r,eventEnd:"domainLookupStart",description:"cache"}),V({transaction:e,entry:t,event:"domainLookup",timeOrigin:r,description:"DNS"}),ca(e,t,r)}function sa(e,t,r,n,i){var o=i+r,a=o+n;return et(e,{description:t.name,endTimestamp:a,op:t.entryType,startTimestamp:o}),o}function ua(e,t,r,n,i,o){if(!(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")){var a={};"transferSize"in t&&(a["Transfer Size"]=t.transferSize),"encodedBodySize"in t&&(a["Encoded Body Size"]=t.encodedBodySize),"decodedBodySize"in t&&(a["Decoded Body Size"]=t.decodedBodySize);var s=o+n,u=s+i;return et(e,{description:r,endTimestamp:u,op:t.initiatorType?"resource."+t.initiatorType:"resource",startTimestamp:s,data:a}),u}}function V(e){var t=e.transaction,r=e.entry,n=e.event,i=e.timeOrigin,o=e.eventEnd,a=e.description,s=o?r[o]:r[n+"End"],u=r[n+"Start"];!u||!s||et(t,{op:"browser",description:a!=null?a:n,startTimestamp:i+I(u),endTimestamp:i+I(s)})}function ca(e,t,r){et(e,{op:"browser",description:"request",startTimestamp:r+I(t.requestStart),endTimestamp:r+I(t.responseEnd)}),et(e,{op:"browser",description:"response",startTimestamp:r+I(t.responseStart),endTimestamp:r+I(t.responseEnd)})}function et(e,t){var r=t.startTimestamp,n=Xe(t,["startTimestamp"]);return r&&e.startTimestamp>r&&(e.startTimestamp=r),e.startChild(d({startTimestamp:r},n))}function Qt(e){return typeof e=="number"&&isFinite(e)}var fa=["localhost",/^\//],Zt={traceFetch:!0,traceXHR:!0,tracingOrigins:fa};function la(e){var t=d(d({},Zt),e),r=t.traceFetch,n=t.traceXHR,i=t.tracingOrigins,o=t.shouldCreateSpanForRequest,a={},s=function(f){if(a[f])return a[f];var l=i;return a[f]=l.some(function(p){return wt(f,p)})&&!wt(f,"sentry_key"),a[f]},u=s;typeof o=="function"&&(u=function(f){return s(f)&&o(f)});var c={};r&&C({callback:function(f){da(f,u,c)},type:"fetch"}),n&&C({callback:function(f){pa(f,u,c)},type:"xhr"})}function da(e,t,r){if(!(!Ae()||!(e.fetchData&&t(e.fetchData.url)))){if(e.endTimestamp&&e.fetchData.__span){var n=r[e.fetchData.__span];n&&(e.response?n.setHttpStatus(e.response.status):e.error&&n.setStatus(N.InternalError),n.finish(),delete r[e.fetchData.__span]);return}var i=Xt();if(i){var n=i.startChild({data:d(d({},e.fetchData),{type:"fetch"}),description:e.fetchData.method+" "+e.fetchData.url,op:"http.client"});e.fetchData.__span=n.spanId,r[n.spanId]=n;var o=e.args[0]=e.args[0],a=e.args[1]=e.args[1]||{},s=a.headers;q(o,Request)&&(s=o.headers),s?typeof s.append=="function"?s.append("sentry-trace",n.toTraceparent()):Array.isArray(s)?s=y(s,[["sentry-trace",n.toTraceparent()]]):s=d(d({},s),{"sentry-trace":n.toTraceparent()}):s={"sentry-trace":n.toTraceparent()},a.headers=s}}}function pa(e,t,r){var n,i;if(!(!Ae()||((n=e.xhr)===null||n===void 0?void 0:n.__sentry_own_request__)||!(((i=e.xhr)===null||i===void 0?void 0:i.__sentry_xhr__)&&t(e.xhr.__sentry_xhr__.url)))){var o=e.xhr.__sentry_xhr__;if(e.endTimestamp&&e.xhr.__sentry_xhr_span_id__){var a=r[e.xhr.__sentry_xhr_span_id__];a&&(a.setHttpStatus(o.status_code),a.finish(),delete r[e.xhr.__sentry_xhr_span_id__]);return}var s=Xt();if(s){var a=s.startChild({data:d(d({},o.data),{type:"xhr",method:o.method,url:o.url}),description:o.method+" "+o.url,op:"http.client"});if(e.xhr.__sentry_xhr_span_id__=a.spanId,r[e.xhr.__sentry_xhr_span_id__]=a,e.xhr.setRequestHeader)try{e.xhr.setRequestHeader("sentry-trace",a.toTraceparent())}catch{}}}}var It=b();function ha(e,t,r){if(t===void 0&&(t=!0),r===void 0&&(r=!0),!It||!It.location){_.warn("Could not initialize routing instrumentation due to invalid location");return}var n=It.location.href,i;t&&(i=e({name:It.location.pathname,op:"pageload"})),r&&C({callback:function(o){var a=o.to,s=o.from;if(s===void 0&&n&&n.indexOf(a)!==-1){n=void 0;return}s!==a&&(n=void 0,i&&(_.log("[Tracing] Finishing current transaction with op: "+i.op),i.finish()),i=e({name:It.location.pathname,op:"navigation"}))},type:"history"})}var va=600,_a=d({idleTimeout:Lr,markBackgroundTransactions:!0,maxTransactionDuration:va,routingInstrumentation:ha,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},Zt),ma=function(){function e(t){this.name=e.id,this._emitOptionsWarning=!1;var r=Zt.tracingOrigins;t&&t.tracingOrigins&&Array.isArray(t.tracingOrigins)&&t.tracingOrigins.length!==0?r=t.tracingOrigins:this._emitOptionsWarning=!0,this.options=d(d(d({},_a),t),{tracingOrigins:r}),this._metrics=new aa(d(d({},ia),this.options._metricOptions))}return e.prototype.setupOnce=function(t,r){var n=this;this._getCurrentHub=r,this._emitOptionsWarning&&(_.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),_.warn("[Tracing] We added a reasonable default for you: "+Zt.tracingOrigins));var i=this.options,o=i.routingInstrumentation,a=i.startTransactionOnLocationChange,s=i.startTransactionOnPageLoad,u=i.markBackgroundTransactions,c=i.traceFetch,f=i.traceXHR,l=i.tracingOrigins,p=i.shouldCreateSpanForRequest;o(function(h){return n._createRouteTransaction(h)},s,a),u&&Ki(),la({traceFetch:c,traceXHR:f,tracingOrigins:l,shouldCreateSpanForRequest:p})},e.prototype._createRouteTransaction=function(t){var r=this;if(!this._getCurrentHub){_.warn("[Tracing] Did not create "+t.op+" transaction because _getCurrentHub is invalid.");return}var n=this.options,i=n.beforeNavigate,o=n.idleTimeout,a=n.maxTransactionDuration,s=t.op==="pageload"?ga():void 0,u=d(d(d({},t),s),{trimEnd:!0}),c=typeof i=="function"?i(u):u,f=c===void 0?d(d({},u),{sampled:!1}):c;f.sampled===!1&&_.log("[Tracing] Will not send "+f.op+" transaction because of beforeNavigate."),_.log("[Tracing] Starting "+f.op+" transaction on scope");var l=this._getCurrentHub(),p=b().location,h=Gi(l,f,o,!0,{location:p});return h.registerBeforeFinishCallback(function(v,m){r._metrics.addPerformanceEntries(v),ba(Li(a),v,m)}),h},e.id="BrowserTracing",e}();function ga(){var e=ya("sentry-trace");if(e)return Di(e)}function ya(e){var t=b().document.querySelector("meta[name="+e+"]");return t?t.getAttribute("content"):null}function ba(e,t,r){var n=r-t.startTimestamp,i=r&&(n>e||n<0);i&&(t.setStatus(N.DeadlineExceeded),t.setTag("maxTransactionDurationExceeded","true"))}var Ea=function(){function e(t){t===void 0&&(t={}),this.name=e.id,this._router=t.router||t.app,this._methods=(Array.isArray(t.methods)?t.methods:[]).concat("use")}return e.prototype.setupOnce=function(){if(!this._router){_.error("ExpressIntegration is missing an Express instance");return}wa(this._router,this._methods)},e.id="Express",e}();function Br(e,t){var r=e.length;switch(r){case 2:return function(n,i){var o=i.__sentry_transaction;if(o){var a=o.startChild({description:e.name,op:"middleware."+t});i.once("finish",function(){a.finish()})}return e.call(this,n,i)};case 3:return function(n,i,o){var a,s=i.__sentry_transaction,u=(a=s)===null||a===void 0?void 0:a.startChild({description:e.name,op:"middleware."+t});e.call(this,n,i,function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];var l;(l=u)===null||l===void 0||l.finish(),o.call.apply(o,y([this],c))})};case 4:return function(n,i,o,a){var s,u=o.__sentry_transaction,c=(s=u)===null||s===void 0?void 0:s.startChild({description:e.name,op:"middleware."+t});e.call(this,n,i,o,function(){for(var f=[],l=0;l<arguments.length;l++)f[l]=arguments[l];var p;(p=c)===null||p===void 0||p.finish(),a.call.apply(a,y([this],f))})};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+r)}}function Sa(e,t){return e.map(function(r){return typeof r=="function"?Br(r,t):Array.isArray(r)?r.map(function(n){return typeof n=="function"?Br(n,t):n}):r})}function Ta(e,t){var r=e[t];return e[t]=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return r.call.apply(r,y([this],Sa(n,t)))},e}function wa(e,t){t===void 0&&(t=[]),t.forEach(function(r){return Ta(e,r)})}var ka=function(){function e(t){t===void 0&&(t={}),this.name=e.id,this._usePgNative=!!t.usePgNative}return e.prototype.setupOnce=function(t,r){var n,i=Mt("pg");if(!i){_.error("Postgres Integration was unable to require `pg` package.");return}if(this._usePgNative&&!((n=i.native)===null||n===void 0?void 0:n.Client)){_.error("Postgres Integration was unable to access 'pg-native' bindings.");return}var o=(this._usePgNative?i.native:i).Client;O(o.prototype,"query",function(a){return function(s,u,c){var f,l,p,h=r().getScope(),v=(f=h)===null||f===void 0?void 0:f.getSpan(),m=(l=v)===null||l===void 0?void 0:l.startChild({description:typeof s=="string"?s:s.text,op:"db"});if(typeof c=="function")return a.call(this,s,u,function(E,S){var k;(k=m)===null||k===void 0||k.finish(),c(E,S)});if(typeof u=="function")return a.call(this,s,function(E,S){var k;(k=m)===null||k===void 0||k.finish(),u(E,S)});var g=typeof u!="undefined"?a.call(this,s,u):a.call(this,s);return Et(g)?g.then(function(E){var S;return(S=m)===null||S===void 0||S.finish(),E}):((p=m)===null||p===void 0||p.finish(),g)}})},e.id="Postgres",e}(),Oa=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(t,r){var n=Mt("mysql/lib/Connection.js");if(!n){_.error("Mysql Integration was unable to require `mysql` package.");return}O(n,"createQuery",function(i){return function(o,a,s){var u,c,f=r().getScope(),l=(u=f)===null||u===void 0?void 0:u.getSpan(),p=(c=l)===null||c===void 0?void 0:c.startChild({description:typeof o=="string"?o:o.sql,op:"db"});return typeof s=="function"?i.call(this,o,a,function(h,v,m){var g;(g=p)===null||g===void 0||g.finish(),s(h,v,m)}):typeof a=="function"?i.call(this,o,function(h,v,m){var g;(g=p)===null||g===void 0||g.finish(),a(h,v,m)}):i.call(this,o,a,s)}})},e.id="Mysql",e}(),xa=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],Ra={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},Ia=function(){function e(t){t===void 0&&(t={}),this.name=e.id,this._operations=Array.isArray(t.operations)?t.operations:xa,this._describeOperations="describeOperations"in t?t.describeOperations:!0,this._useMongoose=!!t.useMongoose}return e.prototype.setupOnce=function(t,r){var n=this._useMongoose?"mongoose":"mongodb",i=Mt(n);if(!i){_.error("Mongo Integration was unable to require `"+n+"` package.");return}this._instrumentOperations(i.Collection,this._operations,r)},e.prototype._instrumentOperations=function(t,r,n){var i=this;r.forEach(function(o){return i._patchOperation(t,o,n)})},e.prototype._patchOperation=function(t,r,n){if(r in t.prototype){var i=this._getSpanContextFromOperationArguments.bind(this);O(t.prototype,r,function(o){return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var u,c,f,l,p=a[a.length-1],h=n().getScope(),v=(u=h)===null||u===void 0?void 0:u.getSpan();if(typeof p!="function"||r==="mapReduce"&&a.length===2){var m=(c=v)===null||c===void 0?void 0:c.startChild(i(this,r,a)),g=o.call.apply(o,y([this],a));return Et(g)?g.then(function(S){var k;return(k=m)===null||k===void 0||k.finish(),S}):((f=m)===null||f===void 0||f.finish(),g)}var E=(l=v)===null||l===void 0?void 0:l.startChild(i(this,r,a.slice(0,-1)));return o.call.apply(o,y([this],a.slice(0,-1),[function(S,k){var it;(it=E)===null||it===void 0||it.finish(),p(S,k)}]))}})}},e.prototype._getSpanContextFromOperationArguments=function(t,r,n){var i={collectionName:t.collectionName,dbName:t.dbName,namespace:t.namespace},o={op:"db",description:r,data:i},a=Ra[r],s=Array.isArray(this._describeOperations)?this._describeOperations.includes(r):this._describeOperations;if(!a||!s)return o;try{if(r==="mapReduce"){var u=ot(n,2),c=u[0],f=u[1];i[a[0]]=typeof c=="string"?c:c.name||"<anonymous>",i[a[1]]=typeof f=="string"?f:f.name||"<anonymous>"}else for(var l=0;l<a.length;l++)i[a[l]]=JSON.stringify(n[l])}catch{}return o},e.id="Mongo",e}(),Na=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Express:Ea,Postgres:ka,Mysql:Oa,Mongo:Ia}),co=d(d({},Na),{BrowserTracing:ma});Vi();function M(){}const Aa=e=>e;function ja(e,t){for(const r in t)e[r]=t[r];return e}function $r(e){return e()}function Wr(){return Object.create(null)}function mt(e){e.forEach($r)}function te(e){return typeof e=="function"}function Yr(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let ee;function fo(e,t){return ee||(ee=document.createElement("a")),ee.href=t,e===ee.href}function Ca(e){return Object.keys(e).length===0}function zr(e,...t){if(e==null)return M;const r=e.subscribe(...t);return r.unsubscribe?()=>r.unsubscribe():r}function Pa(e,t,r){e.$$.on_destroy.push(zr(t,r))}function lo(e,t,r,n){if(e){const i=Gr(e,t,r,n);return e[0](i)}}function Gr(e,t,r,n){return e[1]&&n?ja(r.ctx.slice(),e[1](n(t))):r.ctx}function po(e,t,r,n){if(e[2]&&n){const i=e[2](n(r));if(t.dirty===void 0)return i;if(typeof i=="object"){const o=[],a=Math.max(t.dirty.length,i.length);for(let s=0;s<a;s+=1)o[s]=t.dirty[s]|i[s];return o}return t.dirty|i}return t.dirty}function ho(e,t,r,n,i,o){if(i){const a=Gr(t,r,n,o);e.p(a,i)}}function vo(e){if(e.ctx.length>32){const t=[],r=e.ctx.length/32;for(let n=0;n<r;n++)t[n]=-1;return t}return-1}function _o(e){return e==null?"":e}function mo(e,t,r){return e.set(r),t}function go(e){return e&&te(e.destroy)?e.destroy:M}const Xr=typeof window!="undefined";let Ma=Xr?()=>window.performance.now():()=>Date.now(),Fe=Xr?e=>requestAnimationFrame(e):M;const gt=new Set;function Jr(e){gt.forEach(t=>{t.c(e)||(gt.delete(t),t.f())}),gt.size!==0&&Fe(Jr)}function Fa(e){let t;return gt.size===0&&Fe(Jr),{promise:new Promise(r=>{gt.add(t={c:e,f:r})}),abort(){gt.delete(t)}}}function Da(e,t){e.appendChild(t)}function Vr(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function La(e){const t=Ua("style");return Ha(Vr(e),t),t}function Ha(e,t){Da(e.head||e,t)}function De(e,t,r){e.insertBefore(t,r||null)}function re(e){e.parentNode.removeChild(e)}function yo(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function Ua(e){return document.createElement(e)}function bo(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Kr(e){return document.createTextNode(e)}function Eo(){return Kr(" ")}function Le(){return Kr("")}function So(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function To(e){return function(t){t.target===this&&e.call(this,t)}}function wo(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function qa(e){return Array.from(e.childNodes)}function ko(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function Oo(e,t){e.value=t==null?"":t}function xo(e,t,r,n){e.style.setProperty(t,r,n?"important":"")}function Qr(e,t,r=!1){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,r,!1,t),n}const He=new Set;let ne=0;function Ba(e){let t=5381,r=e.length;for(;r--;)t=(t<<5)-t^e.charCodeAt(r);return t>>>0}function $a(e,t,r,n,i,o,a,s=0){const u=16.666/n;let c=`{
`;for(let g=0;g<=1;g+=u){const E=t+(r-t)*o(g);c+=g*100+`%{${a(E,1-E)}}
`}const f=c+`100% {${a(r,1-r)}}
}`,l=`__svelte_${Ba(f)}_${s}`,p=Vr(e);He.add(p);const h=p.__svelte_stylesheet||(p.__svelte_stylesheet=La(e).sheet),v=p.__svelte_rules||(p.__svelte_rules={});v[l]||(v[l]=!0,h.insertRule(`@keyframes ${l} ${f}`,h.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${l} ${n}ms linear ${i}ms 1 both`,ne+=1,l}function Zr(e,t){const r=(e.style.animation||"").split(", "),n=r.filter(t?o=>o.indexOf(t)<0:o=>o.indexOf("__svelte")===-1),i=r.length-n.length;i&&(e.style.animation=n.join(", "),ne-=i,ne||Wa())}function Wa(){Fe(()=>{ne||(He.forEach(e=>{const t=e.__svelte_stylesheet;let r=t.cssRules.length;for(;r--;)t.deleteRule(r);e.__svelte_rules={}}),He.clear())})}let ie;function ae(e){ie=e}function Ue(){if(!ie)throw new Error("Function called outside component initialization");return ie}function Ro(e){Ue().$$.on_mount.push(e)}function Io(e){Ue().$$.on_destroy.push(e)}function Ya(){const e=Ue();return(t,r)=>{const n=e.$$.callbacks[t];if(n){const i=Qr(t,r);n.slice().forEach(o=>{o.call(e,i)})}}}const Nt=[],tn=[],oe=[],qe=[],za=Promise.resolve();let Be=!1;function Ga(){Be||(Be=!0,za.then(en))}function se(e){oe.push(e)}function No(e){qe.push(e)}let $e=!1;const We=new Set;function en(){if(!$e){$e=!0;do{for(let e=0;e<Nt.length;e+=1){const t=Nt[e];ae(t),Xa(t.$$)}for(ae(null),Nt.length=0;tn.length;)tn.pop()();for(let e=0;e<oe.length;e+=1){const t=oe[e];We.has(t)||(We.add(t),t())}oe.length=0}while(Nt.length);for(;qe.length;)qe.pop()();Be=!1,$e=!1,We.clear()}}function Xa(e){if(e.fragment!==null){e.update(),mt(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(se)}}let At;function Ja(){return At||(At=Promise.resolve(),At.then(()=>{At=null})),At}function rn(e,t,r){e.dispatchEvent(Qr(`${t?"intro":"outro"}${r}`))}const ue=new Set;let rt;function Ye(){rt={r:0,c:[],p:rt}}function ze(){rt.r||mt(rt.c),rt=rt.p}function K(e,t){e&&e.i&&(ue.delete(e),e.i(t))}function nt(e,t,r,n){if(e&&e.o){if(ue.has(e))return;ue.add(e),rt.c.push(()=>{ue.delete(e),n&&(r&&e.d(1),n())}),e.o(t)}}const Va={duration:0};function Ao(e,t,r){let n=t(e,r),i=!1,o,a,s=0;function u(){o&&Zr(e,o)}function c(){const{delay:l=0,duration:p=300,easing:h=Aa,tick:v=M,css:m}=n||Va;m&&(o=$a(e,0,1,p,l,h,m,s++)),v(0,1);const g=Ma()+l,E=g+p;a&&a.abort(),i=!0,se(()=>rn(e,!0,"start")),a=Fa(S=>{if(i){if(S>=E)return v(1,0),rn(e,!0,"end"),u(),i=!1;if(S>=g){const k=h((S-g)/p);v(k,1-k)}}return i})}let f=!1;return{start(){f||(f=!0,Zr(e),te(n)?(n=n(),Ja().then(c)):c())},invalidate(){f=!1},end(){i&&(u(),i=!1)}}}function jo(e,t){nt(e,1,1,()=>{t.delete(e.key)})}function Co(e,t,r,n,i,o,a,s,u,c,f,l){let p=e.length,h=o.length,v=p;const m={};for(;v--;)m[e[v].key]=v;const g=[],E=new Map,S=new Map;for(v=h;v--;){const R=l(i,o,v),L=r(R);let H=a.get(L);H?n&&H.p(R,t):(H=c(L,R),H.c()),E.set(L,g[v]=H),L in m&&S.set(L,Math.abs(v-m[L]))}const k=new Set,it=new Set;function fe(R){K(R,1),R.m(s,f),a.set(R.key,R),f=R.first,h--}for(;p&&h;){const R=g[h-1],L=e[p-1],H=R.key,Pt=L.key;R===L?(f=R.first,p--,h--):E.has(Pt)?!a.has(H)||k.has(H)?fe(R):it.has(Pt)?p--:S.get(H)>S.get(Pt)?(it.add(H),fe(R)):(k.add(Pt),p--):(u(L,a),p--)}for(;p--;){const R=e[p];E.has(R.key)||u(R,a)}for(;h;)fe(g[h-1]);return g}function Po(e,t,r){const n=e.$$.props[t];n!==void 0&&(e.$$.bound[n]=r,r(e.$$.ctx[n]))}function ce(e){e&&e.c()}function jt(e,t,r,n){const{fragment:i,on_mount:o,on_destroy:a,after_update:s}=e.$$;i&&i.m(t,r),n||se(()=>{const u=o.map($r).filter(te);a?a.push(...u):mt(u),e.$$.on_mount=[]}),s.forEach(se)}function Ct(e,t){const r=e.$$;r.fragment!==null&&(mt(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function Ka(e,t){e.$$.dirty[0]===-1&&(Nt.push(e),Ga(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Qa(e,t,r,n,i,o,a,s=[-1]){const u=ie;ae(e);const c=e.$$={fragment:null,ctx:null,props:o,update:M,not_equal:i,bound:Wr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:Wr(),dirty:s,skip_bound:!1,root:t.target||u.$$.root};a&&a(c.root);let f=!1;if(c.ctx=r?r(e,t.props||{},(l,p,...h)=>{const v=h.length?h[0]:p;return c.ctx&&i(c.ctx[l],c.ctx[l]=v)&&(!c.skip_bound&&c.bound[l]&&c.bound[l](v),f&&Ka(e,l)),p}):[],c.update(),f=!0,mt(c.before_update),c.fragment=n?n(c.ctx):!1,t.target){if(t.hydrate){const l=qa(t.target);c.fragment&&c.fragment.l(l),l.forEach(re)}else c.fragment&&c.fragment.c();t.intro&&K(e.$$.fragment),jt(e,t.target,t.anchor,t.customElement),en()}ae(u)}class Za{$destroy(){Ct(this,1),this.$destroy=M}$on(t,r){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(r),()=>{const i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(t){this.$$set&&!Ca(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const yt=[];function nn(e,t){return{subscribe:to(e,t).subscribe}}function to(e,t=M){let r;const n=new Set;function i(s){if(Yr(e,s)&&(e=s,r)){const u=!yt.length;for(const c of n)c[1](),yt.push(c,e);if(u){for(let c=0;c<yt.length;c+=2)yt[c][0](yt[c+1]);yt.length=0}}}function o(s){i(s(e))}function a(s,u=M){const c=[s,u];return n.add(c),n.size===1&&(r=t(i)||M),s(e),()=>{n.delete(c),n.size===0&&(r(),r=null)}}return{set:i,update:o,subscribe:a}}function an(e,t,r){const n=!Array.isArray(e),i=n?[e]:e,o=t.length<2;return nn(r,a=>{let s=!1;const u=[];let c=0,f=M;const l=()=>{if(c)return;f();const h=t(n?u[0]:u,a);o?a(h):f=te(h)?h:M},p=i.map((h,v)=>zr(h,m=>{u[v]=m,c&=~(1<<v),s&&l()},()=>{c|=1<<v}));return s=!0,l(),function(){mt(p),f()}})}function eo(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,i,o,a=[],s="",u=e.split("/");for(u[0]||u.shift();i=u.shift();)r=i[0],r==="*"?(a.push("wild"),s+="/(.*)"):r===":"?(n=i.indexOf("?",1),o=i.indexOf(".",1),a.push(i.substring(1,~n?n:~o?o:i.length)),s+=!!~n&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(s+=(~n?"?":"")+"\\"+i.substring(o))):s+="/"+i;return{keys:a,pattern:new RegExp("^"+s+(t?"(?=$|/)":"/?$"),"i")}}function ro(e){let t,r,n;var i=e[0];function o(a){return{}}return i&&(t=new i(o())),{c(){t&&ce(t.$$.fragment),r=Le()},m(a,s){t&&jt(t,a,s),De(a,r,s),n=!0},p(a,s){if(i!==(i=a[0])){if(t){Ye();const u=t;nt(u.$$.fragment,1,0,()=>{Ct(u,1)}),ze()}i?(t=new i(o()),ce(t.$$.fragment),K(t.$$.fragment,1),jt(t,r.parentNode,r)):t=null}},i(a){n||(t&&K(t.$$.fragment,a),n=!0)},o(a){t&&nt(t.$$.fragment,a),n=!1},d(a){a&&re(r),t&&Ct(t,a)}}}function no(e){let t,r,n;var i=e[0];function o(a){return{props:{params:a[1]}}}return i&&(t=new i(o(e))),{c(){t&&ce(t.$$.fragment),r=Le()},m(a,s){t&&jt(t,a,s),De(a,r,s),n=!0},p(a,s){const u={};if(s&2&&(u.params=a[1]),i!==(i=a[0])){if(t){Ye();const c=t;nt(c.$$.fragment,1,0,()=>{Ct(c,1)}),ze()}i?(t=new i(o(a)),ce(t.$$.fragment),K(t.$$.fragment,1),jt(t,r.parentNode,r)):t=null}else i&&t.$set(u)},i(a){n||(t&&K(t.$$.fragment,a),n=!0)},o(a){t&&nt(t.$$.fragment,a),n=!1},d(a){a&&re(r),t&&Ct(t,a)}}}function io(e){let t,r,n,i;const o=[no,ro],a=[];function s(u,c){return u[1]?0:1}return t=s(e),r=a[t]=o[t](e),{c(){r.c(),n=Le()},m(u,c){a[t].m(u,c),De(u,n,c),i=!0},p(u,[c]){let f=t;t=s(u),t===f?a[t].p(u,c):(Ye(),nt(a[f],1,1,()=>{a[f]=null}),ze(),r=a[t],r?r.p(u,c):(r=a[t]=o[t](u),r.c()),K(r,1),r.m(n.parentNode,n))},i(u){i||(K(r),i=!0)},o(u){nt(r),i=!1},d(u){a[t].d(u),u&&re(n)}}}function on(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const r=t.indexOf("?");let n="";return r>-1&&(n=t.substr(r+1),t=t.substr(0,r)),{location:t,querystring:n}}const Ge=nn(on(),function(t){const r=()=>{t(on())};return window.addEventListener("hashchange",r,!1),function(){window.removeEventListener("hashchange",r,!1)}}),Mo=an(Ge,e=>e.location);an(Ge,e=>e.querystring);function Fo(e){if(!e||e.length<1||e.charAt(0)!="/"&&e.indexOf("#/")!==0)throw Error("Invalid parameter location");setTimeout(()=>{window.location.hash=(e.charAt(0)=="#"?"":"#")+e},0)}function ao(e,t,r){let n,i=M;Pa(e,Ge,h=>r(4,n=h)),e.$$.on_destroy.push(()=>i());let{routes:o={}}=t,{prefix:a=""}=t;class s{constructor(v,m){if(!m||typeof m!="function"&&(typeof m!="object"||m._sveltesparouter!==!0))throw Error("Invalid component object");if(!v||typeof v=="string"&&(v.length<1||v.charAt(0)!="/"&&v.charAt(0)!="*")||typeof v=="object"&&!(v instanceof RegExp))throw Error('Invalid value for "path" argument');const{pattern:g,keys:E}=eo(v);this.path=v,typeof m=="object"&&m._sveltesparouter===!0?(this.component=m.route,this.conditions=m.conditions||[],this.userData=m.userData):(this.component=m,this.conditions=[],this.userData=void 0),this._pattern=g,this._keys=E}match(v){a&&v.startsWith(a)&&(v=v.substr(a.length)||"/");const m=this._pattern.exec(v);if(m===null)return null;if(this._keys===!1)return m;const g={};let E=0;for(;E<this._keys.length;)g[this._keys[E]]=m[++E]||null;return g}checkConditions(v){for(let m=0;m<this.conditions.length;m++)if(!this.conditions[m](v))return!1;return!0}}const u=[];o instanceof Map?o.forEach((h,v)=>{u.push(new s(v,h))}):Object.keys(o).forEach(h=>{u.push(new s(h,o[h]))});let c=null,f=null;const l=Ya(),p=(h,v)=>{setTimeout(()=>{l(h,v)},0)};return e.$$set=h=>{"routes"in h&&r(2,o=h.routes),"prefix"in h&&r(3,a=h.prefix)},e.$$.update=()=>{if(e.$$.dirty&17){r(0,c=null);let h=0;for(;!c&&h<u.length;){const v=u[h].match(n.location);if(v){const m={component:u[h].component,name:u[h].component.name,location:n.location,querystring:n.querystring,userData:u[h].userData};if(!u[h].checkConditions(m)){p("conditionsFailed",m);break}r(0,c=u[h].component),v&&typeof v=="object"&&Object.keys(v).length?r(1,f=v):r(1,f=null),p("routeLoaded",m)}h++}}},[c,f,o,a,n]}class Do extends Za{constructor(t){super();Qa(this,t,ao,io,Yr,{routes:2,prefix:3})}}function oo(e){var t={};t.Ya=function(i,o,a){return o!=null&&(i=Math.max(i,o)),a!=null&&(i=Math.min(i,a)),i},t.Za=function(i,o,a){return a-=o,((i-o)%a+a)%a+o},t.w=function(i){return i?i.length:0},t.E=function(i,o,a){i-=0,o-=0,a||(i=t.Ya(i,-90,90),o!=180&&(o=t.Za(o,-180,180))),this.lat=function(){return i},this.lng=function(){return o}};function r(i){for(var o=t.w(i),a=Array(Math.floor(i.length/2)),s=0,u=0,c=0,f=0;s<o;++f){var l=1,p=0,h;do h=i.charCodeAt(s++)-63-1,l+=h<<p,p+=5;while(31<=h);u+=l&1?~(l>>1):l>>1,l=1,p=0;do h=i.charCodeAt(s++)-63-1,l+=h<<p,p+=5;while(31<=h);c+=l&1?~(l>>1):l>>1,a[f]=new t.E(1e-5*u,1e-5*c,!0)}return a.length=f,a}var n=r(e).map(function(i){return{lat:Number(i.lat().toFixed(5)),lng:Number(i.lng().toFixed(5))}});return n}var Lo=oo;function so(e){const t=e-1;return t*t*t+1}function Ho(e,{delay:t=0,duration:r=400,easing:n=so,x:i=0,y:o=0,opacity:a=0}={}){const s=getComputedStyle(e),u=+s.opacity,c=s.transform==="none"?"":s.transform,f=u*(1-a);return{delay:t,duration:r,easing:n,css:(l,p)=>`
			transform: ${c} translate(${(1-l)*i}px, ${(1-l)*o}px);
			opacity: ${u-f*p}`}}function Uo(e,t="body"){var r;return typeof t!="string"?r=t:r=document.querySelector(t),r.appendChild(e),{destroy(){e.remove()}}}function qo(e,t){const r=n=>{var i=n.composedPath();i.includes(e)||t()};return document.addEventListener("click",r),{destroy(){document.removeEventListener("click",r)}}}export{Do as $,Ct as A,Kr as B,Lo as C,ko as D,xo as E,se as F,Ao as G,Le as H,Ye as I,ze as J,Ho as K,go as L,Uo as M,mt as N,tn as O,Po as P,No as Q,Ro as R,Za as S,Io as T,yo as U,Co as V,jo as W,Oo as X,bo as Y,mo as Z,qo as _,wo as a,uo as a0,co as a1,De as b,Da as c,re as d,Ua as e,Ya as f,lo as g,Eo as h,Qa as i,vo as j,po as k,So as l,nt as m,M as n,Pa as o,Mo as p,Fo as q,ce as r,Yr as s,K as t,ho as u,fo as v,to as w,_o as x,jt as y,To as z};
